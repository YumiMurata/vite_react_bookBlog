var $b=Object.defineProperty;var Wb=(n,e,t)=>e in n?$b(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ci=(n,e,t)=>Wb(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(u){if(u.ep)return;u.ep=!0;const o=t(u);fetch(u.href,o)}})();function jp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Gb(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var u=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,u.get?u:{enumerable:!0,get:function(){return n[i]}})}),t}var sh={exports:{}},ta={},uh={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function Kb(){if(Jg)return je;Jg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function m($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function I($,Z,ie){this.props=$,this.context=Z,this.refs=S,this.updater=ie||g}I.prototype.isReactComponent={},I.prototype.setState=function($,Z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Z,"setState")},I.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function T(){}T.prototype=I.prototype;function C($,Z,ie){this.props=$,this.context=Z,this.refs=S,this.updater=ie||g}var D=C.prototype=new T;D.constructor=C,E(D,I.prototype),D.isPureReactComponent=!0;var A=Array.isArray,R=Object.prototype.hasOwnProperty,F={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function P($,Z,ie){var Ae,Ne={},Le=null,Fe=null;if(Z!=null)for(Ae in Z.ref!==void 0&&(Fe=Z.ref),Z.key!==void 0&&(Le=""+Z.key),Z)R.call(Z,Ae)&&!k.hasOwnProperty(Ae)&&(Ne[Ae]=Z[Ae]);var ze=arguments.length-2;if(ze===1)Ne.children=ie;else if(1<ze){for(var Je=Array(ze),ct=0;ct<ze;ct++)Je[ct]=arguments[ct+2];Ne.children=Je}if($&&$.defaultProps)for(Ae in ze=$.defaultProps,ze)Ne[Ae]===void 0&&(Ne[Ae]=ze[Ae]);return{$$typeof:n,type:$,key:Le,ref:Fe,props:Ne,_owner:F.current}}function L($,Z){return{$$typeof:n,type:$.type,key:Z,ref:$.ref,props:$.props,_owner:$._owner}}function U($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function O($){var Z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ie){return Z[ie]})}var j=/\/+/g;function V($,Z){return typeof $=="object"&&$!==null&&$.key!=null?O(""+$.key):Z.toString(36)}function fe($,Z,ie,Ae,Ne){var Le=typeof $;(Le==="undefined"||Le==="boolean")&&($=null);var Fe=!1;if($===null)Fe=!0;else switch(Le){case"string":case"number":Fe=!0;break;case"object":switch($.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=$,Ne=Ne(Fe),$=Ae===""?"."+V(Fe,0):Ae,A(Ne)?(ie="",$!=null&&(ie=$.replace(j,"$&/")+"/"),fe(Ne,Z,ie,"",function(ct){return ct})):Ne!=null&&(U(Ne)&&(Ne=L(Ne,ie+(!Ne.key||Fe&&Fe.key===Ne.key?"":(""+Ne.key).replace(j,"$&/")+"/")+$)),Z.push(Ne)),1;if(Fe=0,Ae=Ae===""?".":Ae+":",A($))for(var ze=0;ze<$.length;ze++){Le=$[ze];var Je=Ae+V(Le,ze);Fe+=fe(Le,Z,ie,Je,Ne)}else if(Je=m($),typeof Je=="function")for($=Je.call($),ze=0;!(Le=$.next()).done;)Le=Le.value,Je=Ae+V(Le,ze++),Fe+=fe(Le,Z,ie,Je,Ne);else if(Le==="object")throw Z=String($),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Fe}function J($,Z,ie){if($==null)return $;var Ae=[],Ne=0;return fe($,Ae,"","",function(Le){return Z.call(ie,Le,Ne++)}),Ae}function Te($){if($._status===-1){var Z=$._result;Z=Z(),Z.then(function(ie){($._status===0||$._status===-1)&&($._status=1,$._result=ie)},function(ie){($._status===0||$._status===-1)&&($._status=2,$._result=ie)}),$._status===-1&&($._status=0,$._result=Z)}if($._status===1)return $._result.default;throw $._result}var we={current:null},re={transition:null},he={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:re,ReactCurrentOwner:F};function le(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:J,forEach:function($,Z,ie){J($,function(){Z.apply(this,arguments)},ie)},count:function($){var Z=0;return J($,function(){Z++}),Z},toArray:function($){return J($,function(Z){return Z})||[]},only:function($){if(!U($))throw Error("React.Children.only expected to receive a single React element child.");return $}},je.Component=I,je.Fragment=t,je.Profiler=u,je.PureComponent=C,je.StrictMode=i,je.Suspense=p,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,je.act=le,je.cloneElement=function($,Z,ie){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ae=E({},$.props),Ne=$.key,Le=$.ref,Fe=$._owner;if(Z!=null){if(Z.ref!==void 0&&(Le=Z.ref,Fe=F.current),Z.key!==void 0&&(Ne=""+Z.key),$.type&&$.type.defaultProps)var ze=$.type.defaultProps;for(Je in Z)R.call(Z,Je)&&!k.hasOwnProperty(Je)&&(Ae[Je]=Z[Je]===void 0&&ze!==void 0?ze[Je]:Z[Je])}var Je=arguments.length-2;if(Je===1)Ae.children=ie;else if(1<Je){ze=Array(Je);for(var ct=0;ct<Je;ct++)ze[ct]=arguments[ct+2];Ae.children=ze}return{$$typeof:n,type:$.type,key:Ne,ref:Le,props:Ae,_owner:Fe}},je.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},je.createElement=P,je.createFactory=function($){var Z=P.bind(null,$);return Z.type=$,Z},je.createRef=function(){return{current:null}},je.forwardRef=function($){return{$$typeof:f,render:$}},je.isValidElement=U,je.lazy=function($){return{$$typeof:y,_payload:{_status:-1,_result:$},_init:Te}},je.memo=function($,Z){return{$$typeof:h,type:$,compare:Z===void 0?null:Z}},je.startTransition=function($){var Z=re.transition;re.transition={};try{$()}finally{re.transition=Z}},je.unstable_act=le,je.useCallback=function($,Z){return we.current.useCallback($,Z)},je.useContext=function($){return we.current.useContext($)},je.useDebugValue=function(){},je.useDeferredValue=function($){return we.current.useDeferredValue($)},je.useEffect=function($,Z){return we.current.useEffect($,Z)},je.useId=function(){return we.current.useId()},je.useImperativeHandle=function($,Z,ie){return we.current.useImperativeHandle($,Z,ie)},je.useInsertionEffect=function($,Z){return we.current.useInsertionEffect($,Z)},je.useLayoutEffect=function($,Z){return we.current.useLayoutEffect($,Z)},je.useMemo=function($,Z){return we.current.useMemo($,Z)},je.useReducer=function($,Z,ie){return we.current.useReducer($,Z,ie)},je.useRef=function($){return we.current.useRef($)},je.useState=function($){return we.current.useState($)},je.useSyncExternalStore=function($,Z,ie){return we.current.useSyncExternalStore($,Z,ie)},je.useTransition=function(){return we.current.useTransition()},je.version="18.3.1",je}var Zg;function tf(){return Zg||(Zg=1,uh.exports=Kb()),uh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function Qb(){if(ey)return ta;ey=1;var n=tf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(f,p,h){var y,v={},m=null,g=null;h!==void 0&&(m=""+h),p.key!==void 0&&(m=""+p.key),p.ref!==void 0&&(g=p.ref);for(y in p)i.call(p,y)&&!o.hasOwnProperty(y)&&(v[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:e,type:f,key:m,ref:g,props:v,_owner:u.current}}return ta.Fragment=t,ta.jsx=l,ta.jsxs=l,ta}var ty;function Yb(){return ty||(ty=1,sh.exports=Qb()),sh.exports}var q=Yb(),W=tf();const Xb=jp(W);var uc={},oh={exports:{}},hn={},ah={exports:{}},lh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function Jb(){return ny||(ny=1,function(n){function e(re,he){var le=re.length;re.push(he);e:for(;0<le;){var $=le-1>>>1,Z=re[$];if(0<u(Z,he))re[$]=he,re[le]=Z,le=$;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var he=re[0],le=re.pop();if(le!==he){re[0]=le;e:for(var $=0,Z=re.length,ie=Z>>>1;$<ie;){var Ae=2*($+1)-1,Ne=re[Ae],Le=Ae+1,Fe=re[Le];if(0>u(Ne,le))Le<Z&&0>u(Fe,Ne)?(re[$]=Fe,re[Le]=le,$=Le):(re[$]=Ne,re[Ae]=le,$=Ae);else if(Le<Z&&0>u(Fe,le))re[$]=Fe,re[Le]=le,$=Le;else break e}}return he}function u(re,he){var le=re.sortIndex-he.sortIndex;return le!==0?le:re.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,f=l.now();n.unstable_now=function(){return l.now()-f}}var p=[],h=[],y=1,v=null,m=3,g=!1,E=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(re){for(var he=t(h);he!==null;){if(he.callback===null)i(h);else if(he.startTime<=re)i(h),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(h)}}function A(re){if(S=!1,D(re),!E)if(t(p)!==null)E=!0,Te(R);else{var he=t(h);he!==null&&we(A,he.startTime-re)}}function R(re,he){E=!1,S&&(S=!1,T(P),P=-1),g=!0;var le=m;try{for(D(he),v=t(p);v!==null&&(!(v.expirationTime>he)||re&&!O());){var $=v.callback;if(typeof $=="function"){v.callback=null,m=v.priorityLevel;var Z=$(v.expirationTime<=he);he=n.unstable_now(),typeof Z=="function"?v.callback=Z:v===t(p)&&i(p),D(he)}else i(p);v=t(p)}if(v!==null)var ie=!0;else{var Ae=t(h);Ae!==null&&we(A,Ae.startTime-he),ie=!1}return ie}finally{v=null,m=le,g=!1}}var F=!1,k=null,P=-1,L=5,U=-1;function O(){return!(n.unstable_now()-U<L)}function j(){if(k!==null){var re=n.unstable_now();U=re;var he=!0;try{he=k(!0,re)}finally{he?V():(F=!1,k=null)}}else F=!1}var V;if(typeof C=="function")V=function(){C(j)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,J=fe.port2;fe.port1.onmessage=j,V=function(){J.postMessage(null)}}else V=function(){I(j,0)};function Te(re){k=re,F||(F=!0,V())}function we(re,he){P=I(function(){re(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){E||g||(E=!0,Te(R))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(re){switch(m){case 1:case 2:case 3:var he=3;break;default:he=m}var le=m;m=he;try{return re()}finally{m=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=m;m=re;try{return he()}finally{m=le}},n.unstable_scheduleCallback=function(re,he,le){var $=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?$+le:$):le=$,re){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,re={id:y++,callback:he,priorityLevel:re,startTime:le,expirationTime:Z,sortIndex:-1},le>$?(re.sortIndex=le,e(h,re),t(p)===null&&re===t(h)&&(S?(T(P),P=-1):S=!0,we(A,le-$))):(re.sortIndex=Z,e(p,re),E||g||(E=!0,Te(R))),re},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(re){var he=m;return function(){var le=m;m=he;try{return re.apply(this,arguments)}finally{m=le}}}}(lh)),lh}var ry;function Zb(){return ry||(ry=1,ah.exports=Jb()),ah.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function eE(){if(iy)return hn;iy=1;var n=tf(),e=Zb();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,u={};function o(r,s){l(r,s),l(r+"Capture",s)}function l(r,s){for(u[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function m(r){return p.call(v,r)?!0:p.call(y,r)?!1:h.test(r)?v[r]=!0:(y[r]=!0,!1)}function g(r,s,a,d){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function E(r,s,a,d){if(s===null||typeof s>"u"||g(r,s,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(r,s,a,d,_,b,N){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=_,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=b,this.removeEmptyString=N}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){I[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];I[s]=new S(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){I[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){I[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){I[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){I[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){I[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){I[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){I[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(T,C);I[s]=new S(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(T,C);I[s]=new S(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(T,C);I[s]=new S(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){I[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),I.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){I[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function D(r,s,a,d){var _=I.hasOwnProperty(s)?I[s]:null;(_!==null?_.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(E(s,a,_,d)&&(a=null),d||_===null?m(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):_.mustUseProperty?r[_.propertyName]=a===null?_.type===3?!1:"":a:(s=_.attributeName,d=_.attributeNamespace,a===null?r.removeAttribute(s):(_=_.type,a=_===3||_===4&&a===!0?"":""+a,d?r.setAttributeNS(d,s,a):r.setAttribute(s,a))))}var A=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),F=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),re=Symbol.iterator;function he(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,$;function Z(r){if($===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+r}var ie=!1;function Ae(r,s){if(!r||ie)return"";ie=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Y){var d=Y}Reflect.construct(r,[],s)}else{try{s.call()}catch(Y){d=Y}r.call(s.prototype)}else{try{throw Error()}catch(Y){d=Y}r()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var _=Y.stack.split(`
`),b=d.stack.split(`
`),N=_.length-1,B=b.length-1;1<=N&&0<=B&&_[N]!==b[B];)B--;for(;1<=N&&0<=B;N--,B--)if(_[N]!==b[B]){if(N!==1||B!==1)do if(N--,B--,0>B||_[N]!==b[B]){var z=`
`+_[N].replace(" at new "," at ");return r.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",r.displayName)),z}while(1<=N&&0<=B);break}}}finally{ie=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Z(r):""}function Ne(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function Le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case F:return"Portal";case L:return"Profiler";case P:return"StrictMode";case V:return"Suspense";case fe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case U:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case J:return s=r.displayName||null,s!==null?s:Le(r.type)||"Memo";case Te:s=r._payload,r=r._init;try{return Le(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(s);case 8:return s===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Je(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ct(r){var s=Je(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var _=a.get,b=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return _.call(this)},set:function(N){d=""+N,b.call(this,N)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(N){d=""+N},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ee(r){r._valueTracker||(r._valueTracker=ct(r))}function pe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),d="";return r&&(d=Je(r)?r.checked?"true":"false":r.value),r=d,r!==a?(s.setValue(r),!0):!1}function ae(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Re(r,s){var a=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function gt(r,s){var a=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;a=ze(s.value!=null?s.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function yt(r,s){s=s.checked,s!=null&&D(r,"checked",s,!1)}function Xe(r,s){yt(r,s);var a=ze(s.value),d=s.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ur(r,s.type,a):s.hasOwnProperty("defaultValue")&&ur(r,s.type,ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ke(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function ur(r,s,a){(s!=="number"||ae(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Me=Array.isArray;function Ve(r,s,a,d){if(r=r.options,s){s={};for(var _=0;_<a.length;_++)s["$"+a[_]]=!0;for(a=0;a<r.length;a++)_=s.hasOwnProperty("$"+r[a].value),r[a].selected!==_&&(r[a].selected=_),_&&d&&(r[a].defaultSelected=!0)}else{for(a=""+ze(a),s=null,_=0;_<r.length;_++){if(r[_].value===a){r[_].selected=!0,d&&(r[_].defaultSelected=!0);return}s!==null||r[_].disabled||(s=r[_])}s!==null&&(s.selected=!0)}}function gn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function $t(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Me(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ze(a)}}function Nt(r,s){var a=ze(s.value),d=ze(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function rs(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Rr,co=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,d,_){MSApp.execUnsafeLocalFunction(function(){return r(s,a,d,_)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Rr=Rr||document.createElement("div"),Rr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Rr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function si(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ss=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(r){ss.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),is[s]=is[r]})});function fo(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||is.hasOwnProperty(r)&&is[r]?(""+s).trim():s+"px"}function ho(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var d=a.indexOf("--")===0,_=fo(a,s[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,_):r[a]=_}}var po=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mo(r,s){if(s){if(po[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function go(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var us=null;function Ws(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gs=null,In=null,or=null;function Ks(r){if(r=Fo(r)){if(typeof Gs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=bl(s),Gs(r.stateNode,r.type,s))}}function ar(r){In?or?or.push(r):or=[r]:In=r}function yo(){if(In){var r=In,s=or;if(or=In=null,Ks(r),s)for(r=0;r<s.length;r++)Ks(s[r])}}function os(r,s){return r(s)}function _o(){}var Cr=!1;function vo(r,s,a){if(Cr)return r(s,a);Cr=!0;try{return os(r,s,a)}finally{Cr=!1,(In!==null||or!==null)&&(_o(),yo())}}function vt(r,s){var a=r.stateNode;if(a===null)return null;var d=bl(a);if(d===null)return null;a=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Qs=!1;if(f)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Qs=!1}function as(r,s,a,d,_,b,N,B,z){var Y=Array.prototype.slice.call(arguments,3);try{s.apply(a,Y)}catch(ue){this.onError(ue)}}var ls=!1,Ys=null,Vn=!1,wo=null,Df={onError:function(r){ls=!0,Ys=r}};function Xs(r,s,a,d,_,b,N,B,z){ls=!1,Ys=null,as.apply(Df,arguments)}function Wa(r,s,a,d,_,b,N,B,z){if(Xs.apply(this,arguments),ls){if(ls){var Y=Ys;ls=!1,Ys=null}else throw Error(t(198));Vn||(Vn=!0,wo=Y)}}function Un(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function cs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function jn(r){if(Un(r)!==r)throw Error(t(188))}function Ga(r){var s=r.alternate;if(!s){if(s=Un(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,d=s;;){var _=a.return;if(_===null)break;var b=_.alternate;if(b===null){if(d=_.return,d!==null){a=d;continue}break}if(_.child===b.child){for(b=_.child;b;){if(b===a)return jn(_),r;if(b===d)return jn(_),s;b=b.sibling}throw Error(t(188))}if(a.return!==d.return)a=_,d=b;else{for(var N=!1,B=_.child;B;){if(B===a){N=!0,a=_,d=b;break}if(B===d){N=!0,d=_,a=b;break}B=B.sibling}if(!N){for(B=b.child;B;){if(B===a){N=!0,a=b,d=_;break}if(B===d){N=!0,d=b,a=_;break}B=B.sibling}if(!N)throw Error(t(189))}}if(a.alternate!==d)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function bo(r){return r=Ga(r),r!==null?Js(r):null}function Js(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Js(r);if(s!==null)return s;r=r.sibling}return null}var Zs=e.unstable_scheduleCallback,Eo=e.unstable_cancelCallback,Ka=e.unstable_shouldYield,Of=e.unstable_requestPaint,nt=e.unstable_now,Qa=e.unstable_getCurrentPriorityLevel,fs=e.unstable_ImmediatePriority,ui=e.unstable_UserBlockingPriority,xn=e.unstable_NormalPriority,To=e.unstable_LowPriority,Ya=e.unstable_IdlePriority,ds=null,yn=null;function Xa(r){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(ds,r,void 0,(r.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Za,So=Math.log,Ja=Math.LN2;function Za(r){return r>>>=0,r===0?32:31-(So(r)/Ja|0)|0}var eu=64,tu=4194304;function oi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function hs(r,s){var a=r.pendingLanes;if(a===0)return 0;var d=0,_=r.suspendedLanes,b=r.pingedLanes,N=a&268435455;if(N!==0){var B=N&~_;B!==0?d=oi(B):(b&=N,b!==0&&(d=oi(b)))}else N=a&~_,N!==0?d=oi(N):b!==0&&(d=oi(b));if(d===0)return 0;if(s!==0&&s!==d&&!(s&_)&&(_=d&-d,b=s&-s,_>=b||_===16&&(b&4194240)!==0))return s;if(d&4&&(d|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)a=31-en(s),_=1<<a,d|=r[a],s&=~_;return d}function Lf(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pr(r,s){for(var a=r.suspendedLanes,d=r.pingedLanes,_=r.expirationTimes,b=r.pendingLanes;0<b;){var N=31-en(b),B=1<<N,z=_[N];z===-1?(!(B&a)||B&d)&&(_[N]=Lf(B,s)):z<=s&&(r.expiredLanes|=B),b&=~B}}function _n(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ps(){var r=eu;return eu<<=1,!(eu&4194240)&&(eu=64),r}function ai(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function li(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-en(s),r[s]=a}function tt(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var _=31-en(a),b=1<<_;s[_]=0,d[_]=-1,r[_]=-1,a&=~b}}function ci(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var d=31-en(a),_=1<<d;_&s|r[d]&s&&(r[d]|=s),a&=~_}}var He=0;function fi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var el,nu,tl,nl,rl,Io=!1,lr=[],Ut=null,Fn=null,Bn=null,di=new Map,An=new Map,cr=[],Mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function il(r,s){switch(r){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":di.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(s.pointerId)}}function un(r,s,a,d,_,b){return r===null||r.nativeEvent!==b?(r={blockedOn:s,domEventName:a,eventSystemFlags:d,nativeEvent:b,targetContainers:[_]},s!==null&&(s=Fo(s),s!==null&&nu(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),r)}function Vf(r,s,a,d,_){switch(s){case"focusin":return Ut=un(Ut,r,s,a,d,_),!0;case"dragenter":return Fn=un(Fn,r,s,a,d,_),!0;case"mouseover":return Bn=un(Bn,r,s,a,d,_),!0;case"pointerover":var b=_.pointerId;return di.set(b,un(di.get(b)||null,r,s,a,d,_)),!0;case"gotpointercapture":return b=_.pointerId,An.set(b,un(An.get(b)||null,r,s,a,d,_)),!0}return!1}function sl(r){var s=vs(r.target);if(s!==null){var a=Un(s);if(a!==null){if(s=a.tag,s===13){if(s=cs(a),s!==null){r.blockedOn=s,rl(r.priority,function(){tl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=ru(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);us=d,a.target.dispatchEvent(d),us=null}else return s=Fo(a),s!==null&&nu(s),r.blockedOn=a,!1;s.shift()}return!0}function ms(r,s,a){kr(r)&&a.delete(s)}function ul(){Io=!1,Ut!==null&&kr(Ut)&&(Ut=null),Fn!==null&&kr(Fn)&&(Fn=null),Bn!==null&&kr(Bn)&&(Bn=null),di.forEach(ms),An.forEach(ms)}function qn(r,s){r.blockedOn===s&&(r.blockedOn=null,Io||(Io=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ul)))}function zn(r){function s(_){return qn(_,r)}if(0<lr.length){qn(lr[0],r);for(var a=1;a<lr.length;a++){var d=lr[a];d.blockedOn===r&&(d.blockedOn=null)}}for(Ut!==null&&qn(Ut,r),Fn!==null&&qn(Fn,r),Bn!==null&&qn(Bn,r),di.forEach(s),An.forEach(s),a=0;a<cr.length;a++)d=cr[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<cr.length&&(a=cr[0],a.blockedOn===null);)sl(a),a.blockedOn===null&&cr.shift()}var Nr=A.ReactCurrentBatchConfig,hi=!0;function ot(r,s,a,d){var _=He,b=Nr.transition;Nr.transition=null;try{He=1,xo(r,s,a,d)}finally{He=_,Nr.transition=b}}function Uf(r,s,a,d){var _=He,b=Nr.transition;Nr.transition=null;try{He=4,xo(r,s,a,d)}finally{He=_,Nr.transition=b}}function xo(r,s,a,d){if(hi){var _=ru(r,s,a,d);if(_===null)Qf(r,s,d,gs,a),il(r,d);else if(Vf(_,r,s,a,d))d.stopPropagation();else if(il(r,d),s&4&&-1<Mf.indexOf(r)){for(;_!==null;){var b=Fo(_);if(b!==null&&el(b),b=ru(r,s,a,d),b===null&&Qf(r,s,d,gs,a),b===_)break;_=b}_!==null&&d.stopPropagation()}else Qf(r,s,d,null,a)}}var gs=null;function ru(r,s,a,d){if(gs=null,r=Ws(d),r=vs(r),r!==null)if(s=Un(r),s===null)r=null;else if(a=s.tag,a===13){if(r=cs(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return gs=r,null}function Ao(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qa()){case fs:return 1;case ui:return 4;case xn:case To:return 16;case Ya:return 536870912;default:return 16}default:return 16}}var vn=null,iu=null,on=null;function Ro(){if(on)return on;var r,s=iu,a=s.length,d,_="value"in vn?vn.value:vn.textContent,b=_.length;for(r=0;r<a&&s[r]===_[r];r++);var N=a-r;for(d=1;d<=N&&s[a-d]===_[b-d];d++);return on=_.slice(r,1<d?1-d:void 0)}function su(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function fr(){return!0}function Co(){return!1}function jt(r){function s(a,d,_,b,N){this._reactName=a,this._targetInst=_,this.type=d,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var B in r)r.hasOwnProperty(B)&&(a=r[B],this[B]=a?a(b):b[B]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?fr:Co,this.isPropagationStopped=Co,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),s}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=jt(Hn),dr=le({},Hn,{view:0,detail:0}),jf=jt(dr),ou,Dr,pi,ys=le({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==pi&&(pi&&r.type==="mousemove"?(ou=r.screenX-pi.screenX,Dr=r.screenY-pi.screenY):Dr=ou=0,pi=r),ou)},movementY:function(r){return"movementY"in r?r.movementY:Dr}}),au=jt(ys),Po=le({},ys,{dataTransfer:0}),ol=jt(Po),lu=le({},dr,{relatedTarget:0}),cu=jt(lu),al=le({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Or=jt(al),ll=le({},Hn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),cl=jt(ll),fl=le({},Hn,{data:0}),ko=jt(fl),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=dl[r])?!!s[r]:!1}function hr(){return hl}var c=le({},dr,{key:function(r){if(r.key){var s=fu[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=su(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(r){return r.type==="keypress"?su(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?su(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),w=jt(c),x=le({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M=jt(x),G=le({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),X=jt(G),de=le({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=jt(de),Rt=le({},ys,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),We=jt(Rt),Dt=[9,13,27,32],Et=f&&"CompositionEvent"in window,Rn=null;f&&"documentMode"in document&&(Rn=document.documentMode);var wn=f&&"TextEvent"in window&&!Rn,_s=f&&(!Et||Rn&&8<Rn&&11>=Rn),du=" ",W0=!1;function G0(r,s){switch(r){case"keyup":return Dt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var hu=!1;function zw(r,s){switch(r){case"compositionend":return K0(s);case"keypress":return s.which!==32?null:(W0=!0,du);case"textInput":return r=s.data,r===du&&W0?null:r;default:return null}}function Hw(r,s){if(hu)return r==="compositionend"||!Et&&G0(r,s)?(r=Ro(),on=iu=vn=null,hu=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _s&&s.locale!=="ko"?null:s.data;default:return null}}var $w={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$w[r.type]:s==="textarea"}function Y0(r,s,a,d){ar(d),s=_l(s,"onChange"),0<s.length&&(a=new uu("onChange","change",null,a,d),r.push({event:a,listeners:s}))}var No=null,Do=null;function Ww(r){pm(r,0)}function pl(r){var s=_u(r);if(pe(s))return r}function Gw(r,s){if(r==="change")return s}var X0=!1;if(f){var Ff;if(f){var Bf="oninput"in document;if(!Bf){var J0=document.createElement("div");J0.setAttribute("oninput","return;"),Bf=typeof J0.oninput=="function"}Ff=Bf}else Ff=!1;X0=Ff&&(!document.documentMode||9<document.documentMode)}function Z0(){No&&(No.detachEvent("onpropertychange",em),Do=No=null)}function em(r){if(r.propertyName==="value"&&pl(Do)){var s=[];Y0(s,Do,r,Ws(r)),vo(Ww,s)}}function Kw(r,s,a){r==="focusin"?(Z0(),No=s,Do=a,No.attachEvent("onpropertychange",em)):r==="focusout"&&Z0()}function Qw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return pl(Do)}function Yw(r,s){if(r==="click")return pl(s)}function Xw(r,s){if(r==="input"||r==="change")return pl(s)}function Jw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $n=typeof Object.is=="function"?Object.is:Jw;function Oo(r,s){if($n(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),d=Object.keys(s);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var _=a[d];if(!p.call(s,_)||!$n(r[_],s[_]))return!1}return!0}function tm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function nm(r,s){var a=tm(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=s&&d>=s)return{node:a,offset:s-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=tm(a)}}function rm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?rm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function im(){for(var r=window,s=ae();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ae(r.document)}return s}function qf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Zw(r){var s=im(),a=r.focusedElem,d=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&rm(a.ownerDocument.documentElement,a)){if(d!==null&&qf(a)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var _=a.textContent.length,b=Math.min(d.start,_);d=d.end===void 0?b:Math.min(d.end,_),!r.extend&&b>d&&(_=d,d=b,b=_),_=nm(a,b);var N=nm(a,d);_&&N&&(r.rangeCount!==1||r.anchorNode!==_.node||r.anchorOffset!==_.offset||r.focusNode!==N.node||r.focusOffset!==N.offset)&&(s=s.createRange(),s.setStart(_.node,_.offset),r.removeAllRanges(),b>d?(r.addRange(s),r.extend(N.node,N.offset)):(s.setEnd(N.node,N.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var eb=f&&"documentMode"in document&&11>=document.documentMode,pu=null,zf=null,Lo=null,Hf=!1;function sm(r,s,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hf||pu==null||pu!==ae(d)||(d=pu,"selectionStart"in d&&qf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Lo&&Oo(Lo,d)||(Lo=d,d=_l(zf,"onSelect"),0<d.length&&(s=new uu("onSelect","select",null,s,a),r.push({event:s,listeners:d}),s.target=pu)))}function ml(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var mu={animationend:ml("Animation","AnimationEnd"),animationiteration:ml("Animation","AnimationIteration"),animationstart:ml("Animation","AnimationStart"),transitionend:ml("Transition","TransitionEnd")},$f={},um={};f&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete mu.animationend.animation,delete mu.animationiteration.animation,delete mu.animationstart.animation),"TransitionEvent"in window||delete mu.transitionend.transition);function gl(r){if($f[r])return $f[r];if(!mu[r])return r;var s=mu[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in um)return $f[r]=s[a];return r}var om=gl("animationend"),am=gl("animationiteration"),lm=gl("animationstart"),cm=gl("transitionend"),fm=new Map,dm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(r,s){fm.set(r,s),o(s,[r])}for(var Wf=0;Wf<dm.length;Wf++){var Gf=dm[Wf],tb=Gf.toLowerCase(),nb=Gf[0].toUpperCase()+Gf.slice(1);mi(tb,"on"+nb)}mi(om,"onAnimationEnd"),mi(am,"onAnimationIteration"),mi(lm,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(cm,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mo));function hm(r,s,a){var d=r.type||"unknown-event";r.currentTarget=a,Wa(d,s,void 0,r),r.currentTarget=null}function pm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],_=d.event;d=d.listeners;e:{var b=void 0;if(s)for(var N=d.length-1;0<=N;N--){var B=d[N],z=B.instance,Y=B.currentTarget;if(B=B.listener,z!==b&&_.isPropagationStopped())break e;hm(_,B,Y),b=z}else for(N=0;N<d.length;N++){if(B=d[N],z=B.instance,Y=B.currentTarget,B=B.listener,z!==b&&_.isPropagationStopped())break e;hm(_,B,Y),b=z}}}if(Vn)throw r=wo,Vn=!1,wo=null,r}function it(r,s){var a=s[td];a===void 0&&(a=s[td]=new Set);var d=r+"__bubble";a.has(d)||(mm(s,r,2,!1),a.add(d))}function Kf(r,s,a){var d=0;s&&(d|=4),mm(a,r,d,s)}var yl="_reactListening"+Math.random().toString(36).slice(2);function Vo(r){if(!r[yl]){r[yl]=!0,i.forEach(function(a){a!=="selectionchange"&&(rb.has(a)||Kf(a,!1,r),Kf(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[yl]||(s[yl]=!0,Kf("selectionchange",!1,s))}}function mm(r,s,a,d){switch(Ao(s)){case 1:var _=ot;break;case 4:_=Uf;break;default:_=xo}a=_.bind(null,s,a,r),_=void 0,!Qs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),d?_!==void 0?r.addEventListener(s,a,{capture:!0,passive:_}):r.addEventListener(s,a,!0):_!==void 0?r.addEventListener(s,a,{passive:_}):r.addEventListener(s,a,!1)}function Qf(r,s,a,d,_){var b=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var B=d.stateNode.containerInfo;if(B===_||B.nodeType===8&&B.parentNode===_)break;if(N===4)for(N=d.return;N!==null;){var z=N.tag;if((z===3||z===4)&&(z=N.stateNode.containerInfo,z===_||z.nodeType===8&&z.parentNode===_))return;N=N.return}for(;B!==null;){if(N=vs(B),N===null)return;if(z=N.tag,z===5||z===6){d=b=N;continue e}B=B.parentNode}}d=d.return}vo(function(){var Y=b,ue=Ws(a),oe=[];e:{var se=fm.get(r);if(se!==void 0){var me=uu,ve=r;switch(r){case"keypress":if(su(a)===0)break e;case"keydown":case"keyup":me=w;break;case"focusin":ve="focus",me=cu;break;case"focusout":ve="blur",me=cu;break;case"beforeblur":case"afterblur":me=cu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=X;break;case om:case am:case lm:me=Or;break;case cm:me=et;break;case"scroll":me=jf;break;case"wheel":me=We;break;case"copy":case"cut":case"paste":me=cl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=M}var be=(s&4)!==0,wt=!be&&r==="scroll",K=be?se!==null?se+"Capture":null:se;be=[];for(var H=Y,Q;H!==null;){Q=H;var ce=Q.stateNode;if(Q.tag===5&&ce!==null&&(Q=ce,K!==null&&(ce=vt(H,K),ce!=null&&be.push(Uo(H,ce,Q)))),wt)break;H=H.return}0<be.length&&(se=new me(se,ve,null,a,ue),oe.push({event:se,listeners:be}))}}if(!(s&7)){e:{if(se=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",se&&a!==us&&(ve=a.relatedTarget||a.fromElement)&&(vs(ve)||ve[Lr]))break e;if((me||se)&&(se=ue.window===ue?ue:(se=ue.ownerDocument)?se.defaultView||se.parentWindow:window,me?(ve=a.relatedTarget||a.toElement,me=Y,ve=ve?vs(ve):null,ve!==null&&(wt=Un(ve),ve!==wt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=Y),me!==ve)){if(be=au,ce="onMouseLeave",K="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(be=M,ce="onPointerLeave",K="onPointerEnter",H="pointer"),wt=me==null?se:_u(me),Q=ve==null?se:_u(ve),se=new be(ce,H+"leave",me,a,ue),se.target=wt,se.relatedTarget=Q,ce=null,vs(ue)===Y&&(be=new be(K,H+"enter",ve,a,ue),be.target=Q,be.relatedTarget=wt,ce=be),wt=ce,me&&ve)t:{for(be=me,K=ve,H=0,Q=be;Q;Q=gu(Q))H++;for(Q=0,ce=K;ce;ce=gu(ce))Q++;for(;0<H-Q;)be=gu(be),H--;for(;0<Q-H;)K=gu(K),Q--;for(;H--;){if(be===K||K!==null&&be===K.alternate)break t;be=gu(be),K=gu(K)}be=null}else be=null;me!==null&&gm(oe,se,me,be,!1),ve!==null&&wt!==null&&gm(oe,wt,ve,be,!0)}}e:{if(se=Y?_u(Y):window,me=se.nodeName&&se.nodeName.toLowerCase(),me==="select"||me==="input"&&se.type==="file")var Ee=Gw;else if(Q0(se))if(X0)Ee=Xw;else{Ee=Qw;var Ie=Kw}else(me=se.nodeName)&&me.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Ee=Yw);if(Ee&&(Ee=Ee(r,Y))){Y0(oe,Ee,a,ue);break e}Ie&&Ie(r,se,Y),r==="focusout"&&(Ie=se._wrapperState)&&Ie.controlled&&se.type==="number"&&ur(se,"number",se.value)}switch(Ie=Y?_u(Y):window,r){case"focusin":(Q0(Ie)||Ie.contentEditable==="true")&&(pu=Ie,zf=Y,Lo=null);break;case"focusout":Lo=zf=pu=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,sm(oe,a,ue);break;case"selectionchange":if(eb)break;case"keydown":case"keyup":sm(oe,a,ue)}var xe;if(Et)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else hu?G0(r,a)&&(Pe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(_s&&a.locale!=="ko"&&(hu||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&hu&&(xe=Ro()):(vn=ue,iu="value"in vn?vn.value:vn.textContent,hu=!0)),Ie=_l(Y,Pe),0<Ie.length&&(Pe=new ko(Pe,r,null,a,ue),oe.push({event:Pe,listeners:Ie}),xe?Pe.data=xe:(xe=K0(a),xe!==null&&(Pe.data=xe)))),(xe=wn?zw(r,a):Hw(r,a))&&(Y=_l(Y,"onBeforeInput"),0<Y.length&&(ue=new ko("onBeforeInput","beforeinput",null,a,ue),oe.push({event:ue,listeners:Y}),ue.data=xe))}pm(oe,s)})}function Uo(r,s,a){return{instance:r,listener:s,currentTarget:a}}function _l(r,s){for(var a=s+"Capture",d=[];r!==null;){var _=r,b=_.stateNode;_.tag===5&&b!==null&&(_=b,b=vt(r,a),b!=null&&d.unshift(Uo(r,b,_)),b=vt(r,s),b!=null&&d.push(Uo(r,b,_))),r=r.return}return d}function gu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function gm(r,s,a,d,_){for(var b=s._reactName,N=[];a!==null&&a!==d;){var B=a,z=B.alternate,Y=B.stateNode;if(z!==null&&z===d)break;B.tag===5&&Y!==null&&(B=Y,_?(z=vt(a,b),z!=null&&N.unshift(Uo(a,z,B))):_||(z=vt(a,b),z!=null&&N.push(Uo(a,z,B)))),a=a.return}N.length!==0&&r.push({event:s,listeners:N})}var ib=/\r\n?/g,sb=/\u0000|\uFFFD/g;function ym(r){return(typeof r=="string"?r:""+r).replace(ib,`
`).replace(sb,"")}function vl(r,s,a){if(s=ym(s),ym(r)!==s&&a)throw Error(t(425))}function wl(){}var Yf=null,Xf=null;function Jf(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zf=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,ob=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(r){return _m.resolve(null).then(r).catch(ab)}:Zf;function ab(r){setTimeout(function(){throw r})}function ed(r,s){var a=s,d=0;do{var _=a.nextSibling;if(r.removeChild(a),_&&_.nodeType===8)if(a=_.data,a==="/$"){if(d===0){r.removeChild(_),zn(s);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=_}while(a);zn(s)}function gi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function vm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var yu=Math.random().toString(36).slice(2),pr="__reactFiber$"+yu,jo="__reactProps$"+yu,Lr="__reactContainer$"+yu,td="__reactEvents$"+yu,lb="__reactListeners$"+yu,cb="__reactHandles$"+yu;function vs(r){var s=r[pr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Lr]||a[pr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=vm(r);r!==null;){if(a=r[pr])return a;r=vm(r)}return s}r=a,a=r.parentNode}return null}function Fo(r){return r=r[pr]||r[Lr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function _u(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function bl(r){return r[jo]||null}var nd=[],vu=-1;function yi(r){return{current:r}}function st(r){0>vu||(r.current=nd[vu],nd[vu]=null,vu--)}function rt(r,s){vu++,nd[vu]=r.current,r.current=s}var _i={},Wt=yi(_i),an=yi(!1),ws=_i;function wu(r,s){var a=r.type.contextTypes;if(!a)return _i;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var _={},b;for(b in a)_[b]=s[b];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=_),_}function ln(r){return r=r.childContextTypes,r!=null}function El(){st(an),st(Wt)}function wm(r,s,a){if(Wt.current!==_i)throw Error(t(168));rt(Wt,s),rt(an,a)}function bm(r,s,a){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var _ in d)if(!(_ in s))throw Error(t(108,Fe(r)||"Unknown",_));return le({},a,d)}function Tl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||_i,ws=Wt.current,rt(Wt,r),rt(an,an.current),!0}function Em(r,s,a){var d=r.stateNode;if(!d)throw Error(t(169));a?(r=bm(r,s,ws),d.__reactInternalMemoizedMergedChildContext=r,st(an),st(Wt),rt(Wt,r)):st(an),rt(an,a)}var Mr=null,Sl=!1,rd=!1;function Tm(r){Mr===null?Mr=[r]:Mr.push(r)}function fb(r){Sl=!0,Tm(r)}function vi(){if(!rd&&Mr!==null){rd=!0;var r=0,s=He;try{var a=Mr;for(He=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}Mr=null,Sl=!1}catch(_){throw Mr!==null&&(Mr=Mr.slice(r+1)),Zs(fs,vi),_}finally{He=s,rd=!1}}return null}var bu=[],Eu=0,Il=null,xl=0,Cn=[],Pn=0,bs=null,Vr=1,Ur="";function Es(r,s){bu[Eu++]=xl,bu[Eu++]=Il,Il=r,xl=s}function Sm(r,s,a){Cn[Pn++]=Vr,Cn[Pn++]=Ur,Cn[Pn++]=bs,bs=r;var d=Vr;r=Ur;var _=32-en(d)-1;d&=~(1<<_),a+=1;var b=32-en(s)+_;if(30<b){var N=_-_%5;b=(d&(1<<N)-1).toString(32),d>>=N,_-=N,Vr=1<<32-en(s)+_|a<<_|d,Ur=b+r}else Vr=1<<b|a<<_|d,Ur=r}function id(r){r.return!==null&&(Es(r,1),Sm(r,1,0))}function sd(r){for(;r===Il;)Il=bu[--Eu],bu[Eu]=null,xl=bu[--Eu],bu[Eu]=null;for(;r===bs;)bs=Cn[--Pn],Cn[Pn]=null,Ur=Cn[--Pn],Cn[Pn]=null,Vr=Cn[--Pn],Cn[Pn]=null}var bn=null,En=null,at=!1,Wn=null;function Im(r,s){var a=On(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function xm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,bn=r,En=gi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,bn=r,En=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=bs!==null?{id:Vr,overflow:Ur}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=On(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,bn=r,En=null,!0):!1;default:return!1}}function ud(r){return(r.mode&1)!==0&&(r.flags&128)===0}function od(r){if(at){var s=En;if(s){var a=s;if(!xm(r,s)){if(ud(r))throw Error(t(418));s=gi(a.nextSibling);var d=bn;s&&xm(r,s)?Im(d,a):(r.flags=r.flags&-4097|2,at=!1,bn=r)}}else{if(ud(r))throw Error(t(418));r.flags=r.flags&-4097|2,at=!1,bn=r}}}function Am(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;bn=r}function Al(r){if(r!==bn)return!1;if(!at)return Am(r),at=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Jf(r.type,r.memoizedProps)),s&&(s=En)){if(ud(r))throw Rm(),Error(t(418));for(;s;)Im(r,s),s=gi(s.nextSibling)}if(Am(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){En=gi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}En=null}}else En=bn?gi(r.stateNode.nextSibling):null;return!0}function Rm(){for(var r=En;r;)r=gi(r.nextSibling)}function Tu(){En=bn=null,at=!1}function ad(r){Wn===null?Wn=[r]:Wn.push(r)}var db=A.ReactCurrentBatchConfig;function Bo(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var d=a.stateNode}if(!d)throw Error(t(147,r));var _=d,b=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===b?s.ref:(s=function(N){var B=_.refs;N===null?delete B[b]:B[b]=N},s._stringRef=b,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Rl(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Cm(r){var s=r._init;return s(r._payload)}function Pm(r){function s(K,H){if(r){var Q=K.deletions;Q===null?(K.deletions=[H],K.flags|=16):Q.push(H)}}function a(K,H){if(!r)return null;for(;H!==null;)s(K,H),H=H.sibling;return null}function d(K,H){for(K=new Map;H!==null;)H.key!==null?K.set(H.key,H):K.set(H.index,H),H=H.sibling;return K}function _(K,H){return K=Ai(K,H),K.index=0,K.sibling=null,K}function b(K,H,Q){return K.index=Q,r?(Q=K.alternate,Q!==null?(Q=Q.index,Q<H?(K.flags|=2,H):Q):(K.flags|=2,H)):(K.flags|=1048576,H)}function N(K){return r&&K.alternate===null&&(K.flags|=2),K}function B(K,H,Q,ce){return H===null||H.tag!==6?(H=Zd(Q,K.mode,ce),H.return=K,H):(H=_(H,Q),H.return=K,H)}function z(K,H,Q,ce){var Ee=Q.type;return Ee===k?ue(K,H,Q.props.children,ce,Q.key):H!==null&&(H.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Te&&Cm(Ee)===H.type)?(ce=_(H,Q.props),ce.ref=Bo(K,H,Q),ce.return=K,ce):(ce=Jl(Q.type,Q.key,Q.props,null,K.mode,ce),ce.ref=Bo(K,H,Q),ce.return=K,ce)}function Y(K,H,Q,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=eh(Q,K.mode,ce),H.return=K,H):(H=_(H,Q.children||[]),H.return=K,H)}function ue(K,H,Q,ce,Ee){return H===null||H.tag!==7?(H=Ps(Q,K.mode,ce,Ee),H.return=K,H):(H=_(H,Q),H.return=K,H)}function oe(K,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Zd(""+H,K.mode,Q),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return Q=Jl(H.type,H.key,H.props,null,K.mode,Q),Q.ref=Bo(K,null,H),Q.return=K,Q;case F:return H=eh(H,K.mode,Q),H.return=K,H;case Te:var ce=H._init;return oe(K,ce(H._payload),Q)}if(Me(H)||he(H))return H=Ps(H,K.mode,Q,null),H.return=K,H;Rl(K,H)}return null}function se(K,H,Q,ce){var Ee=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ee!==null?null:B(K,H,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return Q.key===Ee?z(K,H,Q,ce):null;case F:return Q.key===Ee?Y(K,H,Q,ce):null;case Te:return Ee=Q._init,se(K,H,Ee(Q._payload),ce)}if(Me(Q)||he(Q))return Ee!==null?null:ue(K,H,Q,ce,null);Rl(K,Q)}return null}function me(K,H,Q,ce,Ee){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return K=K.get(Q)||null,B(H,K,""+ce,Ee);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case R:return K=K.get(ce.key===null?Q:ce.key)||null,z(H,K,ce,Ee);case F:return K=K.get(ce.key===null?Q:ce.key)||null,Y(H,K,ce,Ee);case Te:var Ie=ce._init;return me(K,H,Q,Ie(ce._payload),Ee)}if(Me(ce)||he(ce))return K=K.get(Q)||null,ue(H,K,ce,Ee,null);Rl(H,ce)}return null}function ve(K,H,Q,ce){for(var Ee=null,Ie=null,xe=H,Pe=H=0,Mt=null;xe!==null&&Pe<Q.length;Pe++){xe.index>Pe?(Mt=xe,xe=null):Mt=xe.sibling;var Ye=se(K,xe,Q[Pe],ce);if(Ye===null){xe===null&&(xe=Mt);break}r&&xe&&Ye.alternate===null&&s(K,xe),H=b(Ye,H,Pe),Ie===null?Ee=Ye:Ie.sibling=Ye,Ie=Ye,xe=Mt}if(Pe===Q.length)return a(K,xe),at&&Es(K,Pe),Ee;if(xe===null){for(;Pe<Q.length;Pe++)xe=oe(K,Q[Pe],ce),xe!==null&&(H=b(xe,H,Pe),Ie===null?Ee=xe:Ie.sibling=xe,Ie=xe);return at&&Es(K,Pe),Ee}for(xe=d(K,xe);Pe<Q.length;Pe++)Mt=me(xe,K,Pe,Q[Pe],ce),Mt!==null&&(r&&Mt.alternate!==null&&xe.delete(Mt.key===null?Pe:Mt.key),H=b(Mt,H,Pe),Ie===null?Ee=Mt:Ie.sibling=Mt,Ie=Mt);return r&&xe.forEach(function(Ri){return s(K,Ri)}),at&&Es(K,Pe),Ee}function be(K,H,Q,ce){var Ee=he(Q);if(typeof Ee!="function")throw Error(t(150));if(Q=Ee.call(Q),Q==null)throw Error(t(151));for(var Ie=Ee=null,xe=H,Pe=H=0,Mt=null,Ye=Q.next();xe!==null&&!Ye.done;Pe++,Ye=Q.next()){xe.index>Pe?(Mt=xe,xe=null):Mt=xe.sibling;var Ri=se(K,xe,Ye.value,ce);if(Ri===null){xe===null&&(xe=Mt);break}r&&xe&&Ri.alternate===null&&s(K,xe),H=b(Ri,H,Pe),Ie===null?Ee=Ri:Ie.sibling=Ri,Ie=Ri,xe=Mt}if(Ye.done)return a(K,xe),at&&Es(K,Pe),Ee;if(xe===null){for(;!Ye.done;Pe++,Ye=Q.next())Ye=oe(K,Ye.value,ce),Ye!==null&&(H=b(Ye,H,Pe),Ie===null?Ee=Ye:Ie.sibling=Ye,Ie=Ye);return at&&Es(K,Pe),Ee}for(xe=d(K,xe);!Ye.done;Pe++,Ye=Q.next())Ye=me(xe,K,Pe,Ye.value,ce),Ye!==null&&(r&&Ye.alternate!==null&&xe.delete(Ye.key===null?Pe:Ye.key),H=b(Ye,H,Pe),Ie===null?Ee=Ye:Ie.sibling=Ye,Ie=Ye);return r&&xe.forEach(function(Hb){return s(K,Hb)}),at&&Es(K,Pe),Ee}function wt(K,H,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:e:{for(var Ee=Q.key,Ie=H;Ie!==null;){if(Ie.key===Ee){if(Ee=Q.type,Ee===k){if(Ie.tag===7){a(K,Ie.sibling),H=_(Ie,Q.props.children),H.return=K,K=H;break e}}else if(Ie.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Te&&Cm(Ee)===Ie.type){a(K,Ie.sibling),H=_(Ie,Q.props),H.ref=Bo(K,Ie,Q),H.return=K,K=H;break e}a(K,Ie);break}else s(K,Ie);Ie=Ie.sibling}Q.type===k?(H=Ps(Q.props.children,K.mode,ce,Q.key),H.return=K,K=H):(ce=Jl(Q.type,Q.key,Q.props,null,K.mode,ce),ce.ref=Bo(K,H,Q),ce.return=K,K=ce)}return N(K);case F:e:{for(Ie=Q.key;H!==null;){if(H.key===Ie)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){a(K,H.sibling),H=_(H,Q.children||[]),H.return=K,K=H;break e}else{a(K,H);break}else s(K,H);H=H.sibling}H=eh(Q,K.mode,ce),H.return=K,K=H}return N(K);case Te:return Ie=Q._init,wt(K,H,Ie(Q._payload),ce)}if(Me(Q))return ve(K,H,Q,ce);if(he(Q))return be(K,H,Q,ce);Rl(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(a(K,H.sibling),H=_(H,Q),H.return=K,K=H):(a(K,H),H=Zd(Q,K.mode,ce),H.return=K,K=H),N(K)):a(K,H)}return wt}var Su=Pm(!0),km=Pm(!1),Cl=yi(null),Pl=null,Iu=null,ld=null;function cd(){ld=Iu=Pl=null}function fd(r){var s=Cl.current;st(Cl),r._currentValue=s}function dd(r,s,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===a)break;r=r.return}}function xu(r,s){Pl=r,ld=Iu=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(cn=!0),r.firstContext=null)}function kn(r){var s=r._currentValue;if(ld!==r)if(r={context:r,memoizedValue:s,next:null},Iu===null){if(Pl===null)throw Error(t(308));Iu=r,Pl.dependencies={lanes:0,firstContext:r}}else Iu=Iu.next=r;return s}var Ts=null;function hd(r){Ts===null?Ts=[r]:Ts.push(r)}function Nm(r,s,a,d){var _=s.interleaved;return _===null?(a.next=a,hd(s)):(a.next=_.next,_.next=a),s.interleaved=a,jr(r,d)}function jr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var wi=!1;function pd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function bi(r,s,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,Qe&2){var _=d.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),d.pending=s,jr(r,a)}return _=d.interleaved,_===null?(s.next=s,hd(d)):(s.next=_.next,_.next=s),d.interleaved=s,jr(r,a)}function kl(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,a|=d,s.lanes=a,ci(r,a)}}function Om(r,s){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var _=null,b=null;if(a=a.firstBaseUpdate,a!==null){do{var N={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};b===null?_=b=N:b=b.next=N,a=a.next}while(a!==null);b===null?_=b=s:b=b.next=s}else _=b=s;a={baseState:d.baseState,firstBaseUpdate:_,lastBaseUpdate:b,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Nl(r,s,a,d){var _=r.updateQueue;wi=!1;var b=_.firstBaseUpdate,N=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var z=B,Y=z.next;z.next=null,N===null?b=Y:N.next=Y,N=z;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,B=ue.lastBaseUpdate,B!==N&&(B===null?ue.firstBaseUpdate=Y:B.next=Y,ue.lastBaseUpdate=z))}if(b!==null){var oe=_.baseState;N=0,ue=Y=z=null,B=b;do{var se=B.lane,me=B.eventTime;if((d&se)===se){ue!==null&&(ue=ue.next={eventTime:me,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var ve=r,be=B;switch(se=s,me=a,be.tag){case 1:if(ve=be.payload,typeof ve=="function"){oe=ve.call(me,oe,se);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=be.payload,se=typeof ve=="function"?ve.call(me,oe,se):ve,se==null)break e;oe=le({},oe,se);break e;case 2:wi=!0}}B.callback!==null&&B.lane!==0&&(r.flags|=64,se=_.effects,se===null?_.effects=[B]:se.push(B))}else me={eventTime:me,lane:se,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ue===null?(Y=ue=me,z=oe):ue=ue.next=me,N|=se;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;se=B,B=se.next,se.next=null,_.lastBaseUpdate=se,_.shared.pending=null}}while(!0);if(ue===null&&(z=oe),_.baseState=z,_.firstBaseUpdate=Y,_.lastBaseUpdate=ue,s=_.shared.interleaved,s!==null){_=s;do N|=_.lane,_=_.next;while(_!==s)}else b===null&&(_.shared.lanes=0);xs|=N,r.lanes=N,r.memoizedState=oe}}function Lm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],_=d.callback;if(_!==null){if(d.callback=null,d=a,typeof _!="function")throw Error(t(191,_));_.call(d)}}}var qo={},mr=yi(qo),zo=yi(qo),Ho=yi(qo);function Ss(r){if(r===qo)throw Error(t(174));return r}function md(r,s){switch(rt(Ho,s),rt(zo,r),rt(mr,qo),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:_t(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=_t(s,r)}st(mr),rt(mr,s)}function Au(){st(mr),st(zo),st(Ho)}function Mm(r){Ss(Ho.current);var s=Ss(mr.current),a=_t(s,r.type);s!==a&&(rt(zo,r),rt(mr,a))}function gd(r){zo.current===r&&(st(mr),st(zo))}var ft=yi(0);function Dl(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yd=[];function _d(){for(var r=0;r<yd.length;r++)yd[r]._workInProgressVersionPrimary=null;yd.length=0}var Ol=A.ReactCurrentDispatcher,vd=A.ReactCurrentBatchConfig,Is=0,dt=null,Ct=null,Ot=null,Ll=!1,$o=!1,Wo=0,hb=0;function Gt(){throw Error(t(321))}function wd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!$n(r[a],s[a]))return!1;return!0}function bd(r,s,a,d,_,b){if(Is=b,dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ol.current=r===null||r.memoizedState===null?yb:_b,r=a(d,_),$o){b=0;do{if($o=!1,Wo=0,25<=b)throw Error(t(301));b+=1,Ot=Ct=null,s.updateQueue=null,Ol.current=vb,r=a(d,_)}while($o)}if(Ol.current=Ul,s=Ct!==null&&Ct.next!==null,Is=0,Ot=Ct=dt=null,Ll=!1,s)throw Error(t(300));return r}function Ed(){var r=Wo!==0;return Wo=0,r}function gr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?dt.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function Nn(){if(Ct===null){var r=dt.alternate;r=r!==null?r.memoizedState:null}else r=Ct.next;var s=Ot===null?dt.memoizedState:Ot.next;if(s!==null)Ot=s,Ct=r;else{if(r===null)throw Error(t(310));Ct=r,r={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Ot===null?dt.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}function Go(r,s){return typeof s=="function"?s(r):s}function Td(r){var s=Nn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=Ct,_=d.baseQueue,b=a.pending;if(b!==null){if(_!==null){var N=_.next;_.next=b.next,b.next=N}d.baseQueue=_=b,a.pending=null}if(_!==null){b=_.next,d=d.baseState;var B=N=null,z=null,Y=b;do{var ue=Y.lane;if((Is&ue)===ue)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:r(d,Y.action);else{var oe={lane:ue,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?(B=z=oe,N=d):z=z.next=oe,dt.lanes|=ue,xs|=ue}Y=Y.next}while(Y!==null&&Y!==b);z===null?N=d:z.next=B,$n(d,s.memoizedState)||(cn=!0),s.memoizedState=d,s.baseState=N,s.baseQueue=z,a.lastRenderedState=d}if(r=a.interleaved,r!==null){_=r;do b=_.lane,dt.lanes|=b,xs|=b,_=_.next;while(_!==r)}else _===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Sd(r){var s=Nn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=a.dispatch,_=a.pending,b=s.memoizedState;if(_!==null){a.pending=null;var N=_=_.next;do b=r(b,N.action),N=N.next;while(N!==_);$n(b,s.memoizedState)||(cn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),a.lastRenderedState=b}return[b,d]}function Vm(){}function Um(r,s){var a=dt,d=Nn(),_=s(),b=!$n(d.memoizedState,_);if(b&&(d.memoizedState=_,cn=!0),d=d.queue,Id(Bm.bind(null,a,d,r),[r]),d.getSnapshot!==s||b||Ot!==null&&Ot.memoizedState.tag&1){if(a.flags|=2048,Ko(9,Fm.bind(null,a,d,_,s),void 0,null),Lt===null)throw Error(t(349));Is&30||jm(a,s,_)}return _}function jm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=dt.updateQueue,s===null?(s={lastEffect:null,stores:null},dt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Fm(r,s,a,d){s.value=a,s.getSnapshot=d,qm(s)&&zm(r)}function Bm(r,s,a){return a(function(){qm(s)&&zm(r)})}function qm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!$n(r,a)}catch{return!0}}function zm(r){var s=jr(r,1);s!==null&&Yn(s,r,1,-1)}function Hm(r){var s=gr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:r},s.queue=r,r=r.dispatch=gb.bind(null,dt,r),[s.memoizedState,r]}function Ko(r,s,a,d){return r={tag:r,create:s,destroy:a,deps:d,next:null},s=dt.updateQueue,s===null?(s={lastEffect:null,stores:null},dt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,s.lastEffect=r)),r}function $m(){return Nn().memoizedState}function Ml(r,s,a,d){var _=gr();dt.flags|=r,_.memoizedState=Ko(1|s,a,void 0,d===void 0?null:d)}function Vl(r,s,a,d){var _=Nn();d=d===void 0?null:d;var b=void 0;if(Ct!==null){var N=Ct.memoizedState;if(b=N.destroy,d!==null&&wd(d,N.deps)){_.memoizedState=Ko(s,a,b,d);return}}dt.flags|=r,_.memoizedState=Ko(1|s,a,b,d)}function Wm(r,s){return Ml(8390656,8,r,s)}function Id(r,s){return Vl(2048,8,r,s)}function Gm(r,s){return Vl(4,2,r,s)}function Km(r,s){return Vl(4,4,r,s)}function Qm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ym(r,s,a){return a=a!=null?a.concat([r]):null,Vl(4,4,Qm.bind(null,s,r),a)}function xd(){}function Xm(r,s){var a=Nn();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&wd(s,d[1])?d[0]:(a.memoizedState=[r,s],r)}function Jm(r,s){var a=Nn();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&wd(s,d[1])?d[0]:(r=r(),a.memoizedState=[r,s],r)}function Zm(r,s,a){return Is&21?($n(a,s)||(a=ps(),dt.lanes|=a,xs|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,cn=!0),r.memoizedState=a)}function pb(r,s){var a=He;He=a!==0&&4>a?a:4,r(!0);var d=vd.transition;vd.transition={};try{r(!1),s()}finally{He=a,vd.transition=d}}function eg(){return Nn().memoizedState}function mb(r,s,a){var d=Ii(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},tg(r))ng(s,a);else if(a=Nm(r,s,a,d),a!==null){var _=rn();Yn(a,r,d,_),rg(a,s,d)}}function gb(r,s,a){var d=Ii(r),_={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(tg(r))ng(s,_);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var N=s.lastRenderedState,B=b(N,a);if(_.hasEagerState=!0,_.eagerState=B,$n(B,N)){var z=s.interleaved;z===null?(_.next=_,hd(s)):(_.next=z.next,z.next=_),s.interleaved=_;return}}catch{}finally{}a=Nm(r,s,_,d),a!==null&&(_=rn(),Yn(a,r,d,_),rg(a,s,d))}}function tg(r){var s=r.alternate;return r===dt||s!==null&&s===dt}function ng(r,s){$o=Ll=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function rg(r,s,a){if(a&4194240){var d=s.lanes;d&=r.pendingLanes,a|=d,s.lanes=a,ci(r,a)}}var Ul={readContext:kn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},yb={readContext:kn,useCallback:function(r,s){return gr().memoizedState=[r,s===void 0?null:s],r},useContext:kn,useEffect:Wm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Ml(4194308,4,Qm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Ml(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ml(4,2,r,s)},useMemo:function(r,s){var a=gr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var d=gr();return s=a!==void 0?a(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=mb.bind(null,dt,r),[d.memoizedState,r]},useRef:function(r){var s=gr();return r={current:r},s.memoizedState=r},useState:Hm,useDebugValue:xd,useDeferredValue:function(r){return gr().memoizedState=r},useTransition:function(){var r=Hm(!1),s=r[0];return r=pb.bind(null,r[1]),gr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var d=dt,_=gr();if(at){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Lt===null)throw Error(t(349));Is&30||jm(d,s,a)}_.memoizedState=a;var b={value:a,getSnapshot:s};return _.queue=b,Wm(Bm.bind(null,d,b,r),[r]),d.flags|=2048,Ko(9,Fm.bind(null,d,b,a,s),void 0,null),a},useId:function(){var r=gr(),s=Lt.identifierPrefix;if(at){var a=Ur,d=Vr;a=(d&~(1<<32-en(d)-1)).toString(32)+a,s=":"+s+"R"+a,a=Wo++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=hb++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},_b={readContext:kn,useCallback:Xm,useContext:kn,useEffect:Id,useImperativeHandle:Ym,useInsertionEffect:Gm,useLayoutEffect:Km,useMemo:Jm,useReducer:Td,useRef:$m,useState:function(){return Td(Go)},useDebugValue:xd,useDeferredValue:function(r){var s=Nn();return Zm(s,Ct.memoizedState,r)},useTransition:function(){var r=Td(Go)[0],s=Nn().memoizedState;return[r,s]},useMutableSource:Vm,useSyncExternalStore:Um,useId:eg,unstable_isNewReconciler:!1},vb={readContext:kn,useCallback:Xm,useContext:kn,useEffect:Id,useImperativeHandle:Ym,useInsertionEffect:Gm,useLayoutEffect:Km,useMemo:Jm,useReducer:Sd,useRef:$m,useState:function(){return Sd(Go)},useDebugValue:xd,useDeferredValue:function(r){var s=Nn();return Ct===null?s.memoizedState=r:Zm(s,Ct.memoizedState,r)},useTransition:function(){var r=Sd(Go)[0],s=Nn().memoizedState;return[r,s]},useMutableSource:Vm,useSyncExternalStore:Um,useId:eg,unstable_isNewReconciler:!1};function Gn(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Ad(r,s,a,d){s=r.memoizedState,a=a(d,s),a=a==null?s:le({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var jl={isMounted:function(r){return(r=r._reactInternals)?Un(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var d=rn(),_=Ii(r),b=Fr(d,_);b.payload=s,a!=null&&(b.callback=a),s=bi(r,b,_),s!==null&&(Yn(s,r,_,d),kl(s,r,_))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var d=rn(),_=Ii(r),b=Fr(d,_);b.tag=1,b.payload=s,a!=null&&(b.callback=a),s=bi(r,b,_),s!==null&&(Yn(s,r,_,d),kl(s,r,_))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=rn(),d=Ii(r),_=Fr(a,d);_.tag=2,s!=null&&(_.callback=s),s=bi(r,_,d),s!==null&&(Yn(s,r,d,a),kl(s,r,d))}};function ig(r,s,a,d,_,b,N){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,b,N):s.prototype&&s.prototype.isPureReactComponent?!Oo(a,d)||!Oo(_,b):!0}function sg(r,s,a){var d=!1,_=_i,b=s.contextType;return typeof b=="object"&&b!==null?b=kn(b):(_=ln(s)?ws:Wt.current,d=s.contextTypes,b=(d=d!=null)?wu(r,_):_i),s=new s(a,b),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=jl,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=_,r.__reactInternalMemoizedMaskedChildContext=b),s}function ug(r,s,a,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,d),s.state!==r&&jl.enqueueReplaceState(s,s.state,null)}function Rd(r,s,a,d){var _=r.stateNode;_.props=a,_.state=r.memoizedState,_.refs={},pd(r);var b=s.contextType;typeof b=="object"&&b!==null?_.context=kn(b):(b=ln(s)?ws:Wt.current,_.context=wu(r,b)),_.state=r.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Ad(r,s,b,a),_.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(s=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),s!==_.state&&jl.enqueueReplaceState(_,_.state,null),Nl(r,a,_,d),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308)}function Ru(r,s){try{var a="",d=s;do a+=Ne(d),d=d.return;while(d);var _=a}catch(b){_=`
Error generating stack: `+b.message+`
`+b.stack}return{value:r,source:s,stack:_,digest:null}}function Cd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Pd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var wb=typeof WeakMap=="function"?WeakMap:Map;function og(r,s,a){a=Fr(-1,a),a.tag=3,a.payload={element:null};var d=s.value;return a.callback=function(){Wl||(Wl=!0,$d=d),Pd(r,s)},a}function ag(r,s,a){a=Fr(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var _=s.value;a.payload=function(){return d(_)},a.callback=function(){Pd(r,s)}}var b=r.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(a.callback=function(){Pd(r,s),typeof d!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var N=s.stack;this.componentDidCatch(s.value,{componentStack:N!==null?N:""})}),a}function lg(r,s,a){var d=r.pingCache;if(d===null){d=r.pingCache=new wb;var _=new Set;d.set(s,_)}else _=d.get(s),_===void 0&&(_=new Set,d.set(s,_));_.has(a)||(_.add(a),r=Ob.bind(null,r,s,a),s.then(r,r))}function cg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function fg(r,s,a,d,_){return r.mode&1?(r.flags|=65536,r.lanes=_,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Fr(-1,1),s.tag=2,bi(a,s,1))),a.lanes|=1),r)}var bb=A.ReactCurrentOwner,cn=!1;function nn(r,s,a,d){s.child=r===null?km(s,null,a,d):Su(s,r.child,a,d)}function dg(r,s,a,d,_){a=a.render;var b=s.ref;return xu(s,_),d=bd(r,s,a,d,b,_),a=Ed(),r!==null&&!cn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~_,Br(r,s,_)):(at&&a&&id(s),s.flags|=1,nn(r,s,d,_),s.child)}function hg(r,s,a,d,_){if(r===null){var b=a.type;return typeof b=="function"&&!Jd(b)&&b.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=b,pg(r,s,b,d,_)):(r=Jl(a.type,null,d,s,s.mode,_),r.ref=s.ref,r.return=s,s.child=r)}if(b=r.child,!(r.lanes&_)){var N=b.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(N,d)&&r.ref===s.ref)return Br(r,s,_)}return s.flags|=1,r=Ai(b,d),r.ref=s.ref,r.return=s,s.child=r}function pg(r,s,a,d,_){if(r!==null){var b=r.memoizedProps;if(Oo(b,d)&&r.ref===s.ref)if(cn=!1,s.pendingProps=d=b,(r.lanes&_)!==0)r.flags&131072&&(cn=!0);else return s.lanes=r.lanes,Br(r,s,_)}return kd(r,s,a,d,_)}function mg(r,s,a){var d=s.pendingProps,_=d.children,b=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Pu,Tn),Tn|=a;else{if(!(a&1073741824))return r=b!==null?b.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,rt(Pu,Tn),Tn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=b!==null?b.baseLanes:a,rt(Pu,Tn),Tn|=d}else b!==null?(d=b.baseLanes|a,s.memoizedState=null):d=a,rt(Pu,Tn),Tn|=d;return nn(r,s,_,a),s.child}function gg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function kd(r,s,a,d,_){var b=ln(a)?ws:Wt.current;return b=wu(s,b),xu(s,_),a=bd(r,s,a,d,b,_),d=Ed(),r!==null&&!cn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~_,Br(r,s,_)):(at&&d&&id(s),s.flags|=1,nn(r,s,a,_),s.child)}function yg(r,s,a,d,_){if(ln(a)){var b=!0;Tl(s)}else b=!1;if(xu(s,_),s.stateNode===null)Bl(r,s),sg(s,a,d),Rd(s,a,d,_),d=!0;else if(r===null){var N=s.stateNode,B=s.memoizedProps;N.props=B;var z=N.context,Y=a.contextType;typeof Y=="object"&&Y!==null?Y=kn(Y):(Y=ln(a)?ws:Wt.current,Y=wu(s,Y));var ue=a.getDerivedStateFromProps,oe=typeof ue=="function"||typeof N.getSnapshotBeforeUpdate=="function";oe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(B!==d||z!==Y)&&ug(s,N,d,Y),wi=!1;var se=s.memoizedState;N.state=se,Nl(s,d,N,_),z=s.memoizedState,B!==d||se!==z||an.current||wi?(typeof ue=="function"&&(Ad(s,a,ue,d),z=s.memoizedState),(B=wi||ig(s,a,B,d,se,z,Y))?(oe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(s.flags|=4194308)):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=z),N.props=d,N.state=z,N.context=Y,d=B):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{N=s.stateNode,Dm(r,s),B=s.memoizedProps,Y=s.type===s.elementType?B:Gn(s.type,B),N.props=Y,oe=s.pendingProps,se=N.context,z=a.contextType,typeof z=="object"&&z!==null?z=kn(z):(z=ln(a)?ws:Wt.current,z=wu(s,z));var me=a.getDerivedStateFromProps;(ue=typeof me=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(B!==oe||se!==z)&&ug(s,N,d,z),wi=!1,se=s.memoizedState,N.state=se,Nl(s,d,N,_);var ve=s.memoizedState;B!==oe||se!==ve||an.current||wi?(typeof me=="function"&&(Ad(s,a,me,d),ve=s.memoizedState),(Y=wi||ig(s,a,Y,d,se,ve,z)||!1)?(ue||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(d,ve,z),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(d,ve,z)),typeof N.componentDidUpdate=="function"&&(s.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof N.componentDidUpdate!="function"||B===r.memoizedProps&&se===r.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||B===r.memoizedProps&&se===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ve),N.props=d,N.state=ve,N.context=z,d=Y):(typeof N.componentDidUpdate!="function"||B===r.memoizedProps&&se===r.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||B===r.memoizedProps&&se===r.memoizedState||(s.flags|=1024),d=!1)}return Nd(r,s,a,d,b,_)}function Nd(r,s,a,d,_,b){gg(r,s);var N=(s.flags&128)!==0;if(!d&&!N)return _&&Em(s,a,!1),Br(r,s,b);d=s.stateNode,bb.current=s;var B=N&&typeof a.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&N?(s.child=Su(s,r.child,null,b),s.child=Su(s,null,B,b)):nn(r,s,B,b),s.memoizedState=d.state,_&&Em(s,a,!0),s.child}function _g(r){var s=r.stateNode;s.pendingContext?wm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&wm(r,s.context,!1),md(r,s.containerInfo)}function vg(r,s,a,d,_){return Tu(),ad(_),s.flags|=256,nn(r,s,a,d),s.child}var Dd={dehydrated:null,treeContext:null,retryLane:0};function Od(r){return{baseLanes:r,cachePool:null,transitions:null}}function wg(r,s,a){var d=s.pendingProps,_=ft.current,b=!1,N=(s.flags&128)!==0,B;if((B=N)||(B=r!==null&&r.memoizedState===null?!1:(_&2)!==0),B?(b=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(_|=1),rt(ft,_&1),r===null)return od(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(N=d.children,r=d.fallback,b?(d=s.mode,b=s.child,N={mode:"hidden",children:N},!(d&1)&&b!==null?(b.childLanes=0,b.pendingProps=N):b=Zl(N,d,0,null),r=Ps(r,d,a,null),b.return=s,r.return=s,b.sibling=r,s.child=b,s.child.memoizedState=Od(a),s.memoizedState=Dd,r):Ld(s,N));if(_=r.memoizedState,_!==null&&(B=_.dehydrated,B!==null))return Eb(r,s,N,d,B,_,a);if(b){b=d.fallback,N=s.mode,_=r.child,B=_.sibling;var z={mode:"hidden",children:d.children};return!(N&1)&&s.child!==_?(d=s.child,d.childLanes=0,d.pendingProps=z,s.deletions=null):(d=Ai(_,z),d.subtreeFlags=_.subtreeFlags&14680064),B!==null?b=Ai(B,b):(b=Ps(b,N,a,null),b.flags|=2),b.return=s,d.return=s,d.sibling=b,s.child=d,d=b,b=s.child,N=r.child.memoizedState,N=N===null?Od(a):{baseLanes:N.baseLanes|a,cachePool:null,transitions:N.transitions},b.memoizedState=N,b.childLanes=r.childLanes&~a,s.memoizedState=Dd,d}return b=r.child,r=b.sibling,d=Ai(b,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=a),d.return=s,d.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=d,s.memoizedState=null,d}function Ld(r,s){return s=Zl({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Fl(r,s,a,d){return d!==null&&ad(d),Su(s,r.child,null,a),r=Ld(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Eb(r,s,a,d,_,b,N){if(a)return s.flags&256?(s.flags&=-257,d=Cd(Error(t(422))),Fl(r,s,N,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(b=d.fallback,_=s.mode,d=Zl({mode:"visible",children:d.children},_,0,null),b=Ps(b,_,N,null),b.flags|=2,d.return=s,b.return=s,d.sibling=b,s.child=d,s.mode&1&&Su(s,r.child,null,N),s.child.memoizedState=Od(N),s.memoizedState=Dd,b);if(!(s.mode&1))return Fl(r,s,N,null);if(_.data==="$!"){if(d=_.nextSibling&&_.nextSibling.dataset,d)var B=d.dgst;return d=B,b=Error(t(419)),d=Cd(b,d,void 0),Fl(r,s,N,d)}if(B=(N&r.childLanes)!==0,cn||B){if(d=Lt,d!==null){switch(N&-N){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(d.suspendedLanes|N)?0:_,_!==0&&_!==b.retryLane&&(b.retryLane=_,jr(r,_),Yn(d,r,_,-1))}return Xd(),d=Cd(Error(t(421))),Fl(r,s,N,d)}return _.data==="$?"?(s.flags|=128,s.child=r.child,s=Lb.bind(null,r),_._reactRetry=s,null):(r=b.treeContext,En=gi(_.nextSibling),bn=s,at=!0,Wn=null,r!==null&&(Cn[Pn++]=Vr,Cn[Pn++]=Ur,Cn[Pn++]=bs,Vr=r.id,Ur=r.overflow,bs=s),s=Ld(s,d.children),s.flags|=4096,s)}function bg(r,s,a){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),dd(r.return,s,a)}function Md(r,s,a,d,_){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:_}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=a,b.tailMode=_)}function Eg(r,s,a){var d=s.pendingProps,_=d.revealOrder,b=d.tail;if(nn(r,s,d.children,a),d=ft.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bg(r,a,s);else if(r.tag===19)bg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(rt(ft,d),!(s.mode&1))s.memoizedState=null;else switch(_){case"forwards":for(a=s.child,_=null;a!==null;)r=a.alternate,r!==null&&Dl(r)===null&&(_=a),a=a.sibling;a=_,a===null?(_=s.child,s.child=null):(_=a.sibling,a.sibling=null),Md(s,!1,_,a,b);break;case"backwards":for(a=null,_=s.child,s.child=null;_!==null;){if(r=_.alternate,r!==null&&Dl(r)===null){s.child=_;break}r=_.sibling,_.sibling=a,a=_,_=r}Md(s,!0,a,null,b);break;case"together":Md(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Bl(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Br(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),xs|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Ai(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Ai(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Tb(r,s,a){switch(s.tag){case 3:_g(s),Tu();break;case 5:Mm(s);break;case 1:ln(s.type)&&Tl(s);break;case 4:md(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,_=s.memoizedProps.value;rt(Cl,d._currentValue),d._currentValue=_;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(rt(ft,ft.current&1),s.flags|=128,null):a&s.child.childLanes?wg(r,s,a):(rt(ft,ft.current&1),r=Br(r,s,a),r!==null?r.sibling:null);rt(ft,ft.current&1);break;case 19:if(d=(a&s.childLanes)!==0,r.flags&128){if(d)return Eg(r,s,a);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),rt(ft,ft.current),d)break;return null;case 22:case 23:return s.lanes=0,mg(r,s,a)}return Br(r,s,a)}var Tg,Vd,Sg,Ig;Tg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Vd=function(){},Sg=function(r,s,a,d){var _=r.memoizedProps;if(_!==d){r=s.stateNode,Ss(mr.current);var b=null;switch(a){case"input":_=Re(r,_),d=Re(r,d),b=[];break;case"select":_=le({},_,{value:void 0}),d=le({},d,{value:void 0}),b=[];break;case"textarea":_=gn(r,_),d=gn(r,d),b=[];break;default:typeof _.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=wl)}mo(a,d);var N;a=null;for(Y in _)if(!d.hasOwnProperty(Y)&&_.hasOwnProperty(Y)&&_[Y]!=null)if(Y==="style"){var B=_[Y];for(N in B)B.hasOwnProperty(N)&&(a||(a={}),a[N]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(u.hasOwnProperty(Y)?b||(b=[]):(b=b||[]).push(Y,null));for(Y in d){var z=d[Y];if(B=_!=null?_[Y]:void 0,d.hasOwnProperty(Y)&&z!==B&&(z!=null||B!=null))if(Y==="style")if(B){for(N in B)!B.hasOwnProperty(N)||z&&z.hasOwnProperty(N)||(a||(a={}),a[N]="");for(N in z)z.hasOwnProperty(N)&&B[N]!==z[N]&&(a||(a={}),a[N]=z[N])}else a||(b||(b=[]),b.push(Y,a)),a=z;else Y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,B=B?B.__html:void 0,z!=null&&B!==z&&(b=b||[]).push(Y,z)):Y==="children"?typeof z!="string"&&typeof z!="number"||(b=b||[]).push(Y,""+z):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(u.hasOwnProperty(Y)?(z!=null&&Y==="onScroll"&&it("scroll",r),b||B===z||(b=[])):(b=b||[]).push(Y,z))}a&&(b=b||[]).push("style",a);var Y=b;(s.updateQueue=Y)&&(s.flags|=4)}},Ig=function(r,s,a,d){a!==d&&(s.flags|=4)};function Qo(r,s){if(!at)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Kt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(s)for(var _=r.child;_!==null;)a|=_.lanes|_.childLanes,d|=_.subtreeFlags&14680064,d|=_.flags&14680064,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)a|=_.lanes|_.childLanes,d|=_.subtreeFlags,d|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=d,r.childLanes=a,s}function Sb(r,s,a){var d=s.pendingProps;switch(sd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(s),null;case 1:return ln(s.type)&&El(),Kt(s),null;case 3:return d=s.stateNode,Au(),st(an),st(Wt),_d(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Al(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Wn!==null&&(Kd(Wn),Wn=null))),Vd(r,s),Kt(s),null;case 5:gd(s);var _=Ss(Ho.current);if(a=s.type,r!==null&&s.stateNode!=null)Sg(r,s,a,d,_),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Kt(s),null}if(r=Ss(mr.current),Al(s)){d=s.stateNode,a=s.type;var b=s.memoizedProps;switch(d[pr]=s,d[jo]=b,r=(s.mode&1)!==0,a){case"dialog":it("cancel",d),it("close",d);break;case"iframe":case"object":case"embed":it("load",d);break;case"video":case"audio":for(_=0;_<Mo.length;_++)it(Mo[_],d);break;case"source":it("error",d);break;case"img":case"image":case"link":it("error",d),it("load",d);break;case"details":it("toggle",d);break;case"input":gt(d,b),it("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!b.multiple},it("invalid",d);break;case"textarea":$t(d,b),it("invalid",d)}mo(a,b),_=null;for(var N in b)if(b.hasOwnProperty(N)){var B=b[N];N==="children"?typeof B=="string"?d.textContent!==B&&(b.suppressHydrationWarning!==!0&&vl(d.textContent,B,r),_=["children",B]):typeof B=="number"&&d.textContent!==""+B&&(b.suppressHydrationWarning!==!0&&vl(d.textContent,B,r),_=["children",""+B]):u.hasOwnProperty(N)&&B!=null&&N==="onScroll"&&it("scroll",d)}switch(a){case"input":ee(d),Ke(d,b,!0);break;case"textarea":ee(d),rs(d);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(d.onclick=wl)}d=_,s.updateQueue=d,d!==null&&(s.flags|=4)}else{N=_.nodeType===9?_:_.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=N.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=N.createElement(a,{is:d.is}):(r=N.createElement(a),a==="select"&&(N=r,d.multiple?N.multiple=!0:d.size&&(N.size=d.size))):r=N.createElementNS(r,a),r[pr]=s,r[jo]=d,Tg(r,s,!1,!1),s.stateNode=r;e:{switch(N=go(a,d),a){case"dialog":it("cancel",r),it("close",r),_=d;break;case"iframe":case"object":case"embed":it("load",r),_=d;break;case"video":case"audio":for(_=0;_<Mo.length;_++)it(Mo[_],r);_=d;break;case"source":it("error",r),_=d;break;case"img":case"image":case"link":it("error",r),it("load",r),_=d;break;case"details":it("toggle",r),_=d;break;case"input":gt(r,d),_=Re(r,d),it("invalid",r);break;case"option":_=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},_=le({},d,{value:void 0}),it("invalid",r);break;case"textarea":$t(r,d),_=gn(r,d),it("invalid",r);break;default:_=d}mo(a,_),B=_;for(b in B)if(B.hasOwnProperty(b)){var z=B[b];b==="style"?ho(r,z):b==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&co(r,z)):b==="children"?typeof z=="string"?(a!=="textarea"||z!=="")&&si(r,z):typeof z=="number"&&si(r,""+z):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(u.hasOwnProperty(b)?z!=null&&b==="onScroll"&&it("scroll",r):z!=null&&D(r,b,z,N))}switch(a){case"input":ee(r),Ke(r,d,!1);break;case"textarea":ee(r),rs(r);break;case"option":d.value!=null&&r.setAttribute("value",""+ze(d.value));break;case"select":r.multiple=!!d.multiple,b=d.value,b!=null?Ve(r,!!d.multiple,b,!1):d.defaultValue!=null&&Ve(r,!!d.multiple,d.defaultValue,!0);break;default:typeof _.onClick=="function"&&(r.onclick=wl)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Kt(s),null;case 6:if(r&&s.stateNode!=null)Ig(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ss(Ho.current),Ss(mr.current),Al(s)){if(d=s.stateNode,a=s.memoizedProps,d[pr]=s,(b=d.nodeValue!==a)&&(r=bn,r!==null))switch(r.tag){case 3:vl(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&vl(d.nodeValue,a,(r.mode&1)!==0)}b&&(s.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[pr]=s,s.stateNode=d}return Kt(s),null;case 13:if(st(ft),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(at&&En!==null&&s.mode&1&&!(s.flags&128))Rm(),Tu(),s.flags|=98560,b=!1;else if(b=Al(s),d!==null&&d.dehydrated!==null){if(r===null){if(!b)throw Error(t(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(t(317));b[pr]=s}else Tu(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Kt(s),b=!1}else Wn!==null&&(Kd(Wn),Wn=null),b=!0;if(!b)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||ft.current&1?Pt===0&&(Pt=3):Xd())),s.updateQueue!==null&&(s.flags|=4),Kt(s),null);case 4:return Au(),Vd(r,s),r===null&&Vo(s.stateNode.containerInfo),Kt(s),null;case 10:return fd(s.type._context),Kt(s),null;case 17:return ln(s.type)&&El(),Kt(s),null;case 19:if(st(ft),b=s.memoizedState,b===null)return Kt(s),null;if(d=(s.flags&128)!==0,N=b.rendering,N===null)if(d)Qo(b,!1);else{if(Pt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(N=Dl(r),N!==null){for(s.flags|=128,Qo(b,!1),d=N.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=a,a=s.child;a!==null;)b=a,r=d,b.flags&=14680066,N=b.alternate,N===null?(b.childLanes=0,b.lanes=r,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=N.childLanes,b.lanes=N.lanes,b.child=N.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=N.memoizedProps,b.memoizedState=N.memoizedState,b.updateQueue=N.updateQueue,b.type=N.type,r=N.dependencies,b.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return rt(ft,ft.current&1|2),s.child}r=r.sibling}b.tail!==null&&nt()>ku&&(s.flags|=128,d=!0,Qo(b,!1),s.lanes=4194304)}else{if(!d)if(r=Dl(N),r!==null){if(s.flags|=128,d=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Qo(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!at)return Kt(s),null}else 2*nt()-b.renderingStartTime>ku&&a!==1073741824&&(s.flags|=128,d=!0,Qo(b,!1),s.lanes=4194304);b.isBackwards?(N.sibling=s.child,s.child=N):(a=b.last,a!==null?a.sibling=N:s.child=N,b.last=N)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=nt(),s.sibling=null,a=ft.current,rt(ft,d?a&1|2:a&1),s):(Kt(s),null);case 22:case 23:return Yd(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?Tn&1073741824&&(Kt(s),s.subtreeFlags&6&&(s.flags|=8192)):Kt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Ib(r,s){switch(sd(s),s.tag){case 1:return ln(s.type)&&El(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Au(),st(an),st(Wt),_d(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return gd(s),null;case 13:if(st(ft),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Tu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return st(ft),null;case 4:return Au(),null;case 10:return fd(s.type._context),null;case 22:case 23:return Yd(),null;case 24:return null;default:return null}}var ql=!1,Qt=!1,xb=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Cu(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){mt(r,s,d)}else a.current=null}function Ud(r,s,a){try{a()}catch(d){mt(r,s,d)}}var xg=!1;function Ab(r,s){if(Yf=hi,r=im(),qf(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var _=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break e}var N=0,B=-1,z=-1,Y=0,ue=0,oe=r,se=null;t:for(;;){for(var me;oe!==a||_!==0&&oe.nodeType!==3||(B=N+_),oe!==b||d!==0&&oe.nodeType!==3||(z=N+d),oe.nodeType===3&&(N+=oe.nodeValue.length),(me=oe.firstChild)!==null;)se=oe,oe=me;for(;;){if(oe===r)break t;if(se===a&&++Y===_&&(B=N),se===b&&++ue===d&&(z=N),(me=oe.nextSibling)!==null)break;oe=se,se=oe.parentNode}oe=me}a=B===-1||z===-1?null:{start:B,end:z}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xf={focusedElem:r,selectionRange:a},hi=!1,_e=s;_e!==null;)if(s=_e,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,_e=r;else for(;_e!==null;){s=_e;try{var ve=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var be=ve.memoizedProps,wt=ve.memoizedState,K=s.stateNode,H=K.getSnapshotBeforeUpdate(s.elementType===s.type?be:Gn(s.type,be),wt);K.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=s.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){mt(s,s.return,ce)}if(r=s.sibling,r!==null){r.return=s.return,_e=r;break}_e=s.return}return ve=xg,xg=!1,ve}function Yo(r,s,a){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var _=d=d.next;do{if((_.tag&r)===r){var b=_.destroy;_.destroy=void 0,b!==void 0&&Ud(s,a,b)}_=_.next}while(_!==d)}}function zl(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==s)}}function jd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Ag(r){var s=r.alternate;s!==null&&(r.alternate=null,Ag(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[pr],delete s[jo],delete s[td],delete s[lb],delete s[cb])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Rg(r){return r.tag===5||r.tag===3||r.tag===4}function Cg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Rg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Fd(r,s,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=wl));else if(d!==4&&(r=r.child,r!==null))for(Fd(r,s,a),r=r.sibling;r!==null;)Fd(r,s,a),r=r.sibling}function Bd(r,s,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Bd(r,s,a),r=r.sibling;r!==null;)Bd(r,s,a),r=r.sibling}var Ft=null,Kn=!1;function Ei(r,s,a){for(a=a.child;a!==null;)Pg(r,s,a),a=a.sibling}function Pg(r,s,a){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(ds,a)}catch{}switch(a.tag){case 5:Qt||Cu(a,s);case 6:var d=Ft,_=Kn;Ft=null,Ei(r,s,a),Ft=d,Kn=_,Ft!==null&&(Kn?(r=Ft,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Ft.removeChild(a.stateNode));break;case 18:Ft!==null&&(Kn?(r=Ft,a=a.stateNode,r.nodeType===8?ed(r.parentNode,a):r.nodeType===1&&ed(r,a),zn(r)):ed(Ft,a.stateNode));break;case 4:d=Ft,_=Kn,Ft=a.stateNode.containerInfo,Kn=!0,Ei(r,s,a),Ft=d,Kn=_;break;case 0:case 11:case 14:case 15:if(!Qt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){_=d=d.next;do{var b=_,N=b.destroy;b=b.tag,N!==void 0&&(b&2||b&4)&&Ud(a,s,N),_=_.next}while(_!==d)}Ei(r,s,a);break;case 1:if(!Qt&&(Cu(a,s),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(B){mt(a,s,B)}Ei(r,s,a);break;case 21:Ei(r,s,a);break;case 22:a.mode&1?(Qt=(d=Qt)||a.memoizedState!==null,Ei(r,s,a),Qt=d):Ei(r,s,a);break;default:Ei(r,s,a)}}function kg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new xb),s.forEach(function(d){var _=Mb.bind(null,r,d);a.has(d)||(a.add(d),d.then(_,_))})}}function Qn(r,s){var a=s.deletions;if(a!==null)for(var d=0;d<a.length;d++){var _=a[d];try{var b=r,N=s,B=N;e:for(;B!==null;){switch(B.tag){case 5:Ft=B.stateNode,Kn=!1;break e;case 3:Ft=B.stateNode.containerInfo,Kn=!0;break e;case 4:Ft=B.stateNode.containerInfo,Kn=!0;break e}B=B.return}if(Ft===null)throw Error(t(160));Pg(b,N,_),Ft=null,Kn=!1;var z=_.alternate;z!==null&&(z.return=null),_.return=null}catch(Y){mt(_,s,Y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ng(s,r),s=s.sibling}function Ng(r,s){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Qn(s,r),yr(r),d&4){try{Yo(3,r,r.return),zl(3,r)}catch(be){mt(r,r.return,be)}try{Yo(5,r,r.return)}catch(be){mt(r,r.return,be)}}break;case 1:Qn(s,r),yr(r),d&512&&a!==null&&Cu(a,a.return);break;case 5:if(Qn(s,r),yr(r),d&512&&a!==null&&Cu(a,a.return),r.flags&32){var _=r.stateNode;try{si(_,"")}catch(be){mt(r,r.return,be)}}if(d&4&&(_=r.stateNode,_!=null)){var b=r.memoizedProps,N=a!==null?a.memoizedProps:b,B=r.type,z=r.updateQueue;if(r.updateQueue=null,z!==null)try{B==="input"&&b.type==="radio"&&b.name!=null&&yt(_,b),go(B,N);var Y=go(B,b);for(N=0;N<z.length;N+=2){var ue=z[N],oe=z[N+1];ue==="style"?ho(_,oe):ue==="dangerouslySetInnerHTML"?co(_,oe):ue==="children"?si(_,oe):D(_,ue,oe,Y)}switch(B){case"input":Xe(_,b);break;case"textarea":Nt(_,b);break;case"select":var se=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!b.multiple;var me=b.value;me!=null?Ve(_,!!b.multiple,me,!1):se!==!!b.multiple&&(b.defaultValue!=null?Ve(_,!!b.multiple,b.defaultValue,!0):Ve(_,!!b.multiple,b.multiple?[]:"",!1))}_[jo]=b}catch(be){mt(r,r.return,be)}}break;case 6:if(Qn(s,r),yr(r),d&4){if(r.stateNode===null)throw Error(t(162));_=r.stateNode,b=r.memoizedProps;try{_.nodeValue=b}catch(be){mt(r,r.return,be)}}break;case 3:if(Qn(s,r),yr(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{zn(s.containerInfo)}catch(be){mt(r,r.return,be)}break;case 4:Qn(s,r),yr(r);break;case 13:Qn(s,r),yr(r),_=r.child,_.flags&8192&&(b=_.memoizedState!==null,_.stateNode.isHidden=b,!b||_.alternate!==null&&_.alternate.memoizedState!==null||(Hd=nt())),d&4&&kg(r);break;case 22:if(ue=a!==null&&a.memoizedState!==null,r.mode&1?(Qt=(Y=Qt)||ue,Qn(s,r),Qt=Y):Qn(s,r),yr(r),d&8192){if(Y=r.memoizedState!==null,(r.stateNode.isHidden=Y)&&!ue&&r.mode&1)for(_e=r,ue=r.child;ue!==null;){for(oe=_e=ue;_e!==null;){switch(se=_e,me=se.child,se.tag){case 0:case 11:case 14:case 15:Yo(4,se,se.return);break;case 1:Cu(se,se.return);var ve=se.stateNode;if(typeof ve.componentWillUnmount=="function"){d=se,a=se.return;try{s=d,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(be){mt(d,a,be)}}break;case 5:Cu(se,se.return);break;case 22:if(se.memoizedState!==null){Lg(oe);continue}}me!==null?(me.return=se,_e=me):Lg(oe)}ue=ue.sibling}e:for(ue=null,oe=r;;){if(oe.tag===5){if(ue===null){ue=oe;try{_=oe.stateNode,Y?(b=_.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(B=oe.stateNode,z=oe.memoizedProps.style,N=z!=null&&z.hasOwnProperty("display")?z.display:null,B.style.display=fo("display",N))}catch(be){mt(r,r.return,be)}}}else if(oe.tag===6){if(ue===null)try{oe.stateNode.nodeValue=Y?"":oe.memoizedProps}catch(be){mt(r,r.return,be)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===r)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===r)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===r)break e;ue===oe&&(ue=null),oe=oe.return}ue===oe&&(ue=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Qn(s,r),yr(r),d&4&&kg(r);break;case 21:break;default:Qn(s,r),yr(r)}}function yr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Rg(a)){var d=a;break e}a=a.return}throw Error(t(160))}switch(d.tag){case 5:var _=d.stateNode;d.flags&32&&(si(_,""),d.flags&=-33);var b=Cg(r);Bd(r,b,_);break;case 3:case 4:var N=d.stateNode.containerInfo,B=Cg(r);Fd(r,B,N);break;default:throw Error(t(161))}}catch(z){mt(r,r.return,z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Rb(r,s,a){_e=r,Dg(r)}function Dg(r,s,a){for(var d=(r.mode&1)!==0;_e!==null;){var _=_e,b=_.child;if(_.tag===22&&d){var N=_.memoizedState!==null||ql;if(!N){var B=_.alternate,z=B!==null&&B.memoizedState!==null||Qt;B=ql;var Y=Qt;if(ql=N,(Qt=z)&&!Y)for(_e=_;_e!==null;)N=_e,z=N.child,N.tag===22&&N.memoizedState!==null?Mg(_):z!==null?(z.return=N,_e=z):Mg(_);for(;b!==null;)_e=b,Dg(b),b=b.sibling;_e=_,ql=B,Qt=Y}Og(r)}else _.subtreeFlags&8772&&b!==null?(b.return=_,_e=b):Og(r)}}function Og(r){for(;_e!==null;){var s=_e;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Qt||zl(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Qt)if(a===null)d.componentDidMount();else{var _=s.elementType===s.type?a.memoizedProps:Gn(s.type,a.memoizedProps);d.componentDidUpdate(_,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var b=s.updateQueue;b!==null&&Lm(s,b,d);break;case 3:var N=s.updateQueue;if(N!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Lm(s,N,a)}break;case 5:var B=s.stateNode;if(a===null&&s.flags&4){a=B;var z=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&a.focus();break;case"img":z.src&&(a.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Y=s.alternate;if(Y!==null){var ue=Y.memoizedState;if(ue!==null){var oe=ue.dehydrated;oe!==null&&zn(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Qt||s.flags&512&&jd(s)}catch(se){mt(s,s.return,se)}}if(s===r){_e=null;break}if(a=s.sibling,a!==null){a.return=s.return,_e=a;break}_e=s.return}}function Lg(r){for(;_e!==null;){var s=_e;if(s===r){_e=null;break}var a=s.sibling;if(a!==null){a.return=s.return,_e=a;break}_e=s.return}}function Mg(r){for(;_e!==null;){var s=_e;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{zl(4,s)}catch(z){mt(s,a,z)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var _=s.return;try{d.componentDidMount()}catch(z){mt(s,_,z)}}var b=s.return;try{jd(s)}catch(z){mt(s,b,z)}break;case 5:var N=s.return;try{jd(s)}catch(z){mt(s,N,z)}}}catch(z){mt(s,s.return,z)}if(s===r){_e=null;break}var B=s.sibling;if(B!==null){B.return=s.return,_e=B;break}_e=s.return}}var Cb=Math.ceil,Hl=A.ReactCurrentDispatcher,qd=A.ReactCurrentOwner,Dn=A.ReactCurrentBatchConfig,Qe=0,Lt=null,Tt=null,Bt=0,Tn=0,Pu=yi(0),Pt=0,Xo=null,xs=0,$l=0,zd=0,Jo=null,fn=null,Hd=0,ku=1/0,qr=null,Wl=!1,$d=null,Ti=null,Gl=!1,Si=null,Kl=0,Zo=0,Wd=null,Ql=-1,Yl=0;function rn(){return Qe&6?nt():Ql!==-1?Ql:Ql=nt()}function Ii(r){return r.mode&1?Qe&2&&Bt!==0?Bt&-Bt:db.transition!==null?(Yl===0&&(Yl=ps()),Yl):(r=He,r!==0||(r=window.event,r=r===void 0?16:Ao(r.type)),r):1}function Yn(r,s,a,d){if(50<Zo)throw Zo=0,Wd=null,Error(t(185));li(r,a,d),(!(Qe&2)||r!==Lt)&&(r===Lt&&(!(Qe&2)&&($l|=a),Pt===4&&xi(r,Bt)),dn(r,d),a===1&&Qe===0&&!(s.mode&1)&&(ku=nt()+500,Sl&&vi()))}function dn(r,s){var a=r.callbackNode;Pr(r,s);var d=hs(r,r===Lt?Bt:0);if(d===0)a!==null&&Eo(a),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(a!=null&&Eo(a),s===1)r.tag===0?fb(Ug.bind(null,r)):Tm(Ug.bind(null,r)),ob(function(){!(Qe&6)&&vi()}),a=null;else{switch(fi(d)){case 1:a=fs;break;case 4:a=ui;break;case 16:a=xn;break;case 536870912:a=Ya;break;default:a=xn}a=Wg(a,Vg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Vg(r,s){if(Ql=-1,Yl=0,Qe&6)throw Error(t(327));var a=r.callbackNode;if(Nu()&&r.callbackNode!==a)return null;var d=hs(r,r===Lt?Bt:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=Xl(r,d);else{s=d;var _=Qe;Qe|=2;var b=Fg();(Lt!==r||Bt!==s)&&(qr=null,ku=nt()+500,Rs(r,s));do try{Nb();break}catch(B){jg(r,B)}while(!0);cd(),Hl.current=b,Qe=_,Tt!==null?s=0:(Lt=null,Bt=0,s=Pt)}if(s!==0){if(s===2&&(_=_n(r),_!==0&&(d=_,s=Gd(r,_))),s===1)throw a=Xo,Rs(r,0),xi(r,d),dn(r,nt()),a;if(s===6)xi(r,d);else{if(_=r.current.alternate,!(d&30)&&!Pb(_)&&(s=Xl(r,d),s===2&&(b=_n(r),b!==0&&(d=b,s=Gd(r,b))),s===1))throw a=Xo,Rs(r,0),xi(r,d),dn(r,nt()),a;switch(r.finishedWork=_,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Cs(r,fn,qr);break;case 3:if(xi(r,d),(d&130023424)===d&&(s=Hd+500-nt(),10<s)){if(hs(r,0)!==0)break;if(_=r.suspendedLanes,(_&d)!==d){rn(),r.pingedLanes|=r.suspendedLanes&_;break}r.timeoutHandle=Zf(Cs.bind(null,r,fn,qr),s);break}Cs(r,fn,qr);break;case 4:if(xi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,_=-1;0<d;){var N=31-en(d);b=1<<N,N=s[N],N>_&&(_=N),d&=~b}if(d=_,d=nt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Cb(d/1960))-d,10<d){r.timeoutHandle=Zf(Cs.bind(null,r,fn,qr),d);break}Cs(r,fn,qr);break;case 5:Cs(r,fn,qr);break;default:throw Error(t(329))}}}return dn(r,nt()),r.callbackNode===a?Vg.bind(null,r):null}function Gd(r,s){var a=Jo;return r.current.memoizedState.isDehydrated&&(Rs(r,s).flags|=256),r=Xl(r,s),r!==2&&(s=fn,fn=a,s!==null&&Kd(s)),r}function Kd(r){fn===null?fn=r:fn.push.apply(fn,r)}function Pb(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var _=a[d],b=_.getSnapshot;_=_.value;try{if(!$n(b(),_))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(r,s){for(s&=~zd,s&=~$l,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-en(s),d=1<<a;r[a]=-1,s&=~d}}function Ug(r){if(Qe&6)throw Error(t(327));Nu();var s=hs(r,0);if(!(s&1))return dn(r,nt()),null;var a=Xl(r,s);if(r.tag!==0&&a===2){var d=_n(r);d!==0&&(s=d,a=Gd(r,d))}if(a===1)throw a=Xo,Rs(r,0),xi(r,s),dn(r,nt()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Cs(r,fn,qr),dn(r,nt()),null}function Qd(r,s){var a=Qe;Qe|=1;try{return r(s)}finally{Qe=a,Qe===0&&(ku=nt()+500,Sl&&vi())}}function As(r){Si!==null&&Si.tag===0&&!(Qe&6)&&Nu();var s=Qe;Qe|=1;var a=Dn.transition,d=He;try{if(Dn.transition=null,He=1,r)return r()}finally{He=d,Dn.transition=a,Qe=s,!(Qe&6)&&vi()}}function Yd(){Tn=Pu.current,st(Pu)}function Rs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,ub(a)),Tt!==null)for(a=Tt.return;a!==null;){var d=a;switch(sd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&El();break;case 3:Au(),st(an),st(Wt),_d();break;case 5:gd(d);break;case 4:Au();break;case 13:st(ft);break;case 19:st(ft);break;case 10:fd(d.type._context);break;case 22:case 23:Yd()}a=a.return}if(Lt=r,Tt=r=Ai(r.current,null),Bt=Tn=s,Pt=0,Xo=null,zd=$l=xs=0,fn=Jo=null,Ts!==null){for(s=0;s<Ts.length;s++)if(a=Ts[s],d=a.interleaved,d!==null){a.interleaved=null;var _=d.next,b=a.pending;if(b!==null){var N=b.next;b.next=_,d.next=N}a.pending=d}Ts=null}return r}function jg(r,s){do{var a=Tt;try{if(cd(),Ol.current=Ul,Ll){for(var d=dt.memoizedState;d!==null;){var _=d.queue;_!==null&&(_.pending=null),d=d.next}Ll=!1}if(Is=0,Ot=Ct=dt=null,$o=!1,Wo=0,qd.current=null,a===null||a.return===null){Pt=1,Xo=s,Tt=null;break}e:{var b=r,N=a.return,B=a,z=s;if(s=Bt,B.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,ue=B,oe=ue.tag;if(!(ue.mode&1)&&(oe===0||oe===11||oe===15)){var se=ue.alternate;se?(ue.updateQueue=se.updateQueue,ue.memoizedState=se.memoizedState,ue.lanes=se.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var me=cg(N);if(me!==null){me.flags&=-257,fg(me,N,B,b,s),me.mode&1&&lg(b,Y,s),s=me,z=Y;var ve=s.updateQueue;if(ve===null){var be=new Set;be.add(z),s.updateQueue=be}else ve.add(z);break e}else{if(!(s&1)){lg(b,Y,s),Xd();break e}z=Error(t(426))}}else if(at&&B.mode&1){var wt=cg(N);if(wt!==null){!(wt.flags&65536)&&(wt.flags|=256),fg(wt,N,B,b,s),ad(Ru(z,B));break e}}b=z=Ru(z,B),Pt!==4&&(Pt=2),Jo===null?Jo=[b]:Jo.push(b),b=N;do{switch(b.tag){case 3:b.flags|=65536,s&=-s,b.lanes|=s;var K=og(b,z,s);Om(b,K);break e;case 1:B=z;var H=b.type,Q=b.stateNode;if(!(b.flags&128)&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ti===null||!Ti.has(Q)))){b.flags|=65536,s&=-s,b.lanes|=s;var ce=ag(b,B,s);Om(b,ce);break e}}b=b.return}while(b!==null)}qg(a)}catch(Ee){s=Ee,Tt===a&&a!==null&&(Tt=a=a.return);continue}break}while(!0)}function Fg(){var r=Hl.current;return Hl.current=Ul,r===null?Ul:r}function Xd(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Lt===null||!(xs&268435455)&&!($l&268435455)||xi(Lt,Bt)}function Xl(r,s){var a=Qe;Qe|=2;var d=Fg();(Lt!==r||Bt!==s)&&(qr=null,Rs(r,s));do try{kb();break}catch(_){jg(r,_)}while(!0);if(cd(),Qe=a,Hl.current=d,Tt!==null)throw Error(t(261));return Lt=null,Bt=0,Pt}function kb(){for(;Tt!==null;)Bg(Tt)}function Nb(){for(;Tt!==null&&!Ka();)Bg(Tt)}function Bg(r){var s=$g(r.alternate,r,Tn);r.memoizedProps=r.pendingProps,s===null?qg(r):Tt=s,qd.current=null}function qg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=Ib(a,s),a!==null){a.flags&=32767,Tt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Pt=6,Tt=null;return}}else if(a=Sb(a,s,Tn),a!==null){Tt=a;return}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=r}while(s!==null);Pt===0&&(Pt=5)}function Cs(r,s,a){var d=He,_=Dn.transition;try{Dn.transition=null,He=1,Db(r,s,a,d)}finally{Dn.transition=_,He=d}return null}function Db(r,s,a,d){do Nu();while(Si!==null);if(Qe&6)throw Error(t(327));a=r.finishedWork;var _=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var b=a.lanes|a.childLanes;if(tt(r,b),r===Lt&&(Tt=Lt=null,Bt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Gl||(Gl=!0,Wg(xn,function(){return Nu(),null})),b=(a.flags&15990)!==0,a.subtreeFlags&15990||b){b=Dn.transition,Dn.transition=null;var N=He;He=1;var B=Qe;Qe|=4,qd.current=null,Ab(r,a),Ng(a,r),Zw(Xf),hi=!!Yf,Xf=Yf=null,r.current=a,Rb(a),Of(),Qe=B,He=N,Dn.transition=b}else r.current=a;if(Gl&&(Gl=!1,Si=r,Kl=_),b=r.pendingLanes,b===0&&(Ti=null),Xa(a.stateNode),dn(r,nt()),s!==null)for(d=r.onRecoverableError,a=0;a<s.length;a++)_=s[a],d(_.value,{componentStack:_.stack,digest:_.digest});if(Wl)throw Wl=!1,r=$d,$d=null,r;return Kl&1&&r.tag!==0&&Nu(),b=r.pendingLanes,b&1?r===Wd?Zo++:(Zo=0,Wd=r):Zo=0,vi(),null}function Nu(){if(Si!==null){var r=fi(Kl),s=Dn.transition,a=He;try{if(Dn.transition=null,He=16>r?16:r,Si===null)var d=!1;else{if(r=Si,Si=null,Kl=0,Qe&6)throw Error(t(331));var _=Qe;for(Qe|=4,_e=r.current;_e!==null;){var b=_e,N=b.child;if(_e.flags&16){var B=b.deletions;if(B!==null){for(var z=0;z<B.length;z++){var Y=B[z];for(_e=Y;_e!==null;){var ue=_e;switch(ue.tag){case 0:case 11:case 15:Yo(8,ue,b)}var oe=ue.child;if(oe!==null)oe.return=ue,_e=oe;else for(;_e!==null;){ue=_e;var se=ue.sibling,me=ue.return;if(Ag(ue),ue===Y){_e=null;break}if(se!==null){se.return=me,_e=se;break}_e=me}}}var ve=b.alternate;if(ve!==null){var be=ve.child;if(be!==null){ve.child=null;do{var wt=be.sibling;be.sibling=null,be=wt}while(be!==null)}}_e=b}}if(b.subtreeFlags&2064&&N!==null)N.return=b,_e=N;else e:for(;_e!==null;){if(b=_e,b.flags&2048)switch(b.tag){case 0:case 11:case 15:Yo(9,b,b.return)}var K=b.sibling;if(K!==null){K.return=b.return,_e=K;break e}_e=b.return}}var H=r.current;for(_e=H;_e!==null;){N=_e;var Q=N.child;if(N.subtreeFlags&2064&&Q!==null)Q.return=N,_e=Q;else e:for(N=H;_e!==null;){if(B=_e,B.flags&2048)try{switch(B.tag){case 0:case 11:case 15:zl(9,B)}}catch(Ee){mt(B,B.return,Ee)}if(B===N){_e=null;break e}var ce=B.sibling;if(ce!==null){ce.return=B.return,_e=ce;break e}_e=B.return}}if(Qe=_,vi(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(ds,r)}catch{}d=!0}return d}finally{He=a,Dn.transition=s}}return!1}function zg(r,s,a){s=Ru(a,s),s=og(r,s,1),r=bi(r,s,1),s=rn(),r!==null&&(li(r,1,s),dn(r,s))}function mt(r,s,a){if(r.tag===3)zg(r,r,a);else for(;s!==null;){if(s.tag===3){zg(s,r,a);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ti===null||!Ti.has(d))){r=Ru(a,r),r=ag(s,r,1),s=bi(s,r,1),r=rn(),s!==null&&(li(s,1,r),dn(s,r));break}}s=s.return}}function Ob(r,s,a){var d=r.pingCache;d!==null&&d.delete(s),s=rn(),r.pingedLanes|=r.suspendedLanes&a,Lt===r&&(Bt&a)===a&&(Pt===4||Pt===3&&(Bt&130023424)===Bt&&500>nt()-Hd?Rs(r,0):zd|=a),dn(r,s)}function Hg(r,s){s===0&&(r.mode&1?(s=tu,tu<<=1,!(tu&130023424)&&(tu=4194304)):s=1);var a=rn();r=jr(r,s),r!==null&&(li(r,s,a),dn(r,a))}function Lb(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Hg(r,a)}function Mb(r,s){var a=0;switch(r.tag){case 13:var d=r.stateNode,_=r.memoizedState;_!==null&&(a=_.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Hg(r,a)}var $g;$g=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||an.current)cn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return cn=!1,Tb(r,s,a);cn=!!(r.flags&131072)}else cn=!1,at&&s.flags&1048576&&Sm(s,xl,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Bl(r,s),r=s.pendingProps;var _=wu(s,Wt.current);xu(s,a),_=bd(null,s,d,r,_,a);var b=Ed();return s.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ln(d)?(b=!0,Tl(s)):b=!1,s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,pd(s),_.updater=jl,s.stateNode=_,_._reactInternals=s,Rd(s,d,r,a),s=Nd(null,s,d,!0,b,a)):(s.tag=0,at&&b&&id(s),nn(null,s,_,a),s=s.child),s;case 16:d=s.elementType;e:{switch(Bl(r,s),r=s.pendingProps,_=d._init,d=_(d._payload),s.type=d,_=s.tag=Ub(d),r=Gn(d,r),_){case 0:s=kd(null,s,d,r,a);break e;case 1:s=yg(null,s,d,r,a);break e;case 11:s=dg(null,s,d,r,a);break e;case 14:s=hg(null,s,d,Gn(d.type,r),a);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,_=s.pendingProps,_=s.elementType===d?_:Gn(d,_),kd(r,s,d,_,a);case 1:return d=s.type,_=s.pendingProps,_=s.elementType===d?_:Gn(d,_),yg(r,s,d,_,a);case 3:e:{if(_g(s),r===null)throw Error(t(387));d=s.pendingProps,b=s.memoizedState,_=b.element,Dm(r,s),Nl(s,d,null,a);var N=s.memoizedState;if(d=N.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){_=Ru(Error(t(423)),s),s=vg(r,s,d,a,_);break e}else if(d!==_){_=Ru(Error(t(424)),s),s=vg(r,s,d,a,_);break e}else for(En=gi(s.stateNode.containerInfo.firstChild),bn=s,at=!0,Wn=null,a=km(s,null,d,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Tu(),d===_){s=Br(r,s,a);break e}nn(r,s,d,a)}s=s.child}return s;case 5:return Mm(s),r===null&&od(s),d=s.type,_=s.pendingProps,b=r!==null?r.memoizedProps:null,N=_.children,Jf(d,_)?N=null:b!==null&&Jf(d,b)&&(s.flags|=32),gg(r,s),nn(r,s,N,a),s.child;case 6:return r===null&&od(s),null;case 13:return wg(r,s,a);case 4:return md(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Su(s,null,d,a):nn(r,s,d,a),s.child;case 11:return d=s.type,_=s.pendingProps,_=s.elementType===d?_:Gn(d,_),dg(r,s,d,_,a);case 7:return nn(r,s,s.pendingProps,a),s.child;case 8:return nn(r,s,s.pendingProps.children,a),s.child;case 12:return nn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(d=s.type._context,_=s.pendingProps,b=s.memoizedProps,N=_.value,rt(Cl,d._currentValue),d._currentValue=N,b!==null)if($n(b.value,N)){if(b.children===_.children&&!an.current){s=Br(r,s,a);break e}}else for(b=s.child,b!==null&&(b.return=s);b!==null;){var B=b.dependencies;if(B!==null){N=b.child;for(var z=B.firstContext;z!==null;){if(z.context===d){if(b.tag===1){z=Fr(-1,a&-a),z.tag=2;var Y=b.updateQueue;if(Y!==null){Y=Y.shared;var ue=Y.pending;ue===null?z.next=z:(z.next=ue.next,ue.next=z),Y.pending=z}}b.lanes|=a,z=b.alternate,z!==null&&(z.lanes|=a),dd(b.return,a,s),B.lanes|=a;break}z=z.next}}else if(b.tag===10)N=b.type===s.type?null:b.child;else if(b.tag===18){if(N=b.return,N===null)throw Error(t(341));N.lanes|=a,B=N.alternate,B!==null&&(B.lanes|=a),dd(N,a,s),N=b.sibling}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===s){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}nn(r,s,_.children,a),s=s.child}return s;case 9:return _=s.type,d=s.pendingProps.children,xu(s,a),_=kn(_),d=d(_),s.flags|=1,nn(r,s,d,a),s.child;case 14:return d=s.type,_=Gn(d,s.pendingProps),_=Gn(d.type,_),hg(r,s,d,_,a);case 15:return pg(r,s,s.type,s.pendingProps,a);case 17:return d=s.type,_=s.pendingProps,_=s.elementType===d?_:Gn(d,_),Bl(r,s),s.tag=1,ln(d)?(r=!0,Tl(s)):r=!1,xu(s,a),sg(s,d,_),Rd(s,d,_,a),Nd(null,s,d,!0,r,a);case 19:return Eg(r,s,a);case 22:return mg(r,s,a)}throw Error(t(156,s.tag))};function Wg(r,s){return Zs(r,s)}function Vb(r,s,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(r,s,a,d){return new Vb(r,s,a,d)}function Jd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ub(r){if(typeof r=="function")return Jd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===J)return 14}return 2}function Ai(r,s){var a=r.alternate;return a===null?(a=On(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Jl(r,s,a,d,_,b){var N=2;if(d=r,typeof r=="function")Jd(r)&&(N=1);else if(typeof r=="string")N=5;else e:switch(r){case k:return Ps(a.children,_,b,s);case P:N=8,_|=8;break;case L:return r=On(12,a,s,_|2),r.elementType=L,r.lanes=b,r;case V:return r=On(13,a,s,_),r.elementType=V,r.lanes=b,r;case fe:return r=On(19,a,s,_),r.elementType=fe,r.lanes=b,r;case we:return Zl(a,_,b,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:N=10;break e;case O:N=9;break e;case j:N=11;break e;case J:N=14;break e;case Te:N=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=On(N,a,s,_),s.elementType=r,s.type=d,s.lanes=b,s}function Ps(r,s,a,d){return r=On(7,r,d,s),r.lanes=a,r}function Zl(r,s,a,d){return r=On(22,r,d,s),r.elementType=we,r.lanes=a,r.stateNode={isHidden:!1},r}function Zd(r,s,a){return r=On(6,r,null,s),r.lanes=a,r}function eh(r,s,a){return s=On(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function jb(r,s,a,d,_){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=d,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function th(r,s,a,d,_,b,N,B,z){return r=new jb(r,s,a,B,z),s===1?(s=1,b===!0&&(s|=8)):s=0,b=On(3,null,null,s),r.current=b,b.stateNode=r,b.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},pd(b),r}function Fb(r,s,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:d==null?null:""+d,children:r,containerInfo:s,implementation:a}}function Gg(r){if(!r)return _i;r=r._reactInternals;e:{if(Un(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ln(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(ln(a))return bm(r,a,s)}return s}function Kg(r,s,a,d,_,b,N,B,z){return r=th(a,d,!0,r,_,b,N,B,z),r.context=Gg(null),a=r.current,d=rn(),_=Ii(a),b=Fr(d,_),b.callback=s??null,bi(a,b,_),r.current.lanes=_,li(r,_,d),dn(r,d),r}function ec(r,s,a,d){var _=s.current,b=rn(),N=Ii(_);return a=Gg(a),s.context===null?s.context=a:s.pendingContext=a,s=Fr(b,N),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=bi(_,s,N),r!==null&&(Yn(r,_,N,b),kl(r,_,N)),N}function tc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Qg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function nh(r,s){Qg(r,s),(r=r.alternate)&&Qg(r,s)}var Yg=typeof reportError=="function"?reportError:function(r){console.error(r)};function rh(r){this._internalRoot=r}nc.prototype.render=rh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));ec(r,s,null,null)},nc.prototype.unmount=rh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;As(function(){ec(null,r,null,null)}),s[Lr]=null}};function nc(r){this._internalRoot=r}nc.prototype.unstable_scheduleHydration=function(r){if(r){var s=nl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<cr.length&&s!==0&&s<cr[a].priority;a++);cr.splice(a,0,r),a===0&&sl(r)}};function ih(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function rc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Xg(){}function Bb(r,s,a,d,_){if(_){if(typeof d=="function"){var b=d;d=function(){var Y=tc(N);b.call(Y)}}var N=Kg(s,d,r,0,null,!1,!1,"",Xg);return r._reactRootContainer=N,r[Lr]=N.current,Vo(r.nodeType===8?r.parentNode:r),As(),N}for(;_=r.lastChild;)r.removeChild(_);if(typeof d=="function"){var B=d;d=function(){var Y=tc(z);B.call(Y)}}var z=th(r,0,!1,null,null,!1,!1,"",Xg);return r._reactRootContainer=z,r[Lr]=z.current,Vo(r.nodeType===8?r.parentNode:r),As(function(){ec(s,z,a,d)}),z}function ic(r,s,a,d,_){var b=a._reactRootContainer;if(b){var N=b;if(typeof _=="function"){var B=_;_=function(){var z=tc(N);B.call(z)}}ec(s,N,r,_)}else N=Bb(a,s,r,_,d);return tc(N)}el=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=oi(s.pendingLanes);a!==0&&(ci(s,a|1),dn(s,nt()),!(Qe&6)&&(ku=nt()+500,vi()))}break;case 13:As(function(){var d=jr(r,1);if(d!==null){var _=rn();Yn(d,r,1,_)}}),nh(r,1)}},nu=function(r){if(r.tag===13){var s=jr(r,134217728);if(s!==null){var a=rn();Yn(s,r,134217728,a)}nh(r,134217728)}},tl=function(r){if(r.tag===13){var s=Ii(r),a=jr(r,s);if(a!==null){var d=rn();Yn(a,r,s,d)}nh(r,s)}},nl=function(){return He},rl=function(r,s){var a=He;try{return He=r,s()}finally{He=a}},Gs=function(r,s,a){switch(s){case"input":if(Xe(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var d=a[s];if(d!==r&&d.form===r.form){var _=bl(d);if(!_)throw Error(t(90));pe(d),Xe(d,_)}}}break;case"textarea":Nt(r,a);break;case"select":s=a.value,s!=null&&Ve(r,!!a.multiple,s,!1)}},os=Qd,_o=As;var qb={usingClientEntryPoint:!1,Events:[Fo,_u,bl,ar,yo,Qd]},ea={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zb={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=bo(r),r===null?null:r.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{ds=sc.inject(zb),yn=sc}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qb,hn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ih(s))throw Error(t(200));return Fb(r,s,null,a)},hn.createRoot=function(r,s){if(!ih(r))throw Error(t(299));var a=!1,d="",_=Yg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=th(r,1,!1,null,null,a,!1,d,_),r[Lr]=s.current,Vo(r.nodeType===8?r.parentNode:r),new rh(s)},hn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=bo(s),r=r===null?null:r.stateNode,r},hn.flushSync=function(r){return As(r)},hn.hydrate=function(r,s,a){if(!rc(s))throw Error(t(200));return ic(null,r,s,!0,a)},hn.hydrateRoot=function(r,s,a){if(!ih(r))throw Error(t(405));var d=a!=null&&a.hydratedSources||null,_=!1,b="",N=Yg;if(a!=null&&(a.unstable_strictMode===!0&&(_=!0),a.identifierPrefix!==void 0&&(b=a.identifierPrefix),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),s=Kg(s,null,r,1,a??null,_,!1,b,N),r[Lr]=s.current,Vo(r),d)for(r=0;r<d.length;r++)a=d[r],_=a._getVersion,_=_(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,_]:s.mutableSourceEagerHydrationData.push(a,_);return new nc(s)},hn.render=function(r,s,a){if(!rc(s))throw Error(t(200));return ic(null,r,s,!1,a)},hn.unmountComponentAtNode=function(r){if(!rc(r))throw Error(t(40));return r._reactRootContainer?(As(function(){ic(null,null,r,!1,function(){r._reactRootContainer=null,r[Lr]=null})}),!0):!1},hn.unstable_batchedUpdates=Qd,hn.unstable_renderSubtreeIntoContainer=function(r,s,a,d){if(!rc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ic(r,s,a,!1,d)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var sy;function Y_(){if(sy)return oh.exports;sy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),oh.exports=eE(),oh.exports}var uy;function tE(){if(uy)return uc;uy=1;var n=Y_();return uc.createRoot=n.createRoot,uc.hydrateRoot=n.hydrateRoot,uc}var nE=tE(),na={},oy;function rE(){if(oy)return na;oy=1,Object.defineProperty(na,"__esModule",{value:!0}),na.parse=l,na.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,o=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function l(m,g){const E=new o,S=m.length;if(S<2)return E;const I=(g==null?void 0:g.decode)||y;let T=0;do{const C=m.indexOf("=",T);if(C===-1)break;const D=m.indexOf(";",T),A=D===-1?S:D;if(C>A){T=m.lastIndexOf(";",C-1)+1;continue}const R=f(m,T,C),F=p(m,C,R),k=m.slice(R,F);if(E[k]===void 0){let P=f(m,C+1,A),L=p(m,A,P);const U=I(m.slice(P,L));E[k]=U}T=A+1}while(T<S);return E}function f(m,g,E){do{const S=m.charCodeAt(g);if(S!==32&&S!==9)return g}while(++g<E);return E}function p(m,g,E){for(;g>E;){const S=m.charCodeAt(--g);if(S!==32&&S!==9)return g+1}return E}function h(m,g,E){const S=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(m))throw new TypeError(`argument name is invalid: ${m}`);const I=S(g);if(!e.test(I))throw new TypeError(`argument val is invalid: ${g}`);let T=m+"="+I;if(!E)return T;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);T+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);T+="; Domain="+E.domain}if(E.path){if(!i.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);T+="; Path="+E.path}if(E.expires){if(!v(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);T+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(T+="; HttpOnly"),E.secure&&(T+="; Secure"),E.partitioned&&(T+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return T}function y(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function v(m){return u.call(m)==="[object Date]"}return na}rE();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ay="popstate";function iE(n={}){function e(i,u){let{pathname:o,search:l,hash:f}=i.location;return cp("",{pathname:o,search:l,hash:f},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(i,u){return typeof u=="string"?u:_a(u)}return uE(e,t,null,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sE(){return Math.random().toString(36).substring(2,10)}function ly(n,e){return{usr:n.state,key:n.key,idx:e}}function cp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?eo(e):e,state:t,key:e&&e.key||i||sE()}}function _a({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function eo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function uE(n,e,t,i={}){let{window:u=document.defaultView,v5Compat:o=!1}=i,l=u.history,f="POP",p=null,h=y();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function y(){return(l.state||{idx:null}).idx}function v(){f="POP";let I=y(),T=I==null?null:I-h;h=I,p&&p({action:f,location:S.location,delta:T})}function m(I,T){f="PUSH";let C=cp(S.location,I,T);h=y()+1;let D=ly(C,h),A=S.createHref(C);try{l.pushState(D,"",A)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;u.location.assign(A)}o&&p&&p({action:f,location:S.location,delta:1})}function g(I,T){f="REPLACE";let C=cp(S.location,I,T);h=y();let D=ly(C,h),A=S.createHref(C);l.replaceState(D,"",A),o&&p&&p({action:f,location:S.location,delta:0})}function E(I){let T=u.location.origin!=="null"?u.location.origin:u.location.href,C=typeof I=="string"?I:_a(I);return C=C.replace(/ $/,"%20"),lt(T,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,T)}let S={get action(){return f},get location(){return n(u,l)},listen(I){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(ay,v),p=I,()=>{u.removeEventListener(ay,v),p=null}},createHref(I){return e(u,I)},createURL:E,encodeLocation(I){let T=E(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:g,go(I){return l.go(I)}};return S}function X_(n,e,t="/"){return oE(n,e,t,!1)}function oE(n,e,t,i){let u=typeof e=="string"?eo(e):e,o=Wi(u.pathname||"/",t);if(o==null)return null;let l=J_(n);aE(l);let f=null;for(let p=0;f==null&&p<l.length;++p){let h=vE(o);f=yE(l[p],h,i)}return f}function J_(n,e=[],t=[],i=""){let u=(o,l,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let h=Yr([i,p.relativePath]),y=t.concat(p);o.children&&o.children.length>0&&(lt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),J_(o.children,e,y,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:mE(h,o.index),routesMeta:y})};return n.forEach((o,l)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))u(o,l);else for(let p of Z_(o.path))u(o,l,p)}),e}function Z_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,u=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return u?[o,""]:[o];let l=Z_(i.join("/")),f=[];return f.push(...l.map(p=>p===""?o:[o,p].join("/"))),u&&f.push(...l),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function aE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var lE=/^:[\w-]+$/,cE=3,fE=2,dE=1,hE=10,pE=-2,cy=n=>n==="*";function mE(n,e){let t=n.split("/"),i=t.length;return t.some(cy)&&(i+=pE),e&&(i+=fE),t.filter(u=>!cy(u)).reduce((u,o)=>u+(lE.test(o)?cE:o===""?dE:hE),i)}function gE(n,e){return n.length===e.length&&n.slice(0,-1).every((i,u)=>i===e[u])?n[n.length-1]-e[e.length-1]:0}function yE(n,e,t=!1){let{routesMeta:i}=n,u={},o="/",l=[];for(let f=0;f<i.length;++f){let p=i[f],h=f===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=Mc({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},y),m=p.route;if(!v&&h&&t&&!i[i.length-1].route.index&&(v=Mc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(u,v.params),l.push({params:u,pathname:Yr([o,v.pathname]),pathnameBase:TE(Yr([o,v.pathnameBase])),route:m}),v.pathnameBase!=="/"&&(o=Yr([o,v.pathnameBase]))}return l}function Mc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=_E(n.path,n.caseSensitive,n.end),u=e.match(t);if(!u)return null;let o=u[0],l=o.replace(/(.)\/+$/,"$1"),f=u.slice(1);return{params:i.reduce((h,{paramName:y,isOptional:v},m)=>{if(y==="*"){let E=f[m]||"";l=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const g=f[m];return v&&!g?h[y]=void 0:h[y]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:n}}function _E(n,e=!1,t=!0){tr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,e?void 0:"i"),i]}function vE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Wi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function wE(n,e="/"){let{pathname:t,search:i="",hash:u=""}=typeof n=="string"?eo(n):n;return{pathname:t?t.startsWith("/")?t:bE(t,e):e,search:SE(i),hash:IE(u)}}function bE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?t.length>1&&t.pop():u!=="."&&t.push(u)}),t.length>1?t.join("/"):"/"}function ch(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fp(n){let e=EE(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Bp(n,e,t,i=!1){let u;typeof n=="string"?u=eo(n):(u={...n},lt(!u.pathname||!u.pathname.includes("?"),ch("?","pathname","search",u)),lt(!u.pathname||!u.pathname.includes("#"),ch("#","pathname","hash",u)),lt(!u.search||!u.search.includes("#"),ch("#","search","hash",u)));let o=n===""||u.pathname==="",l=o?"/":u.pathname,f;if(l==null)f=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),v-=1;u.pathname=m.join("/")}f=v>=0?e[v]:"/"}let p=wE(u,f),h=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(h||y)&&(p.pathname+="/"),p}var Yr=n=>n.join("/").replace(/\/\/+/g,"/"),TE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,IE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ev=["POST","PUT","PATCH","DELETE"];new Set(ev);var AE=["GET",...ev];new Set(AE);var to=W.createContext(null);to.displayName="DataRouter";var nf=W.createContext(null);nf.displayName="DataRouterState";var tv=W.createContext({isTransitioning:!1});tv.displayName="ViewTransition";var RE=W.createContext(new Map);RE.displayName="Fetchers";var CE=W.createContext(null);CE.displayName="Await";var ir=W.createContext(null);ir.displayName="Navigation";var Aa=W.createContext(null);Aa.displayName="Location";var sr=W.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var qp=W.createContext(null);qp.displayName="RouteError";function PE(n,{relative:e}={}){lt(no(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=W.useContext(ir),{hash:u,pathname:o,search:l}=Ca(n,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:Yr([t,o])),i.createHref({pathname:f,search:l,hash:u})}function no(){return W.useContext(Aa)!=null}function ni(){return lt(no(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Aa).location}var nv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rv(n){W.useContext(ir).static||W.useLayoutEffect(n)}function Ra(){let{isDataRoute:n}=W.useContext(sr);return n?zE():kE()}function kE(){lt(no(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(to),{basename:e,navigator:t}=W.useContext(ir),{matches:i}=W.useContext(sr),{pathname:u}=ni(),o=JSON.stringify(Fp(i)),l=W.useRef(!1);return rv(()=>{l.current=!0}),W.useCallback((p,h={})=>{if(tr(l.current,nv),!l.current)return;if(typeof p=="number"){t.go(p);return}let y=Bp(p,JSON.parse(o),u,h.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Yr([e,y.pathname])),(h.replace?t.replace:t.push)(y,h.state,h)},[e,t,o,u,n])}W.createContext(null);function iv(){let{matches:n}=W.useContext(sr),e=n[n.length-1];return e?e.params:{}}function Ca(n,{relative:e}={}){let{matches:t}=W.useContext(sr),{pathname:i}=ni(),u=JSON.stringify(Fp(t));return W.useMemo(()=>Bp(n,JSON.parse(u),i,e==="path"),[n,u,i,e])}function NE(n,e){return sv(n,e)}function sv(n,e,t,i){var T;lt(no(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=W.useContext(ir),{matches:o}=W.useContext(sr),l=o[o.length-1],f=l?l.params:{},p=l?l.pathname:"/",h=l?l.pathnameBase:"/",y=l&&l.route;{let C=y&&y.path||"";uv(p,!y||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=ni(),m;if(e){let C=typeof e=="string"?eo(e):e;lt(h==="/"||((T=C.pathname)==null?void 0:T.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),m=C}else m=v;let g=m.pathname||"/",E=g;if(h!=="/"){let C=h.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=X_(n,{pathname:E});tr(y||S!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),tr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=VE(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:Yr([h,u.encodeLocation?u.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Yr([h,u.encodeLocation?u.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,t,i);return e&&I?W.createElement(Aa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},I):I}function DE(){let n=qE(),e=xE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:u},t):null,l)}var OE=W.createElement(DE,null),LE=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(sr.Provider,{value:this.props.routeContext},W.createElement(qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ME({routeContext:n,match:e,children:t}){let i=W.useContext(to);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(sr.Provider,{value:n},t)}function VE(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,o=t==null?void 0:t.errors;if(o!=null){let p=u.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let l=!1,f=-1;if(t)for(let p=0;p<u.length;p++){let h=u[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=p),h.route.id){let{loaderData:y,errors:v}=t,m=h.route.loader&&!y.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||m){l=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}return u.reduceRight((p,h,y)=>{let v,m=!1,g=null,E=null;t&&(v=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||OE,l&&(f<0&&y===0?(uv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,E=null):f===y&&(m=!0,E=h.route.hydrateFallbackElement||null)));let S=e.concat(u.slice(0,y+1)),I=()=>{let T;return v?T=g:m?T=E:h.route.Component?T=W.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=p,W.createElement(ME,{match:h,routeContext:{outlet:p,matches:S,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?W.createElement(LE,{location:t.location,revalidation:t.revalidation,component:g,error:v,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):I()},null)}function zp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UE(n){let e=W.useContext(to);return lt(e,zp(n)),e}function jE(n){let e=W.useContext(nf);return lt(e,zp(n)),e}function FE(n){let e=W.useContext(sr);return lt(e,zp(n)),e}function Hp(n){let e=FE(n),t=e.matches[e.matches.length-1];return lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function BE(){return Hp("useRouteId")}function qE(){var i;let n=W.useContext(qp),e=jE("useRouteError"),t=Hp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function zE(){let{router:n}=UE("useNavigate"),e=Hp("useNavigate"),t=W.useRef(!1);return rv(()=>{t.current=!0}),W.useCallback(async(u,o={})=>{tr(t.current,nv),t.current&&(typeof u=="number"?n.navigate(u):await n.navigate(u,{fromRouteId:e,...o}))},[n,e])}var fy={};function uv(n,e,t){!e&&!fy[n]&&(fy[n]=!0,tr(!1,t))}W.memo(HE);function HE({routes:n,future:e,state:t}){return sv(n,void 0,t,e)}function Du({to:n,replace:e,state:t,relative:i}){lt(no(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=W.useContext(ir);tr(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=W.useContext(sr),{pathname:l}=ni(),f=Ra(),p=Bp(n,Fp(o),l,i==="path"),h=JSON.stringify(p);return W.useEffect(()=>{f(JSON.parse(h),{replace:e,state:t,relative:i})},[f,h,i,e,t]),null}function Ln(n){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $E({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:u,static:o=!1}){lt(!no(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),f=W.useMemo(()=>({basename:l,navigator:u,static:o,future:{}}),[l,u,o]);typeof t=="string"&&(t=eo(t));let{pathname:p="/",search:h="",hash:y="",state:v=null,key:m="default"}=t,g=W.useMemo(()=>{let E=Wi(p,l);return E==null?null:{location:{pathname:E,search:h,hash:y,state:v,key:m},navigationType:i}},[l,p,h,y,v,m,i]);return tr(g!=null,`<Router basename="${l}"> is not able to match the URL "${p}${h}${y}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:W.createElement(ir.Provider,{value:f},W.createElement(Aa.Provider,{children:e,value:g}))}function WE({children:n,location:e}){return NE(fp(n),e)}function fp(n,e=[]){let t=[];return W.Children.forEach(n,(i,u)=>{if(!W.isValidElement(i))return;let o=[...e,u];if(i.type===W.Fragment){t.push.apply(t,fp(i.props.children,o));return}lt(i.type===Ln,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=fp(i.props.children,o)),t.push(l)}),t}var Tc="get",Sc="application/x-www-form-urlencoded";function rf(n){return n!=null&&typeof n.tagName=="string"}function GE(n){return rf(n)&&n.tagName.toLowerCase()==="button"}function KE(n){return rf(n)&&n.tagName.toLowerCase()==="form"}function QE(n){return rf(n)&&n.tagName.toLowerCase()==="input"}function YE(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XE(n,e){return n.button===0&&(!e||e==="_self")&&!YE(n)}var oc=null;function JE(){if(oc===null)try{new FormData(document.createElement("form"),0),oc=!1}catch{oc=!0}return oc}var ZE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fh(n){return n!=null&&!ZE.has(n)?(tr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sc}"`),null):n}function eT(n,e){let t,i,u,o,l;if(KE(n)){let f=n.getAttribute("action");i=f?Wi(f,e):null,t=n.getAttribute("method")||Tc,u=fh(n.getAttribute("enctype"))||Sc,o=new FormData(n)}else if(GE(n)||QE(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?Wi(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Tc,u=fh(n.getAttribute("formenctype"))||fh(f.getAttribute("enctype"))||Sc,o=new FormData(f,n),!JE()){let{name:h,type:y,value:v}=n;if(y==="image"){let m=h?`${h}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else h&&o.append(h,v)}}else{if(rf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tc,i=null,u=Sc,l=n}return o&&u==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:u,formData:o,body:l}}function $p(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function tT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function rT(n,e,t){let i=await Promise.all(n.map(async u=>{let o=e.routes[u.route.id];if(o){let l=await tT(o,t);return l.links?l.links():[]}return[]}));return oT(i.flat(1).filter(nT).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function dy(n,e,t,i,u,o){let l=(p,h)=>t[h]?p.route.id!==t[h].route.id:!0,f=(p,h)=>{var y;return t[h].pathname!==p.pathname||((y=t[h].route.path)==null?void 0:y.endsWith("*"))&&t[h].params["*"]!==p.params["*"]};return o==="assets"?e.filter((p,h)=>l(p,h)||f(p,h)):o==="data"?e.filter((p,h)=>{var v;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(l(p,h)||f(p,h))return!0;if(p.route.shouldRevalidate){let m=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function iT(n,e){return sT(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let u=[i.module];return i.imports&&(u=u.concat(i.imports)),u}).flat(1))}function sT(n){return[...new Set(n)]}function uT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function oT(n,e){let t=new Set;return new Set(e),n.reduce((i,u)=>{let o=JSON.stringify(uT(u));return t.has(o)||(t.add(o),i.push({key:o,link:u})),i},[])}function aT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function lT(){let n=W.useContext(to);return $p(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function cT(){let n=W.useContext(nf);return $p(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Wp=W.createContext(void 0);Wp.displayName="FrameworkContext";function ov(){let n=W.useContext(Wp);return $p(n,"You must render this element inside a <HydratedRouter> element"),n}function fT(n,e){let t=W.useContext(Wp),[i,u]=W.useState(!1),[o,l]=W.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:h,onMouseLeave:y,onTouchStart:v}=e,m=W.useRef(null);W.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=T=>{T.forEach(C=>{l(C.isIntersecting)})},I=new IntersectionObserver(S,{threshold:.5});return m.current&&I.observe(m.current),()=>{I.disconnect()}}},[n]),W.useEffect(()=>{if(i){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[i]);let g=()=>{u(!0)},E=()=>{u(!1),l(!1)};return t?n!=="intent"?[o,m,{}]:[o,m,{onFocus:ra(f,g),onBlur:ra(p,E),onMouseEnter:ra(h,g),onMouseLeave:ra(y,E),onTouchStart:ra(v,g)}]:[!1,m,{}]}function ra(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function dT({page:n,...e}){let{router:t}=lT(),i=W.useMemo(()=>X_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?W.createElement(pT,{page:n,matches:i,...e}):null}function hT(n){let{manifest:e,routeModules:t}=ov(),[i,u]=W.useState([]);return W.useEffect(()=>{let o=!1;return rT(n,e,t).then(l=>{o||u(l)}),()=>{o=!0}},[n,e,t]),i}function pT({page:n,matches:e,...t}){let i=ni(),{manifest:u,routeModules:o}=ov(),{loaderData:l,matches:f}=cT(),p=W.useMemo(()=>dy(n,e,f,u,i,"data"),[n,e,f,u,i]),h=W.useMemo(()=>dy(n,e,f,u,i,"assets"),[n,e,f,u,i]),y=W.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let g=new Set,E=!1;if(e.forEach(I=>{var C;let T=u.routes[I.route.id];!T||!T.hasLoader||(!p.some(D=>D.route.id===I.route.id)&&I.route.id in l&&((C=o[I.route.id])!=null&&C.shouldRevalidate)||T.hasClientLoader?E=!0:g.add(I.route.id))}),g.size===0)return[];let S=aT(n);return E&&g.size>0&&S.searchParams.set("_routes",e.filter(I=>g.has(I.route.id)).map(I=>I.route.id).join(",")),[S.pathname+S.search]},[l,i,u,p,e,n,o]),v=W.useMemo(()=>iT(h,u),[h,u]),m=hT(h);return W.createElement(W.Fragment,null,y.map(g=>W.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...t})),v.map(g=>W.createElement("link",{key:g,rel:"modulepreload",href:g,...t})),m.map(({key:g,link:E})=>W.createElement("link",{key:g,...E})))}function mT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var av=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{av&&(window.__reactRouterVersion="7.1.3")}catch{}function gT({basename:n,children:e,window:t}){let i=W.useRef();i.current==null&&(i.current=iE({window:t,v5Compat:!0}));let u=i.current,[o,l]=W.useState({action:u.action,location:u.location}),f=W.useCallback(p=>{W.startTransition(()=>l(p))},[l]);return W.useLayoutEffect(()=>u.listen(f),[u,f]),W.createElement($E,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:u})}var lv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gi=W.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:u,reloadDocument:o,replace:l,state:f,target:p,to:h,preventScrollReset:y,viewTransition:v,...m},g){let{basename:E}=W.useContext(ir),S=typeof h=="string"&&lv.test(h),I,T=!1;if(typeof h=="string"&&S&&(I=h,av))try{let L=new URL(window.location.href),U=h.startsWith("//")?new URL(L.protocol+h):new URL(h),O=Wi(U.pathname,E);U.origin===L.origin&&O!=null?h=O+U.search+U.hash:T=!0}catch{tr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=PE(h,{relative:u}),[D,A,R]=fT(i,m),F=vT(h,{replace:l,state:f,target:p,preventScrollReset:y,relative:u,viewTransition:v});function k(L){e&&e(L),L.defaultPrevented||F(L)}let P=W.createElement("a",{...m,...R,href:I||C,onClick:T||o?e:k,ref:mT(g,A),target:p,"data-discover":!S&&t==="render"?"true":void 0});return D&&!S?W.createElement(W.Fragment,null,P,W.createElement(dT,{page:C})):P});Gi.displayName="Link";var Oi=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:u=!1,style:o,to:l,viewTransition:f,children:p,...h},y){let v=Ca(l,{relative:h.relative}),m=ni(),g=W.useContext(nf),{navigator:E,basename:S}=W.useContext(ir),I=g!=null&&ST(v)&&f===!0,T=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,C=m.pathname,D=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(C=C.toLowerCase(),D=D?D.toLowerCase():null,T=T.toLowerCase()),D&&S&&(D=Wi(D,S)||D);const A=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let R=C===T||!u&&C.startsWith(T)&&C.charAt(A)==="/",F=D!=null&&(D===T||!u&&D.startsWith(T)&&D.charAt(T.length)==="/"),k={isActive:R,isPending:F,isTransitioning:I},P=R?e:void 0,L;typeof i=="function"?L=i(k):L=[i,R?"active":null,F?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(k):o;return W.createElement(Gi,{...h,"aria-current":P,className:L,ref:y,style:U,to:l,viewTransition:f},typeof p=="function"?p(k):p)});Oi.displayName="NavLink";var yT=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:u,state:o,method:l=Tc,action:f,onSubmit:p,relative:h,preventScrollReset:y,viewTransition:v,...m},g)=>{let E=ET(),S=TT(f,{relative:h}),I=l.toLowerCase()==="get"?"get":"post",T=typeof f=="string"&&lv.test(f),C=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let A=D.nativeEvent.submitter,R=(A==null?void 0:A.getAttribute("formmethod"))||l;E(A||D.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:u,state:o,relative:h,preventScrollReset:y,viewTransition:v})};return W.createElement("form",{ref:g,method:I,action:S,onSubmit:i?p:C,...m,"data-discover":!T&&n==="render"?"true":void 0})});yT.displayName="Form";function _T(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cv(n){let e=W.useContext(to);return lt(e,_T(n)),e}function vT(n,{target:e,replace:t,state:i,preventScrollReset:u,relative:o,viewTransition:l}={}){let f=Ra(),p=ni(),h=Ca(n,{relative:o});return W.useCallback(y=>{if(XE(y,e)){y.preventDefault();let v=t!==void 0?t:_a(p)===_a(h);f(n,{replace:v,state:i,preventScrollReset:u,relative:o,viewTransition:l})}},[p,f,h,t,i,e,n,u,o,l])}var wT=0,bT=()=>`__${String(++wT)}__`;function ET(){let{router:n}=cv("useSubmit"),{basename:e}=W.useContext(ir),t=BE();return W.useCallback(async(i,u={})=>{let{action:o,method:l,encType:f,formData:p,body:h}=eT(i,e);if(u.navigate===!1){let y=u.fetcherKey||bT();await n.fetch(y,t,u.action||o,{preventScrollReset:u.preventScrollReset,formData:p,body:h,formMethod:u.method||l,formEncType:u.encType||f,flushSync:u.flushSync})}else await n.navigate(u.action||o,{preventScrollReset:u.preventScrollReset,formData:p,body:h,formMethod:u.method||l,formEncType:u.encType||f,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,e,t])}function TT(n,{relative:e}={}){let{basename:t}=W.useContext(ir),i=W.useContext(sr);lt(i,"useFormAction must be used inside a RouteContext");let[u]=i.matches.slice(-1),o={...Ca(n||".",{relative:e})},l=ni();if(n==null){o.search=l.search;let f=new URLSearchParams(o.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&u.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Yr([t,o.pathname])),_a(o)}function ST(n,e={}){let t=W.useContext(tv);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=cv("useViewTransitionState"),u=Ca(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Wi(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=Wi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Mc(u.pathname,l)!=null||Mc(u.pathname,o)!=null}new TextEncoder;Y_();var hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let u=n.charCodeAt(i);u<128?e[t++]=u:u<2048?(e[t++]=u>>6|192,e[t++]=u&63|128):(u&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(u=65536+((u&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=u>>18|240,e[t++]=u>>12&63|128,e[t++]=u>>6&63|128,e[t++]=u&63|128):(e[t++]=u>>12|224,e[t++]=u>>6&63|128,e[t++]=u&63|128)}return e},IT=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const u=n[t++];if(u<128)e[i++]=String.fromCharCode(u);else if(u>191&&u<224){const o=n[t++];e[i++]=String.fromCharCode((u&31)<<6|o&63)}else if(u>239&&u<365){const o=n[t++],l=n[t++],f=n[t++],p=((u&7)<<18|(o&63)<<12|(l&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const o=n[t++],l=n[t++];e[i++]=String.fromCharCode((u&15)<<12|(o&63)<<6|l&63)}}return e.join("")},dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let u=0;u<n.length;u+=3){const o=n[u],l=u+1<n.length,f=l?n[u+1]:0,p=u+2<n.length,h=p?n[u+2]:0,y=o>>2,v=(o&3)<<4|f>>4;let m=(f&15)<<2|h>>6,g=h&63;p||(g=64,l||(m=64)),i.push(t[y],t[v],t[m],t[g])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):IT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let u=0;u<n.length;){const o=t[n.charAt(u++)],f=u<n.length?t[n.charAt(u)]:0;++u;const h=u<n.length?t[n.charAt(u)]:64;++u;const v=u<n.length?t[n.charAt(u)]:64;if(++u,o==null||f==null||h==null||v==null)throw new xT;const m=o<<2|f>>4;if(i.push(m),h!==64){const g=f<<4&240|h>>2;if(i.push(g),v!==64){const E=h<<6&192|v;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AT=function(n){const e=fv(n);return dv.encodeByteArray(e,!0)},Vc=function(n){return AT(n).replace(/\./g,"")},hv=function(n){try{return dv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=()=>RT().__FIREBASE_DEFAULTS__,PT=()=>{if(typeof process>"u"||typeof hy>"u")return;const n=hy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&hv(n[1]);return e&&JSON.parse(e)},sf=()=>{try{return CT()||PT()||kT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pv=n=>{var e,t;return(t=(e=sf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},NT=n=>{const e=pv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},mv=()=>{var n;return(n=sf())===null||n===void 0?void 0:n.config},gv=n=>{var e;return(e=sf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",u=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:u,exp:u+3600,auth_time:u,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Vc(JSON.stringify(t)),Vc(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function MT(){var n;const e=(n=sf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FT(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function BT(){return!MT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qT(){try{return typeof indexedDB=="object"}catch{return!1}}function zT(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(i);u.onsuccess=()=>{u.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},u.onupgradeneeded=()=>{t=!1},u.onerror=()=>{var o;e(((o=u.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="FirebaseError";class ri extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=HT,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pa.prototype.create)}}class Pa{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},u=`${this.service}/${e}`,o=this.errors[e],l=o?$T(o,i):"Error",f=`${this.serviceName}: ${l} (${u}).`;return new ri(u,f,i)}}function $T(n,e){return n.replace(WT,(t,i)=>{const u=e[i];return u!=null?String(u):`<${i}?>`})}const WT=/\{\$([^}]+)}/g;function GT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Uc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const u of t){if(!i.includes(u))return!1;const o=n[u],l=e[u];if(py(o)&&py(l)){if(!Uc(o,l))return!1}else if(o!==l)return!1}for(const u of i)if(!t.includes(u))return!1;return!0}function py(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(u=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(u))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function oa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[u,o]=i.split("=");e[decodeURIComponent(u)]=decodeURIComponent(o)}}),e}function aa(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function KT(n,e){const t=new QT(n,e);return t.subscribe.bind(t)}class QT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let u;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");YT(e,["next","error","complete"])?u=e:u={next:e,error:t,complete:i},u.next===void 0&&(u.next=dh),u.error===void 0&&(u.error=dh),u.complete===void 0&&(u.complete=dh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function dh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n){return n&&n._delegate?n._delegate:n}class Ms{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new DT;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:t});u&&i.resolve(u)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(u)return null;throw o}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZT(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:u});i.resolve(o)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,l]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);i===f&&l.resolve(u)}return u}onInit(e,t){var i;const u=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(u))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(u,o);const l=this.instances.get(u);return l&&e(l,u),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const u of i)try{u(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JT(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JT(n){return n===Os?void 0:n}function ZT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const tS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},nS=Be.INFO,rS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},iS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),u=rS[e];if(u)console[u](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gp{constructor(e){this.name=e,this._logLevel=nS,this._logHandler=iS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const sS=(n,e)=>e.some(t=>n instanceof t);let my,gy;function uS(){return my||(my=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yv=new WeakMap,dp=new WeakMap,_v=new WeakMap,hh=new WeakMap,Kp=new WeakMap;function aS(n){const e=new Promise((t,i)=>{const u=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Fi(n.result)),u()},l=()=>{i(n.error),u()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&yv.set(t,n)}).catch(()=>{}),Kp.set(e,n),e}function lS(n){if(dp.has(n))return;const e=new Promise((t,i)=>{const u=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),u()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),u()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});dp.set(n,e)}let hp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_v.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cS(n){hp=n(hp)}function fS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ph(this),e,...t);return _v.set(i,e.sort?e.sort():[e]),Fi(i)}:oS().includes(n)?function(...e){return n.apply(ph(this),e),Fi(yv.get(this))}:function(...e){return Fi(n.apply(ph(this),e))}}function dS(n){return typeof n=="function"?fS(n):(n instanceof IDBTransaction&&lS(n),sS(n,uS())?new Proxy(n,hp):n)}function Fi(n){if(n instanceof IDBRequest)return aS(n);if(hh.has(n))return hh.get(n);const e=dS(n);return e!==n&&(hh.set(n,e),Kp.set(e,n)),e}const ph=n=>Kp.get(n);function hS(n,e,{blocked:t,upgrade:i,blocking:u,terminated:o}={}){const l=indexedDB.open(n,e),f=Fi(l);return i&&l.addEventListener("upgradeneeded",p=>{i(Fi(l.result),p.oldVersion,p.newVersion,Fi(l.transaction),p)}),t&&l.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{o&&p.addEventListener("close",()=>o()),u&&p.addEventListener("versionchange",h=>u(h.oldVersion,h.newVersion,h))}).catch(()=>{}),f}const pS=["get","getKey","getAll","getAllKeys","count"],mS=["put","add","delete","clear"],mh=new Map;function yy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mh.get(e))return mh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,u=mS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(u||pS.includes(t)))return;const o=async function(l,...f){const p=this.transaction(l,u?"readwrite":"readonly");let h=p.store;return i&&(h=h.index(f.shift())),(await Promise.all([h[t](...f),u&&p.done]))[0]};return mh.set(e,o),o}cS(n=>({...n,get:(e,t,i)=>yy(e,t)||n.get(e,t,i),has:(e,t)=>!!yy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function yS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pp="@firebase/app",_y="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new Gp("@firebase/app"),_S="@firebase/app-compat",vS="@firebase/analytics-compat",wS="@firebase/analytics",bS="@firebase/app-check-compat",ES="@firebase/app-check",TS="@firebase/auth",SS="@firebase/auth-compat",IS="@firebase/database",xS="@firebase/data-connect",AS="@firebase/database-compat",RS="@firebase/functions",CS="@firebase/functions-compat",PS="@firebase/installations",kS="@firebase/installations-compat",NS="@firebase/messaging",DS="@firebase/messaging-compat",OS="@firebase/performance",LS="@firebase/performance-compat",MS="@firebase/remote-config",VS="@firebase/remote-config-compat",US="@firebase/storage",jS="@firebase/storage-compat",FS="@firebase/firestore",BS="@firebase/vertexai",qS="@firebase/firestore-compat",zS="firebase",HS="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="[DEFAULT]",$S={[pp]:"fire-core",[_S]:"fire-core-compat",[wS]:"fire-analytics",[vS]:"fire-analytics-compat",[ES]:"fire-app-check",[bS]:"fire-app-check-compat",[TS]:"fire-auth",[SS]:"fire-auth-compat",[IS]:"fire-rtdb",[xS]:"fire-data-connect",[AS]:"fire-rtdb-compat",[RS]:"fire-fn",[CS]:"fire-fn-compat",[PS]:"fire-iid",[kS]:"fire-iid-compat",[NS]:"fire-fcm",[DS]:"fire-fcm-compat",[OS]:"fire-perf",[LS]:"fire-perf-compat",[MS]:"fire-rc",[VS]:"fire-rc-compat",[US]:"fire-gcs",[jS]:"fire-gcs-compat",[FS]:"fire-fst",[qS]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[zS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,WS=new Map,gp=new Map;function vy(n,e){try{n.container.addComponent(e)}catch(t){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $u(n){const e=n.name;if(gp.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,n);for(const t of jc.values())vy(t,n);for(const t of WS.values())vy(t,n);return!0}function Qp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function br(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new Pa("app","Firebase",GS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=HS;function vv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:mp,automaticDataCollectionEnabled:!1},e),u=i.name;if(typeof u!="string"||!u)throw Bi.create("bad-app-name",{appName:String(u)});if(t||(t=mv()),!t)throw Bi.create("no-options");const o=jc.get(u);if(o){if(Uc(t,o.options)&&Uc(i,o.config))return o;throw Bi.create("duplicate-app",{appName:u})}const l=new eS(u);for(const p of gp.values())l.addComponent(p);const f=new KS(t,i,l);return jc.set(u,f),f}function wv(n=mp){const e=jc.get(n);if(!e&&n===mp&&mv())return vv();if(!e)throw Bi.create("no-app",{appName:n});return e}function qi(n,e,t){var i;let u=(i=$S[n])!==null&&i!==void 0?i:n;t&&(u+=`-${t}`);const o=u.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const f=[`Unable to register library "${u}" with version "${e}":`];o&&f.push(`library name "${u}" contains illegal characters (whitespace or "/")`),o&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(f.join(" "));return}$u(new Ms(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firebase-heartbeat-database",YS=1,va="firebase-heartbeat-store";let gh=null;function bv(){return gh||(gh=hS(QS,YS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(va)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bi.create("idb-open",{originalErrorMessage:n.message})})),gh}async function XS(n){try{const t=(await bv()).transaction(va),i=await t.objectStore(va).get(Ev(n));return await t.done,i}catch(e){if(e instanceof ri)Jr.warn(e.message);else{const t=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(t.message)}}}async function wy(n,e){try{const i=(await bv()).transaction(va,"readwrite");await i.objectStore(va).put(e,Ev(n)),await i.done}catch(t){if(t instanceof ri)Jr.warn(t.message);else{const i=Bi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Jr.warn(i.message)}}}function Ev(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=1024,ZS=30*24*60*60*1e3;class e3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new n3(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=by();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const f=new Date(l.date).valueOf();return Date.now()-f<=ZS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Jr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=by(),{heartbeatsToSend:i,unsentEntries:u}=t3(this._heartbeatsCache.heartbeats),o=Vc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Jr.warn(t),""}}}function by(){return new Date().toISOString().substring(0,10)}function t3(n,e=JS){const t=[];let i=n.slice();for(const u of n){const o=t.find(l=>l.agent===u.agent);if(o){if(o.dates.push(u.date),Ey(t)>e){o.dates.pop();break}}else if(t.push({agent:u.agent,dates:[u.date]}),Ey(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class n3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qT()?zT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await XS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const u=await this.read();return wy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const u=await this.read();return wy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Ey(n){return Vc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(n){$u(new Ms("platform-logger",e=>new gS(e),"PRIVATE")),$u(new Ms("heartbeat",e=>new e3(e),"PRIVATE")),qi(pp,_y,n),qi(pp,_y,"esm2017"),qi("fire-js","")}r3("");function Yp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(n);u<i.length;u++)e.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(n,i[u])&&(t[i[u]]=n[i[u]]);return t}function Tv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i3=Tv,Sv=new Pa("auth","Firebase",Tv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Gp("@firebase/auth");function s3(n,...e){Fc.logLevel<=Be.WARN&&Fc.warn(`Auth (${ro}): ${n}`,...e)}function Ic(n,...e){Fc.logLevel<=Be.ERROR&&Fc.error(`Auth (${ro}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,...e){throw Xp(n,...e)}function Er(n,...e){return Xp(n,...e)}function Iv(n,e,t){const i=Object.assign(Object.assign({},i3()),{[e]:t});return new Pa("auth","Firebase",i).create(e,{appName:n.name})}function Xr(n){return Iv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Sv.create(n,...e)}function Ce(n,e,...t){if(!n)throw Xp(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ic(e),new Error(e)}function Zr(n,e){n||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function u3(){return Ty()==="http:"||Ty()==="https:"}function Ty(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u3()||UT()||"connection"in navigator)?navigator.onLine:!0}function a3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zr(t>e,"Short delay should be less than long delay!"),this.isMobile=LT()||jT()}get(){return o3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(n,e){Zr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=new Na(3e4,6e4);function es(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ii(n,e,t,i,u={}){return Av(n,u,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const f=ka(Object.assign({key:n.config.apiKey},l)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:p},o);return VT()||(h.referrerPolicy="no-referrer"),xv.fetch()(Rv(n,n.config.apiHost,t,f),h)})}async function Av(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},l3),e);try{const u=new d3(n),o=await Promise.race([t(),u.promise]);u.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw ac(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const f=o.ok?l.errorMessage:l.error.message,[p,h]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(n,"credential-already-in-use",l);if(p==="EMAIL_EXISTS")throw ac(n,"email-already-in-use",l);if(p==="USER_DISABLED")throw ac(n,"user-disabled",l);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Iv(n,y,h);nr(n,y)}}catch(u){if(u instanceof ri)throw u;nr(n,"network-request-failed",{message:String(u)})}}async function Da(n,e,t,i,u={}){const o=await ii(n,e,t,i,u);return"mfaPendingCredential"in o&&nr(n,"multi-factor-auth-required",{_serverResponse:o}),o}function Rv(n,e,t,i){const u=`${e}${t}?${i}`;return n.config.emulator?Jp(n.config,u):`${n.config.apiScheme}://${u}`}function f3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Er(this.auth,"network-request-failed")),c3.get())})}}function ac(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const u=Er(n,e,i);return u.customData._tokenResponse=t,u}function Sy(n){return n!==void 0&&n.enterprise!==void 0}class h3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return f3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function p3(n,e){return ii(n,"GET","/v2/recaptchaConfig",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(n,e){return ii(n,"POST","/v1/accounts:delete",e)}async function Cv(n,e){return ii(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g3(n,e=!1){const t=At(n),i=await t.getIdToken(e),u=Zp(i);Ce(u&&u.exp&&u.auth_time&&u.iat,t.auth,"internal-error");const o=typeof u.firebase=="object"?u.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:u,token:i,authTime:ha(yh(u.auth_time)),issuedAtTime:ha(yh(u.iat)),expirationTime:ha(yh(u.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function yh(n){return Number(n)*1e3}function Zp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const u=hv(t);return u?JSON.parse(u):(Ic("Failed to decode base64 JWT payload"),null)}catch(u){return Ic("Caught error parsing JWT payload as JSON",u==null?void 0:u.toString()),null}}function Iy(n){const e=Zp(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ri&&y3(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function y3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const u=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,u)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ha(this.lastLoginAt),this.creationTime=ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(n){var e;const t=n.auth,i=await n.getIdToken(),u=await Wu(n,Cv(t,{idToken:i}));Ce(u==null?void 0:u.users.length,t,"internal-error");const o=u.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Pv(o.providerUserInfo):[],f=w3(n.providerData,l),p=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),y=p?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new _p(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function v3(n){const e=At(n);await Bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w3(n,e){return[...n.filter(i=>!e.some(u=>u.providerId===i.providerId)),...e]}function Pv(n){return n.map(e=>{var{providerId:t}=e,i=Yp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(n,e){const t=await Av(n,{},async()=>{const i=ka({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:u,apiKey:o}=n.config,l=Rv(n,u,"/v1/token",`key=${o}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",xv.fetch()(l,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function E3(n,e){return ii(n,"POST","/v2/accounts:revokeToken",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=Iy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:u,expiresIn:o}=await b3(e,t);this.updateTokensAndExpiration(i,u,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:u,expirationTime:o}=t,l=new Bu;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),u&&(Ce(typeof u=="string","internal-error",{appName:e}),l.accessToken=u),o&&(Ce(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bu,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Kr{constructor(e){var{uid:t,auth:i,stsTokenManager:u}=e,o=Yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=u,this.accessToken=u.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _p(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return g3(this,e)}reload(){return v3(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Bc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(br(this.auth.app))return Promise.reject(Xr(this.auth));const e=await this.getIdToken();return await Wu(this,m3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,u,o,l,f,p,h,y;const v=(i=t.displayName)!==null&&i!==void 0?i:void 0,m=(u=t.email)!==null&&u!==void 0?u:void 0,g=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(l=t.photoURL)!==null&&l!==void 0?l:void 0,S=(f=t.tenantId)!==null&&f!==void 0?f:void 0,I=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,T=(h=t.createdAt)!==null&&h!==void 0?h:void 0,C=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:D,emailVerified:A,isAnonymous:R,providerData:F,stsTokenManager:k}=t;Ce(D&&k,e,"internal-error");const P=Bu.fromJSON(this.name,k);Ce(typeof D=="string",e,"internal-error"),Pi(v,e.name),Pi(m,e.name),Ce(typeof A=="boolean",e,"internal-error"),Ce(typeof R=="boolean",e,"internal-error"),Pi(g,e.name),Pi(E,e.name),Pi(S,e.name),Pi(I,e.name),Pi(T,e.name),Pi(C,e.name);const L=new Kr({uid:D,auth:e,email:m,emailVerified:A,displayName:v,isAnonymous:R,photoURL:E,phoneNumber:g,tenantId:S,stsTokenManager:P,createdAt:T,lastLoginAt:C});return F&&Array.isArray(F)&&(L.providerData=F.map(U=>Object.assign({},U))),I&&(L._redirectEventId=I),L}static async _fromIdTokenResponse(e,t,i=!1){const u=new Bu;u.updateFromServerResponse(t);const o=new Kr({uid:t.localId,auth:e,stsTokenManager:u,isAnonymous:i});return await Bc(o),o}static async _fromGetAccountInfoResponse(e,t,i){const u=t.users[0];Ce(u.localId!==void 0,"internal-error");const o=u.providerUserInfo!==void 0?Pv(u.providerUserInfo):[],l=!(u.email&&u.passwordHash)&&!(o!=null&&o.length),f=new Bu;f.updateFromIdToken(i);const p=new Kr({uid:u.localId,auth:e,stsTokenManager:f,isAnonymous:l}),h={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:o,metadata:new _p(u.createdAt,u.lastLoginAt),isAnonymous:!(u.email&&u.passwordHash)&&!(o!=null&&o.length)};return Object.assign(p,h),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=new Map;function Qr(n){Zr(n instanceof Function,"Expected a class definition");let e=xy.get(n);return e?(Zr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}kv.type="NONE";const Ay=kv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n,e,t){return`firebase:${n}:${e}:${t}`}class qu{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:u,name:o}=this.auth;this.fullUserKey=xc(this.userKey,u.apiKey,o),this.fullPersistenceKey=xc("persistence",u.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new qu(Qr(Ay),e,i);const u=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=u[0]||Qr(Ay);const l=xc(i,e.config.apiKey,e.name);let f=null;for(const h of t)try{const y=await h._get(l);if(y){const v=Kr._fromJSON(e,y);h!==o&&(f=v),o=h;break}}catch{}const p=u.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new qu(o,e,i):(o=p[0],f&&await o._set(l,f.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new qu(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Nv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vv(e))return"Blackberry";if(Uv(e))return"Webos";if(Dv(e))return"Safari";if((e.includes("chrome/")||Ov(e))&&!e.includes("edge/"))return"Chrome";if(Mv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Nv(n=Zt()){return/firefox\//i.test(n)}function Dv(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ov(n=Zt()){return/crios\//i.test(n)}function Lv(n=Zt()){return/iemobile/i.test(n)}function Mv(n=Zt()){return/android/i.test(n)}function Vv(n=Zt()){return/blackberry/i.test(n)}function Uv(n=Zt()){return/webos/i.test(n)}function e0(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function T3(n=Zt()){var e;return e0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function S3(){return FT()&&document.documentMode===10}function jv(n=Zt()){return e0(n)||Mv(n)||Uv(n)||Vv(n)||/windows phone/i.test(n)||Lv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n,e=[]){let t;switch(n){case"Browser":t=Ry(Zt());break;case"Worker":t=`${Ry(Zt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ro}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((l,f)=>{try{const p=e(o);l(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const u of t)try{u()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(n,e={}){return ii(n,"GET","/v2/passwordPolicy",es(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=6;class R3{constructor(e){var t,i,u,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:A3,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(u=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&u!==void 0?u:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,u,o,l,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(u=p.containsLowercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(o=p.containsUppercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsNumericCharacter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),u&&(t.meetsMaxPasswordLength=e.length<=u)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let u=0;u<e.length;u++)i=e.charAt(u),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,u,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,t,i,u){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cy(this),this.idTokenSubscription=new Cy(this),this.beforeStateQueue=new I3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=u.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qr(t)),this._initializationPromise=this.queue(async()=>{var i,u;if(!this._deleted&&(this.persistenceManager=await qu.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Cv(this,{idToken:e}),i=await Kr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(br(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let u=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=u==null?void 0:u._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===f)&&(p!=null&&p.user)&&(u=p.user,o=!0)}if(!u)return this.directlySetCurrentUser(null);if(!u._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(u)}catch(l){u=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return u?this.reloadAndSetCurrentUserOrClear(u):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===u._redirectEventId?this.directlySetCurrentUser(u):this.reloadAndSetCurrentUserOrClear(u)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=a3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(br(this.app))return Promise.reject(Xr(this));const t=e?At(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return br(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return br(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x3(this),t=new R3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pa("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await E3(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await qu.create(this,[Qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,u){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(f,this,"internal-error"),f.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,u);return()=>{l=!0,p()}}else{const p=e.addObserver(t);return()=>{l=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const u=await this._getAppCheckToken();return u&&(t["X-Firebase-AppCheck"]=u),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&s3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Bs(n){return At(n)}class Cy{constructor(e){this.auth=e,this.observer=null,this.addObserver=KT(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P3(n){uf=n}function Bv(n){return uf.loadJS(n)}function k3(){return uf.recaptchaEnterpriseScript}function N3(){return uf.gapiScript}function D3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class O3{constructor(){this.enterprise=new L3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class L3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const M3="recaptcha-enterprise",qv="NO_RECAPTCHA";class V3{constructor(e){this.type=M3,this.auth=Bs(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,f)=>{p3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const h=new h3(p);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(p=>{f(p)})})}function u(o,l,f){const p=window.grecaptcha;Sy(p)?p.enterprise.ready(()=>{p.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(qv)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new O3().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(f=>{if(!t&&Sy(window.grecaptcha))u(f,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let p=k3();p.length!==0&&(p+=f),Bv(p).then(()=>{u(f,o,l)}).catch(h=>{l(h)})}}).catch(f=>{l(f)})})}}async function Py(n,e,t,i=!1,u=!1){const o=new V3(n);let l;if(u)l=qv;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,h=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:l}):Object.assign(f,{captchaResponse:l}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function vp(n,e,t,i,u){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Py(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Py(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(n,e){const t=Qp(n,"auth");if(t.isInitialized()){const u=t.getImmediate(),o=t.getOptions();if(Uc(o,e??{}))return u;nr(u,"already-initialized")}return t.initialize({options:e})}function j3(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Qr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function F3(n,e,t){const i=Bs(n);Ce(i._canInitEmulator,i,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const u=!1,o=zv(e),{host:l,port:f}=B3(e),p=f===null?"":`:${f}`;i.config.emulator={url:`${o}//${l}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:u})}),q3()}function zv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function B3(n){const e=zv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",u=/^(\[[^\]]+\])(:|$)/.exec(i);if(u){const o=u[1];return{host:o,port:ky(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:ky(l)}}}function ky(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function q3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function z3(n,e){return ii(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(n,e){return Da(n,"POST","/v1/accounts:signInWithPassword",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(n,e){return Da(n,"POST","/v1/accounts:signInWithEmailLink",es(n,e))}async function W3(n,e){return Da(n,"POST","/v1/accounts:signInWithEmailLink",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends t0{constructor(e,t,i,u=null){super("password",i),this._email=e,this._password=t,this._tenantId=u}static _fromEmailAndPassword(e,t){return new wa(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new wa(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vp(e,t,"signInWithPassword",H3);case"emailLink":return $3(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vp(e,i,"signUpPassword",z3);case"emailLink":return W3(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(n,e){return Da(n,"POST","/v1/accounts:signInWithIdp",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="http://localhost";class Vs extends t0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:u}=t,o=Yp(t,["providerId","signInMethod"]);if(!i||!u)return null;const l=new Vs(i,u);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return zu(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,zu(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zu(e,t)}buildRequest(){const e={requestUri:G3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ka(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q3(n){const e=oa(aa(n)).link,t=e?oa(aa(e)).deep_link_id:null,i=oa(aa(n)).deep_link_id;return(i?oa(aa(i)).link:null)||i||t||e||n}class n0{constructor(e){var t,i,u,o,l,f;const p=oa(aa(e)),h=(t=p.apiKey)!==null&&t!==void 0?t:null,y=(i=p.oobCode)!==null&&i!==void 0?i:null,v=K3((u=p.mode)!==null&&u!==void 0?u:null);Ce(h&&y&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=y,this.continueUrl=(o=p.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=p.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=Q3(e);try{return new n0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,t){return wa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=n0.parseLink(t);return Ce(i,"argument-error"),wa._fromEmailAndCode(e,i.code,i.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Hv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Oa{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Oa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Mi.credential(t,i)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Oa{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Oa{constructor(){super("twitter.com")}static credential(e,t){return Vs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ui.credential(t,i)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(n,e){return Da(n,"POST","/v1/accounts:signUp",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,u=!1){const o=await Kr._fromIdTokenResponse(e,i,u),l=Ny(i);return new Us({user:o,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const u=Ny(i);return new Us({user:e,providerId:u,_tokenResponse:i,operationType:t})}}function Ny(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends ri{constructor(e,t,i,u){var o;super(t.code,t.message),this.operationType=i,this.user=u,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,u){return new qc(e,t,i,u)}}function $v(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(n,o,e,i):o})}async function X3(n,e,t=!1){const i=await Wu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Us._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(n,e,t=!1){const{auth:i}=n;if(br(i.app))return Promise.reject(Xr(i));const u="reauthenticate";try{const o=await Wu(n,$v(i,u,e,n),t);Ce(o.idToken,i,"internal-error");const l=Zp(o.idToken);Ce(l,i,"internal-error");const{sub:f}=l;return Ce(n.uid===f,i,"user-mismatch"),Us._forOperation(n,u,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&nr(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wv(n,e,t=!1){if(br(n.app))return Promise.reject(Xr(n));const i="signIn",u=await $v(n,i,e),o=await Us._fromIdTokenResponse(n,i,u);return t||await n._updateCurrentUser(o.user),o}async function Z3(n,e){return Wv(Bs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gv(n){const e=Bs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eI(n,e,t){if(br(n.app))return Promise.reject(Xr(n));const i=Bs(n),l=await vp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Y3).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Gv(n),p}),f=await Us._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(f.user),f}function tI(n,e,t){return br(n.app)?Promise.reject(Xr(n)):Z3(At(n),io.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Gv(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(n,e){return ii(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=At(n),o={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Wu(i,nI(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const f=i.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function iI(n,e,t,i){return At(n).onIdTokenChanged(e,t,i)}function sI(n,e,t){return At(n).beforeAuthStateChanged(e,t)}function uI(n,e,t,i){return At(n).onAuthStateChanged(e,t,i)}function oI(n){return At(n).signOut()}const zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zc,"1"),this.storage.removeItem(zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=1e3,lI=10;class Qv extends Kv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),u=this.localCache[t];i!==u&&e(t,u,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,f,p)=>{this.notifyListeners(l,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const u=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);S3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(u,lI):u()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const u of Array.from(i))u(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qv.type="LOCAL";const cI=Qv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv extends Kv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Yv.type="SESSION";const Xv=Yv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(u=>u.isListeningto(e));if(t)return t;const i=new of(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:u,data:o}=t.data,l=this.handlersMap[u];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:u});const f=Array.from(l).map(async h=>h(t.origin,o)),p=await fI(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:u,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let o,l;return new Promise((f,p)=>{const h=r0("",20);u.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);l={messageChannel:u,onMessage(v){const m=v;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(m.data.response);break;default:clearTimeout(y),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(l),u.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[u.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function hI(n){Tr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function pI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mI(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function gI(){return Jv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="firebaseLocalStorageDb",yI=1,Hc="firebaseLocalStorage",e2="fbase_key";class La{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function af(n,e){return n.transaction([Hc],e?"readwrite":"readonly").objectStore(Hc)}function _I(){const n=indexedDB.deleteDatabase(Zv);return new La(n).toPromise()}function wp(){const n=indexedDB.open(Zv,yI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Hc,{keyPath:e2})}catch(u){t(u)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Hc)?e(i):(i.close(),await _I(),e(await wp()))})})}async function Dy(n,e,t){const i=af(n,!0).put({[e2]:e,value:t});return new La(i).toPromise()}async function vI(n,e){const t=af(n,!1).get(e),i=await new La(t).toPromise();return i===void 0?null:i.value}function Oy(n,e){const t=af(n,!0).delete(e);return new La(t).toPromise()}const wI=800,bI=3;class t2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>bI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(gI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await pI(),!this.activeServiceWorker)return;this.sender=new dI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wp();return await Dy(e,zc,"1"),await Oy(e,zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Dy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>vI(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Oy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(u=>{const o=af(u,!1).getAll();return new La(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:u,value:o}of e)i.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(o)&&(this.notifyListeners(u,o),t.push(u));for(const u of Object.keys(this.localCache))this.localCache[u]&&!i.has(u)&&(this.notifyListeners(u,null),t.push(u));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const u of Array.from(i))u(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t2.type="LOCAL";const EI=t2;new Na(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n,e){return e?Qr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends t0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function SI(n){return Wv(n.auth,new i0(n),n.bypassAuthState)}function II(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),J3(t,new i0(n),n.bypassAuthState)}async function xI(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),X3(t,new i0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,t,i,u,o=!1){this.auth=e,this.resolver=i,this.user=u,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:u,tenantId:o,error:l,type:f}=e;if(l){this.reject(l);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:u||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SI;case"linkViaPopup":case"linkViaRedirect":return xI;case"reauthViaPopup":case"reauthViaRedirect":return II;default:nr(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Na(2e3,1e4);class Fu extends n2{constructor(e,t,i,u,o){super(e,t,u,o),this.provider=i,this.authWindow=null,this.pollId=null,Fu.currentPopupAction&&Fu.currentPopupAction.cancel(),Fu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=r0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AI.get())};e()}}Fu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="pendingRedirect",Ac=new Map;class CI extends n2{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Ac.get(this.auth._key());if(!e){try{const i=await PI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ac.set(this.auth._key(),e)}return this.bypassAuthState||Ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PI(n,e){const t=DI(e),i=NI(n);if(!await i._isAvailable())return!1;const u=await i._get(t)==="true";return await i._remove(t),u}function kI(n,e){Ac.set(n._key(),e)}function NI(n){return Qr(n._redirectPersistence)}function DI(n){return xc(RI,n.config.apiKey,n.name)}async function OI(n,e,t=!1){if(br(n.app))return Promise.reject(Xr(n));const i=Bs(n),u=TI(i,e),l=await new CI(i,u,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=10*60*1e3;class MI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!r2(e)){const u=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Er(this.auth,u))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ly(e))}saveEventToCache(e){this.cachedEventUids.add(Ly(e)),this.lastProcessedEventTime=Date.now()}}function Ly(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function r2({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(n,e={}){return ii(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FI=/^https?/;async function BI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await UI(n);for(const t of e)try{if(qI(t))return}catch{}nr(n,"unauthorized-domain")}function qI(n){const e=yp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!FI.test(t))return!1;if(jI.test(n))return i===n;const u=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Na(3e4,6e4);function My(){const n=Tr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HI(n){return new Promise((e,t)=>{var i,u,o;function l(){My(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{My(),t(Er(n,"network-request-failed"))},timeout:zI.get()})}if(!((u=(i=Tr().gapi)===null||i===void 0?void 0:i.iframes)===null||u===void 0)&&u.Iframe)e(gapi.iframes.getContext());else if(!((o=Tr().gapi)===null||o===void 0)&&o.load)l();else{const f=D3("iframefcb");return Tr()[f]=()=>{gapi.load?l():t(Er(n,"network-request-failed"))},Bv(`${N3()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Rc=null,e})}let Rc=null;function $I(n){return Rc=Rc||HI(n),Rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Na(5e3,15e3),GI="__/auth/iframe",KI="emulator/auth/iframe",QI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XI(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Jp(e,KI):`https://${n.config.authDomain}/${GI}`,i={apiKey:e.apiKey,appName:n.name,v:ro},u=YI.get(n.config.apiHost);u&&(i.eid=u);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${ka(i).slice(1)}`}async function JI(n){const e=await $I(n),t=Tr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:XI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QI,dontclear:!0},i=>new Promise(async(u,o)=>{await i.restyle({setHideOnLeave:!1});const l=Er(n,"network-request-failed"),f=Tr().setTimeout(()=>{o(l)},WI.get());function p(){Tr().clearTimeout(f),u(i)}i.ping(p).then(p,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ex=500,tx=600,nx="_blank",rx="http://localhost";class Vy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ix(n,e,t,i=ex,u=tx){const o=Math.max((window.screen.availHeight-u)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},ZI),{width:i.toString(),height:u.toString(),top:o,left:l}),h=Zt().toLowerCase();t&&(f=Ov(h)?nx:t),Nv(h)&&(e=e||rx,p.scrollbars="yes");const y=Object.entries(p).reduce((m,[g,E])=>`${m}${g}=${E},`,"");if(T3(h)&&f!=="_self")return sx(e||"",f),new Vy(null);const v=window.open(e||"",f,y);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new Vy(v)}function sx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="__/auth/handler",ox="emulator/auth/handler",ax=encodeURIComponent("fac");async function Uy(n,e,t,i,u,o){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ro,eventId:u};if(e instanceof Hv){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",GT(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))l[y]=v}if(e instanceof Oa){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const f=l;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await n._getAppCheckToken(),h=p?`#${ax}=${encodeURIComponent(p)}`:"";return`${lx(n)}?${ka(f).slice(1)}${h}`}function lx({config:n}){return n.emulator?Jp(n,ox):`https://${n.authDomain}/${ux}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="webStorageSupport";class cx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xv,this._completeRedirectFn=OI,this._overrideRedirectResult=kI}async _openPopup(e,t,i,u){var o;Zr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Uy(e,t,i,yp(),u);return ix(e,l,r0())}async _openRedirect(e,t,i,u){await this._originValidation(e);const o=await Uy(e,t,i,yp(),u);return hI(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:u,promise:o}=this.eventManagers[t];return u?Promise.resolve(u):(Zr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await JI(e),i=new MI(e);return t.register("authEvent",u=>(Ce(u==null?void 0:u.authEvent,e,"invalid-auth-event"),{status:i.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_h,{type:_h},u=>{var o;const l=(o=u==null?void 0:u[0])===null||o===void 0?void 0:o[_h];l!==void 0&&t(!!l),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jv()||Dv()||e0()}}const fx=cx;var jy="@firebase/auth",Fy="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function px(n){$u(new Ms("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),u=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:f}=i.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:l,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fv(n)},h=new C3(i,u,o,p);return j3(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),$u(new Ms("auth-internal",e=>{const t=Bs(e.getProvider("auth").getImmediate());return(i=>new dx(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(jy,Fy,hx(n)),qi(jy,Fy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=5*60,gx=gv("authIdTokenMaxAge")||mx;let By=null;const yx=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>gx)return;const u=t==null?void 0:t.token;By!==u&&(By=u,await fetch(n,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))};function _x(n=wv()){const e=Qp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=U3(n,{popupRedirectResolver:fx,persistence:[EI,cI,Xv]}),i=gv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=yx(o.toString());sI(t,l,()=>l(t.currentUser)),iI(t,f=>l(f))}}const u=pv("auth");return u&&F3(t,`http://${u}`),t}function vx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}P3({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=u=>{const o=Er("internal-error");o.customData=u,t(o)},i.type="text/javascript",i.charset="UTF-8",vx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});px("Browser");var wx="firebase",bx="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(wx,bx,"app");var qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,i2;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,P){function L(){}L.prototype=P.prototype,k.D=P.prototype,k.prototype=new L,k.prototype.constructor=k,k.C=function(U,O,j){for(var V=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)V[fe-2]=arguments[fe];return P.prototype[O].apply(U,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(k,P,L){L||(L=0);var U=Array(16);if(typeof P=="string")for(var O=0;16>O;++O)U[O]=P.charCodeAt(L++)|P.charCodeAt(L++)<<8|P.charCodeAt(L++)<<16|P.charCodeAt(L++)<<24;else for(O=0;16>O;++O)U[O]=P[L++]|P[L++]<<8|P[L++]<<16|P[L++]<<24;P=k.g[0],L=k.g[1],O=k.g[2];var j=k.g[3],V=P+(j^L&(O^j))+U[0]+3614090360&4294967295;P=L+(V<<7&4294967295|V>>>25),V=j+(O^P&(L^O))+U[1]+3905402710&4294967295,j=P+(V<<12&4294967295|V>>>20),V=O+(L^j&(P^L))+U[2]+606105819&4294967295,O=j+(V<<17&4294967295|V>>>15),V=L+(P^O&(j^P))+U[3]+3250441966&4294967295,L=O+(V<<22&4294967295|V>>>10),V=P+(j^L&(O^j))+U[4]+4118548399&4294967295,P=L+(V<<7&4294967295|V>>>25),V=j+(O^P&(L^O))+U[5]+1200080426&4294967295,j=P+(V<<12&4294967295|V>>>20),V=O+(L^j&(P^L))+U[6]+2821735955&4294967295,O=j+(V<<17&4294967295|V>>>15),V=L+(P^O&(j^P))+U[7]+4249261313&4294967295,L=O+(V<<22&4294967295|V>>>10),V=P+(j^L&(O^j))+U[8]+1770035416&4294967295,P=L+(V<<7&4294967295|V>>>25),V=j+(O^P&(L^O))+U[9]+2336552879&4294967295,j=P+(V<<12&4294967295|V>>>20),V=O+(L^j&(P^L))+U[10]+4294925233&4294967295,O=j+(V<<17&4294967295|V>>>15),V=L+(P^O&(j^P))+U[11]+2304563134&4294967295,L=O+(V<<22&4294967295|V>>>10),V=P+(j^L&(O^j))+U[12]+1804603682&4294967295,P=L+(V<<7&4294967295|V>>>25),V=j+(O^P&(L^O))+U[13]+4254626195&4294967295,j=P+(V<<12&4294967295|V>>>20),V=O+(L^j&(P^L))+U[14]+2792965006&4294967295,O=j+(V<<17&4294967295|V>>>15),V=L+(P^O&(j^P))+U[15]+1236535329&4294967295,L=O+(V<<22&4294967295|V>>>10),V=P+(O^j&(L^O))+U[1]+4129170786&4294967295,P=L+(V<<5&4294967295|V>>>27),V=j+(L^O&(P^L))+U[6]+3225465664&4294967295,j=P+(V<<9&4294967295|V>>>23),V=O+(P^L&(j^P))+U[11]+643717713&4294967295,O=j+(V<<14&4294967295|V>>>18),V=L+(j^P&(O^j))+U[0]+3921069994&4294967295,L=O+(V<<20&4294967295|V>>>12),V=P+(O^j&(L^O))+U[5]+3593408605&4294967295,P=L+(V<<5&4294967295|V>>>27),V=j+(L^O&(P^L))+U[10]+38016083&4294967295,j=P+(V<<9&4294967295|V>>>23),V=O+(P^L&(j^P))+U[15]+3634488961&4294967295,O=j+(V<<14&4294967295|V>>>18),V=L+(j^P&(O^j))+U[4]+3889429448&4294967295,L=O+(V<<20&4294967295|V>>>12),V=P+(O^j&(L^O))+U[9]+568446438&4294967295,P=L+(V<<5&4294967295|V>>>27),V=j+(L^O&(P^L))+U[14]+3275163606&4294967295,j=P+(V<<9&4294967295|V>>>23),V=O+(P^L&(j^P))+U[3]+4107603335&4294967295,O=j+(V<<14&4294967295|V>>>18),V=L+(j^P&(O^j))+U[8]+1163531501&4294967295,L=O+(V<<20&4294967295|V>>>12),V=P+(O^j&(L^O))+U[13]+2850285829&4294967295,P=L+(V<<5&4294967295|V>>>27),V=j+(L^O&(P^L))+U[2]+4243563512&4294967295,j=P+(V<<9&4294967295|V>>>23),V=O+(P^L&(j^P))+U[7]+1735328473&4294967295,O=j+(V<<14&4294967295|V>>>18),V=L+(j^P&(O^j))+U[12]+2368359562&4294967295,L=O+(V<<20&4294967295|V>>>12),V=P+(L^O^j)+U[5]+4294588738&4294967295,P=L+(V<<4&4294967295|V>>>28),V=j+(P^L^O)+U[8]+2272392833&4294967295,j=P+(V<<11&4294967295|V>>>21),V=O+(j^P^L)+U[11]+1839030562&4294967295,O=j+(V<<16&4294967295|V>>>16),V=L+(O^j^P)+U[14]+4259657740&4294967295,L=O+(V<<23&4294967295|V>>>9),V=P+(L^O^j)+U[1]+2763975236&4294967295,P=L+(V<<4&4294967295|V>>>28),V=j+(P^L^O)+U[4]+1272893353&4294967295,j=P+(V<<11&4294967295|V>>>21),V=O+(j^P^L)+U[7]+4139469664&4294967295,O=j+(V<<16&4294967295|V>>>16),V=L+(O^j^P)+U[10]+3200236656&4294967295,L=O+(V<<23&4294967295|V>>>9),V=P+(L^O^j)+U[13]+681279174&4294967295,P=L+(V<<4&4294967295|V>>>28),V=j+(P^L^O)+U[0]+3936430074&4294967295,j=P+(V<<11&4294967295|V>>>21),V=O+(j^P^L)+U[3]+3572445317&4294967295,O=j+(V<<16&4294967295|V>>>16),V=L+(O^j^P)+U[6]+76029189&4294967295,L=O+(V<<23&4294967295|V>>>9),V=P+(L^O^j)+U[9]+3654602809&4294967295,P=L+(V<<4&4294967295|V>>>28),V=j+(P^L^O)+U[12]+3873151461&4294967295,j=P+(V<<11&4294967295|V>>>21),V=O+(j^P^L)+U[15]+530742520&4294967295,O=j+(V<<16&4294967295|V>>>16),V=L+(O^j^P)+U[2]+3299628645&4294967295,L=O+(V<<23&4294967295|V>>>9),V=P+(O^(L|~j))+U[0]+4096336452&4294967295,P=L+(V<<6&4294967295|V>>>26),V=j+(L^(P|~O))+U[7]+1126891415&4294967295,j=P+(V<<10&4294967295|V>>>22),V=O+(P^(j|~L))+U[14]+2878612391&4294967295,O=j+(V<<15&4294967295|V>>>17),V=L+(j^(O|~P))+U[5]+4237533241&4294967295,L=O+(V<<21&4294967295|V>>>11),V=P+(O^(L|~j))+U[12]+1700485571&4294967295,P=L+(V<<6&4294967295|V>>>26),V=j+(L^(P|~O))+U[3]+2399980690&4294967295,j=P+(V<<10&4294967295|V>>>22),V=O+(P^(j|~L))+U[10]+4293915773&4294967295,O=j+(V<<15&4294967295|V>>>17),V=L+(j^(O|~P))+U[1]+2240044497&4294967295,L=O+(V<<21&4294967295|V>>>11),V=P+(O^(L|~j))+U[8]+1873313359&4294967295,P=L+(V<<6&4294967295|V>>>26),V=j+(L^(P|~O))+U[15]+4264355552&4294967295,j=P+(V<<10&4294967295|V>>>22),V=O+(P^(j|~L))+U[6]+2734768916&4294967295,O=j+(V<<15&4294967295|V>>>17),V=L+(j^(O|~P))+U[13]+1309151649&4294967295,L=O+(V<<21&4294967295|V>>>11),V=P+(O^(L|~j))+U[4]+4149444226&4294967295,P=L+(V<<6&4294967295|V>>>26),V=j+(L^(P|~O))+U[11]+3174756917&4294967295,j=P+(V<<10&4294967295|V>>>22),V=O+(P^(j|~L))+U[2]+718787259&4294967295,O=j+(V<<15&4294967295|V>>>17),V=L+(j^(O|~P))+U[9]+3951481745&4294967295,k.g[0]=k.g[0]+P&4294967295,k.g[1]=k.g[1]+(O+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+O&4294967295,k.g[3]=k.g[3]+j&4294967295}i.prototype.u=function(k,P){P===void 0&&(P=k.length);for(var L=P-this.blockSize,U=this.B,O=this.h,j=0;j<P;){if(O==0)for(;j<=L;)u(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<P;)if(U[O++]=k.charCodeAt(j++),O==this.blockSize){u(this,U),O=0;break}}else for(;j<P;)if(U[O++]=k[j++],O==this.blockSize){u(this,U),O=0;break}}this.h=O,this.o+=P},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var P=1;P<k.length-8;++P)k[P]=0;var L=8*this.o;for(P=k.length-8;P<k.length;++P)k[P]=L&255,L/=256;for(this.u(k),k=Array(16),P=L=0;4>P;++P)for(var U=0;32>U;U+=8)k[L++]=this.g[P]>>>U&255;return k};function o(k,P){var L=f;return Object.prototype.hasOwnProperty.call(L,k)?L[k]:L[k]=P(k)}function l(k,P){this.h=P;for(var L=[],U=!0,O=k.length-1;0<=O;O--){var j=k[O]|0;U&&j==P||(L[O]=j,U=!1)}this.g=L}var f={};function p(k){return-128<=k&&128>k?o(k,function(P){return new l([P|0],0>P?-1:0)}):new l([k|0],0>k?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return I(h(-k));for(var P=[],L=1,U=0;k>=L;U++)P[U]=k/L|0,L*=4294967296;return new l(P,0)}function y(k,P){if(k.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(k.charAt(0)=="-")return I(y(k.substring(1),P));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=h(Math.pow(P,8)),U=v,O=0;O<k.length;O+=8){var j=Math.min(8,k.length-O),V=parseInt(k.substring(O,O+j),P);8>j?(j=h(Math.pow(P,j)),U=U.j(j).add(h(V))):(U=U.j(L),U=U.add(h(V)))}return U}var v=p(0),m=p(1),g=p(16777216);n=l.prototype,n.m=function(){if(S(this))return-I(this).m();for(var k=0,P=1,L=0;L<this.g.length;L++){var U=this.i(L);k+=(0<=U?U:4294967296+U)*P,P*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(E(this))return"0";if(S(this))return"-"+I(this).toString(k);for(var P=h(Math.pow(k,6)),L=this,U="";;){var O=A(L,P).g;L=T(L,O.j(P));var j=((0<L.g.length?L.g[0]:L.h)>>>0).toString(k);if(L=O,E(L))return j+U;for(;6>j.length;)j="0"+j;U=j+U}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function E(k){if(k.h!=0)return!1;for(var P=0;P<k.g.length;P++)if(k.g[P]!=0)return!1;return!0}function S(k){return k.h==-1}n.l=function(k){return k=T(this,k),S(k)?-1:E(k)?0:1};function I(k){for(var P=k.g.length,L=[],U=0;U<P;U++)L[U]=~k.g[U];return new l(L,~k.h).add(m)}n.abs=function(){return S(this)?I(this):this},n.add=function(k){for(var P=Math.max(this.g.length,k.g.length),L=[],U=0,O=0;O<=P;O++){var j=U+(this.i(O)&65535)+(k.i(O)&65535),V=(j>>>16)+(this.i(O)>>>16)+(k.i(O)>>>16);U=V>>>16,j&=65535,V&=65535,L[O]=V<<16|j}return new l(L,L[L.length-1]&-2147483648?-1:0)};function T(k,P){return k.add(I(P))}n.j=function(k){if(E(this)||E(k))return v;if(S(this))return S(k)?I(this).j(I(k)):I(I(this).j(k));if(S(k))return I(this.j(I(k)));if(0>this.l(g)&&0>k.l(g))return h(this.m()*k.m());for(var P=this.g.length+k.g.length,L=[],U=0;U<2*P;U++)L[U]=0;for(U=0;U<this.g.length;U++)for(var O=0;O<k.g.length;O++){var j=this.i(U)>>>16,V=this.i(U)&65535,fe=k.i(O)>>>16,J=k.i(O)&65535;L[2*U+2*O]+=V*J,C(L,2*U+2*O),L[2*U+2*O+1]+=j*J,C(L,2*U+2*O+1),L[2*U+2*O+1]+=V*fe,C(L,2*U+2*O+1),L[2*U+2*O+2]+=j*fe,C(L,2*U+2*O+2)}for(U=0;U<P;U++)L[U]=L[2*U+1]<<16|L[2*U];for(U=P;U<2*P;U++)L[U]=0;return new l(L,0)};function C(k,P){for(;(k[P]&65535)!=k[P];)k[P+1]+=k[P]>>>16,k[P]&=65535,P++}function D(k,P){this.g=k,this.h=P}function A(k,P){if(E(P))throw Error("division by zero");if(E(k))return new D(v,v);if(S(k))return P=A(I(k),P),new D(I(P.g),I(P.h));if(S(P))return P=A(k,I(P)),new D(I(P.g),P.h);if(30<k.g.length){if(S(k)||S(P))throw Error("slowDivide_ only works with positive integers.");for(var L=m,U=P;0>=U.l(k);)L=R(L),U=R(U);var O=F(L,1),j=F(U,1);for(U=F(U,2),L=F(L,2);!E(U);){var V=j.add(U);0>=V.l(k)&&(O=O.add(L),j=V),U=F(U,1),L=F(L,1)}return P=T(k,O.j(P)),new D(O,P)}for(O=v;0<=k.l(P);){for(L=Math.max(1,Math.floor(k.m()/P.m())),U=Math.ceil(Math.log(L)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),j=h(L),V=j.j(P);S(V)||0<V.l(k);)L-=U,j=h(L),V=j.j(P);E(j)&&(j=m),O=O.add(j),k=T(k,V)}return new D(O,k)}n.A=function(k){return A(this,k).h},n.and=function(k){for(var P=Math.max(this.g.length,k.g.length),L=[],U=0;U<P;U++)L[U]=this.i(U)&k.i(U);return new l(L,this.h&k.h)},n.or=function(k){for(var P=Math.max(this.g.length,k.g.length),L=[],U=0;U<P;U++)L[U]=this.i(U)|k.i(U);return new l(L,this.h|k.h)},n.xor=function(k){for(var P=Math.max(this.g.length,k.g.length),L=[],U=0;U<P;U++)L[U]=this.i(U)^k.i(U);return new l(L,this.h^k.h)};function R(k){for(var P=k.g.length+1,L=[],U=0;U<P;U++)L[U]=k.i(U)<<1|k.i(U-1)>>>31;return new l(L,k.h)}function F(k,P){var L=P>>5;P%=32;for(var U=k.g.length-L,O=[],j=0;j<U;j++)O[j]=0<P?k.i(j+L)>>>P|k.i(j+L+1)<<32-P:k.i(j+L);return new l(O,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,i2=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=y,zi=l}).apply(typeof qy<"u"?qy:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s2,la,u2,Cc,bp,o2,a2,l2;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,w,x){return c==Array.prototype||c==Object.prototype||(c[w]=x.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var w=0;w<c.length;++w){var x=c[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=t(this);function u(c,w){if(w)e:{var x=i;c=c.split(".");for(var M=0;M<c.length-1;M++){var G=c[M];if(!(G in x))break e;x=x[G]}c=c[c.length-1],M=x[c],w=w(M),w!=M&&w!=null&&e(x,c,{configurable:!0,writable:!0,value:w})}}function o(c,w){c instanceof String&&(c+="");var x=0,M=!1,G={next:function(){if(!M&&x<c.length){var X=x++;return{value:w(X,c[X]),done:!1}}return M=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}u("Array.prototype.values",function(c){return c||function(){return o(this,function(w,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},f=this||self;function p(c){var w=typeof c;return w=w!="object"?w:c?Array.isArray(c)?"array":w:"null",w=="array"||w=="object"&&typeof c.length=="number"}function h(c){var w=typeof c;return w=="object"&&c!=null||w=="function"}function y(c,w,x){return c.call.apply(c.bind,arguments)}function v(c,w,x){if(!c)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,M),c.apply(w,G)}}return function(){return c.apply(w,arguments)}}function m(c,w,x){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,m.apply(null,arguments)}function g(c,w){var x=Array.prototype.slice.call(arguments,1);return function(){var M=x.slice();return M.push.apply(M,arguments),c.apply(this,M)}}function E(c,w){function x(){}x.prototype=w.prototype,c.aa=w.prototype,c.prototype=new x,c.prototype.constructor=c,c.Qb=function(M,G,X){for(var de=Array(arguments.length-2),et=2;et<arguments.length;et++)de[et-2]=arguments[et];return w.prototype[G].apply(M,de)}}function S(c){const w=c.length;if(0<w){const x=Array(w);for(let M=0;M<w;M++)x[M]=c[M];return x}return[]}function I(c,w){for(let x=1;x<arguments.length;x++){const M=arguments[x];if(p(M)){const G=c.length||0,X=M.length||0;c.length=G+X;for(let de=0;de<X;de++)c[G+de]=M[de]}else c.push(M)}}class T{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function C(c){return/^[\s\xa0]*$/.test(c)}function D(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function A(c){return A[" "](c),c}A[" "]=function(){};var R=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function F(c,w,x){for(const M in c)w.call(x,c[M],M,c)}function k(c,w){for(const x in c)w.call(void 0,c[x],x,c)}function P(c){const w={};for(const x in c)w[x]=c[x];return w}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(c,w){let x,M;for(let G=1;G<arguments.length;G++){M=arguments[G];for(x in M)c[x]=M[x];for(let X=0;X<L.length;X++)x=L[X],Object.prototype.hasOwnProperty.call(M,x)&&(c[x]=M[x])}}function O(c){var w=1;c=c.split(":");const x=[];for(;0<w&&c.length;)x.push(c.shift()),w--;return c.length&&x.push(c.join(":")),x}function j(c){f.setTimeout(()=>{throw c},0)}function V(){var c=he;let w=null;return c.g&&(w=c.g,c.g=c.g.next,c.g||(c.h=null),w.next=null),w}class fe{constructor(){this.h=this.g=null}add(w,x){const M=J.get();M.set(w,x),this.h?this.h.next=M:this.g=M,this.h=M}}var J=new T(()=>new Te,c=>c.reset());class Te{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let we,re=!1,he=new fe,le=()=>{const c=f.Promise.resolve(void 0);we=()=>{c.then($)}};var $=()=>{for(var c;c=V();){try{c.h.call(c.g)}catch(x){j(x)}var w=J;w.j(c),100>w.h&&(w.h++,c.next=w.g,w.g=c)}re=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,w){this.type=c,this.g=this.target=w,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,w=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};f.addEventListener("test",x,w),f.removeEventListener("test",x,w)}catch{}return c}();function Ne(c,w){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var x=this.type=c.type,M=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=w,w=c.relatedTarget){if(R){e:{try{A(w.nodeName);var G=!0;break e}catch{}G=!1}G||(w=null)}}else x=="mouseover"?w=c.fromElement:x=="mouseout"&&(w=c.toElement);this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}E(Ne,ie);var Le={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Je(c,w,x,M,G){this.listener=c,this.proxy=null,this.src=w,this.type=x,this.capture=!!M,this.ha=G,this.key=++ze,this.da=this.fa=!1}function ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ee(c){this.src=c,this.g={},this.h=0}ee.prototype.add=function(c,w,x,M,G){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var de=ae(c,w,M,G);return-1<de?(w=c[de],x||(w.fa=!1)):(w=new Je(w,this.src,X,!!M,G),w.fa=x,c.push(w)),w};function pe(c,w){var x=w.type;if(x in c.g){var M=c.g[x],G=Array.prototype.indexOf.call(M,w,void 0),X;(X=0<=G)&&Array.prototype.splice.call(M,G,1),X&&(ct(w),c.g[x].length==0&&(delete c.g[x],c.h--))}}function ae(c,w,x,M){for(var G=0;G<c.length;++G){var X=c[G];if(!X.da&&X.listener==w&&X.capture==!!x&&X.ha==M)return G}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(c,w,x,M,G){if(Array.isArray(w)){for(var X=0;X<w.length;X++)yt(c,w[X],x,M,G);return null}return x=rs(x),c&&c[Fe]?c.K(w,x,h(M)?!!M.capture:!1,G):Xe(c,w,x,!1,M,G)}function Xe(c,w,x,M,G,X){if(!w)throw Error("Invalid event type");var de=h(G)?!!G.capture:!!G,et=$t(c);if(et||(c[Re]=et=new ee(c)),x=et.add(w,x,M,de,X),x.proxy)return x;if(M=Ke(),x.proxy=M,M.src=c,M.listener=x,c.addEventListener)Ae||(G=de),G===void 0&&(G=!1),c.addEventListener(w.toString(),M,G);else if(c.attachEvent)c.attachEvent(Ve(w.toString()),M);else if(c.addListener&&c.removeListener)c.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ke(){function c(x){return w.call(c.src,c.listener,x)}const w=gn;return c}function ur(c,w,x,M,G){if(Array.isArray(w))for(var X=0;X<w.length;X++)ur(c,w[X],x,M,G);else M=h(M)?!!M.capture:!!M,x=rs(x),c&&c[Fe]?(c=c.i,w=String(w).toString(),w in c.g&&(X=c.g[w],x=ae(X,x,M,G),-1<x&&(ct(X[x]),Array.prototype.splice.call(X,x,1),X.length==0&&(delete c.g[w],c.h--)))):c&&(c=$t(c))&&(w=c.g[w.toString()],c=-1,w&&(c=ae(w,x,M,G)),(x=-1<c?w[c]:null)&&Me(x))}function Me(c){if(typeof c!="number"&&c&&!c.da){var w=c.src;if(w&&w[Fe])pe(w.i,c);else{var x=c.type,M=c.proxy;w.removeEventListener?w.removeEventListener(x,M,c.capture):w.detachEvent?w.detachEvent(Ve(x),M):w.addListener&&w.removeListener&&w.removeListener(M),(x=$t(w))?(pe(x,c),x.h==0&&(x.src=null,w[Re]=null)):ct(c)}}}function Ve(c){return c in gt?gt[c]:gt[c]="on"+c}function gn(c,w){if(c.da)c=!0;else{w=new Ne(w,this);var x=c.listener,M=c.ha||c.src;c.fa&&Me(c),c=x.call(M,w)}return c}function $t(c){return c=c[Re],c instanceof ee?c:null}var Nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function rs(c){return typeof c=="function"?c:(c[Nt]||(c[Nt]=function(w){return c.handleEvent(w)}),c[Nt])}function pt(){Z.call(this),this.i=new ee(this),this.M=this,this.F=null}E(pt,Z),pt.prototype[Fe]=!0,pt.prototype.removeEventListener=function(c,w,x,M){ur(this,c,w,x,M)};function _t(c,w){var x,M=c.F;if(M)for(x=[];M;M=M.F)x.push(M);if(c=c.M,M=w.type||w,typeof w=="string")w=new ie(w,c);else if(w instanceof ie)w.target=w.target||c;else{var G=w;w=new ie(M,c),U(w,G)}if(G=!0,x)for(var X=x.length-1;0<=X;X--){var de=w.g=x[X];G=Rr(de,M,!0,w)&&G}if(de=w.g=c,G=Rr(de,M,!0,w)&&G,G=Rr(de,M,!1,w)&&G,x)for(X=0;X<x.length;X++)de=w.g=x[X],G=Rr(de,M,!1,w)&&G}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,w;for(w in c.g){for(var x=c.g[w],M=0;M<x.length;M++)ct(x[M]);delete c.g[w],c.h--}}this.F=null},pt.prototype.K=function(c,w,x,M){return this.i.add(String(c),w,!1,x,M)},pt.prototype.L=function(c,w,x,M){return this.i.add(String(c),w,!0,x,M)};function Rr(c,w,x,M){if(w=c.i.g[String(w)],!w)return!0;w=w.concat();for(var G=!0,X=0;X<w.length;++X){var de=w[X];if(de&&!de.da&&de.capture==x){var et=de.listener,Rt=de.ha||de.src;de.fa&&pe(c.i,de),G=et.call(Rt,M)!==!1&&G}}return G&&!M.defaultPrevented}function co(c,w,x){if(typeof c=="function")x&&(c=m(c,x));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:f.setTimeout(c,w||0)}function si(c){c.g=co(()=>{c.g=null,c.i&&(c.i=!1,si(c))},c.l);const w=c.h;c.h=null,c.m.apply(null,w)}class is extends Z{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:si(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){Z.call(this),this.h=c,this.g={}}E(ss,Z);var fo=[];function ho(c){F(c.g,function(w,x){this.g.hasOwnProperty(x)&&Me(w)},c),c.g={}}ss.prototype.N=function(){ss.aa.N.call(this),ho(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var po=f.JSON.stringify,mo=f.JSON.parse,go=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function us(){}us.prototype.h=null;function Ws(c){return c.h||(c.h=c.i())}function Gs(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function or(){ie.call(this,"d")}E(or,ie);function Ks(){ie.call(this,"c")}E(Ks,ie);var ar={},yo=null;function os(){return yo=yo||new pt}ar.La="serverreachability";function _o(c){ie.call(this,ar.La,c)}E(_o,ie);function Cr(c){const w=os();_t(w,new _o(w))}ar.STAT_EVENT="statevent";function vo(c,w){ie.call(this,ar.STAT_EVENT,c),this.stat=w}E(vo,ie);function vt(c){const w=os();_t(w,new vo(w,c))}ar.Ma="timingevent";function Qs(c,w){ie.call(this,ar.Ma,c),this.size=w}E(Qs,ie);function Mn(c,w){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},w)}function as(){this.g=!0}as.prototype.xa=function(){this.g=!1};function ls(c,w,x,M,G,X){c.info(function(){if(c.g)if(X)for(var de="",et=X.split("&"),Rt=0;Rt<et.length;Rt++){var We=et[Rt].split("=");if(1<We.length){var Dt=We[0];We=We[1];var Et=Dt.split("_");de=2<=Et.length&&Et[1]=="type"?de+(Dt+"="+We+"&"):de+(Dt+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+M+") [attempt "+G+"]: "+w+`
`+x+`
`+de})}function Ys(c,w,x,M,G,X,de){c.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+G+"]: "+w+`
`+x+`
`+X+" "+de})}function Vn(c,w,x,M){c.info(function(){return"XMLHTTP TEXT ("+w+"): "+Df(c,x)+(M?" "+M:"")})}function wo(c,w){c.info(function(){return"TIMEOUT: "+w})}as.prototype.info=function(){};function Df(c,w){if(!c.g)return w;if(!w)return null;try{var x=JSON.parse(w);if(x){for(c=0;c<x.length;c++)if(Array.isArray(x[c])){var M=x[c];if(!(2>M.length)){var G=M[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<G.length;de++)G[de]=""}}}}return po(x)}catch{return w}}var Xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function cs(){}E(cs,us),cs.prototype.g=function(){return new XMLHttpRequest},cs.prototype.i=function(){return{}},Un=new cs;function jn(c,w,x,M){this.j=c,this.i=w,this.l=x,this.R=M||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ga}function Ga(){this.i=null,this.g="",this.h=!1}var bo={},Js={};function Zs(c,w,x){c.L=1,c.v=ci(_n(w)),c.m=x,c.P=!0,Eo(c,null)}function Eo(c,w){c.F=Date.now(),nt(c),c.A=_n(c.v);var x=c.A,M=c.R;Array.isArray(M)||(M=[String(M)]),di(x.i,"t",M),c.C=0,x=c.j.J,c.h=new Ga,c.g=fl(c.j,x?w:null,!c.m),0<c.O&&(c.M=new is(m(c.Y,c,c.g),c.O)),w=c.U,x=c.g,M=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(fo[0]=G.toString()),G=fo);for(var X=0;X<G.length;X++){var de=yt(x,G[X],M||w.handleEvent,!1,w.h||w);if(!de)break;w.g[de.key]=de}w=c.H?P(c.H):{},c.m?(c.u||(c.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,w)):(c.u="GET",c.g.ea(c.A,c.u,null,w)),Cr(),ls(c.i,c.u,c.A,c.l,c.R,c.m)}jn.prototype.ca=function(c){c=c.target;const w=this.M;w&&on(c)==3?w.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const Et=on(this.g);var w=this.g.Ba();const Rn=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Ro(this.g)))){this.J||Et!=4||w==7||(w==8||0>=Rn?Cr(3):Cr(2)),fs(this);var x=this.g.Z();this.X=x;t:if(Ka(this)){var M=Ro(this.g);c="";var G=M.length,X=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),ui(this);var de="";break t}this.h.i=new f.TextDecoder}for(w=0;w<G;w++)this.h.h=!0,c+=this.h.i.decode(M[w],{stream:!(X&&w==G-1)});M.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=x==200,Ys(this.i,this.u,this.A,this.l,this.R,Et,x),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Rt=this.g;if((et=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(et)){var We=et;break t}}We=null}if(x=We)Vn(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,To(this,x);else{this.o=!1,this.s=3,vt(12),xn(this),ui(this);break e}}if(this.P){x=!0;let wn;for(;!this.J&&this.C<de.length;)if(wn=Of(this,de),wn==Js){Et==4&&(this.s=4,vt(14),x=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==bo){this.s=4,vt(15),Vn(this.i,this.l,de,"[Invalid Chunk]"),x=!1;break}else Vn(this.i,this.l,wn,null),To(this,wn);if(Ka(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||de.length!=0||this.h.h||(this.s=1,vt(16),x=!1),this.o=this.o&&x,!x)Vn(this.i,this.l,de,"[Invalid Chunked Response]"),xn(this),ui(this);else if(0<de.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Po(Dt),Dt.M=!0,vt(11))}}else Vn(this.i,this.l,de,null),To(this,de);Et==4&&xn(this),this.o&&!this.J&&(Et==4?cu(this.j,this):(this.o=!1,nt(this)))}else su(this.g),x==400&&0<de.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),xn(this),ui(this)}}}catch{}finally{}};function Ka(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Of(c,w){var x=c.C,M=w.indexOf(`
`,x);return M==-1?Js:(x=Number(w.substring(x,M)),isNaN(x)?bo:(M+=1,M+x>w.length?Js:(w=w.slice(M,M+x),c.C=M+x,w)))}jn.prototype.cancel=function(){this.J=!0,xn(this)};function nt(c){c.S=Date.now()+c.I,Qa(c,c.I)}function Qa(c,w){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mn(m(c.ba,c),w)}function fs(c){c.B&&(f.clearTimeout(c.B),c.B=null)}jn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(wo(this.i,this.A),this.L!=2&&(Cr(),vt(17)),xn(this),this.s=2,ui(this)):Qa(this,this.S-c)};function ui(c){c.j.G==0||c.J||cu(c.j,c)}function xn(c){fs(c);var w=c.M;w&&typeof w.ma=="function"&&w.ma(),c.M=null,ho(c.U),c.g&&(w=c.g,c.g=null,w.abort(),w.ma())}function To(c,w){try{var x=c.j;if(x.G!=0&&(x.g==c||en(x.h,c))){if(!c.K&&en(x.h,c)&&x.G==3){try{var M=x.Da.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var G=M;if(G[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<c.F)lu(x),Hn(x);else break e;au(x),vt(18)}}else x.za=G[1],0<x.za-x.T&&37500>G[2]&&x.F&&x.v==0&&!x.C&&(x.C=Mn(m(x.Za,x),6e3));if(1>=Xa(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Or(x,11)}else if((c.K||x.g==c)&&lu(x),!C(w))for(G=x.Da.g.parse(w),w=0;w<G.length;w++){let We=G[w];if(x.T=We[0],We=We[1],x.G==2)if(We[0]=="c"){x.K=We[1],x.ia=We[2];const Dt=We[3];Dt!=null&&(x.la=Dt,x.j.info("VER="+x.la));const Et=We[4];Et!=null&&(x.Aa=Et,x.j.info("SVER="+x.Aa));const Rn=We[5];Rn!=null&&typeof Rn=="number"&&0<Rn&&(M=1.5*Rn,x.L=M,x.j.info("backChannelRequestTimeoutMs_="+M)),M=x;const wn=c.g;if(wn){const _s=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var X=M.h;X.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(So(X,X.h),X.h=null))}if(M.D){const du=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;du&&(M.ya=du,tt(M.I,M.D,du))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-c.F,x.j.info("Handshake RTT: "+x.R+"ms")),M=x;var de=c;if(M.qa=cl(M,M.J?M.ia:null,M.W),de.K){Ja(M.h,de);var et=de,Rt=M.L;Rt&&(et.I=Rt),et.B&&(fs(et),nt(et)),M.g=de}else ys(M);0<x.i.length&&dr(x)}else We[0]!="stop"&&We[0]!="close"||Or(x,7);else x.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Or(x,7):jt(x):We[0]!="noop"&&x.l&&x.l.ta(We),x.v=0)}}Cr(4)}catch{}}var Ya=class{constructor(c,w){this.g=c,this.map=w}};function ds(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xa(c){return c.h?1:c.g?c.g.size:0}function en(c,w){return c.h?c.h==w:c.g?c.g.has(w):!1}function So(c,w){c.g?c.g.add(w):c.h=w}function Ja(c,w){c.h&&c.h==w?c.h=null:c.g&&c.g.has(w)&&c.g.delete(w)}ds.prototype.cancel=function(){if(this.i=Za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Za(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let w=c.i;for(const x of c.g.values())w=w.concat(x.D);return w}return S(c.i)}function eu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var w=[],x=c.length,M=0;M<x;M++)w.push(c[M]);return w}w=[],x=0;for(M in c)w[x++]=c[M];return w}function tu(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var w=[];c=c.length;for(var x=0;x<c;x++)w.push(x);return w}w=[],x=0;for(const M in c)w[x++]=M;return w}}}function oi(c,w){if(c.forEach&&typeof c.forEach=="function")c.forEach(w,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,w,void 0);else for(var x=tu(c),M=eu(c),G=M.length,X=0;X<G;X++)w.call(void 0,M[X],x&&x[X],c)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lf(c,w){if(c){c=c.split("&");for(var x=0;x<c.length;x++){var M=c[x].indexOf("="),G=null;if(0<=M){var X=c[x].substring(0,M);G=c[x].substring(M+1)}else X=c[x];w(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Pr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pr){this.h=c.h,ps(this,c.j),this.o=c.o,this.g=c.g,ai(this,c.s),this.l=c.l;var w=c.i,x=new lr;x.i=w.i,w.g&&(x.g=new Map(w.g),x.h=w.h),li(this,x),this.m=c.m}else c&&(w=String(c).match(hs))?(this.h=!1,ps(this,w[1]||"",!0),this.o=He(w[2]||""),this.g=He(w[3]||"",!0),ai(this,w[4]),this.l=He(w[5]||"",!0),li(this,w[6]||"",!0),this.m=He(w[7]||"")):(this.h=!1,this.i=new lr(null,this.h))}Pr.prototype.toString=function(){var c=[],w=this.j;w&&c.push(fi(w,nu,!0),":");var x=this.g;return(x||w=="file")&&(c.push("//"),(w=this.o)&&c.push(fi(w,nu,!0),"@"),c.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&c.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(fi(x,x.charAt(0)=="/"?nl:tl,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",fi(x,Io)),c.join("")};function _n(c){return new Pr(c)}function ps(c,w,x){c.j=x?He(w,!0):w,c.j&&(c.j=c.j.replace(/:$/,""))}function ai(c,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);c.s=w}else c.s=null}function li(c,w,x){w instanceof lr?(c.i=w,cr(c.i,c.h)):(x||(w=fi(w,rl)),c.i=new lr(w,c.h))}function tt(c,w,x){c.i.set(w,x)}function ci(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function He(c,w){return c?w?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fi(c,w,x){return typeof c=="string"?(c=encodeURI(c).replace(w,el),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function el(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nu=/[#\/\?@]/g,tl=/[#\?:]/g,nl=/[#\?]/g,rl=/[#\?@]/g,Io=/#/g;function lr(c,w){this.h=this.g=null,this.i=c||null,this.j=!!w}function Ut(c){c.g||(c.g=new Map,c.h=0,c.i&&Lf(c.i,function(w,x){c.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}n=lr.prototype,n.add=function(c,w){Ut(this),this.i=null,c=An(this,c);var x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(w),this.h+=1,this};function Fn(c,w){Ut(c),w=An(c,w),c.g.has(w)&&(c.i=null,c.h-=c.g.get(w).length,c.g.delete(w))}function Bn(c,w){return Ut(c),w=An(c,w),c.g.has(w)}n.forEach=function(c,w){Ut(this),this.g.forEach(function(x,M){x.forEach(function(G){c.call(w,G,M,this)},this)},this)},n.na=function(){Ut(this);const c=Array.from(this.g.values()),w=Array.from(this.g.keys()),x=[];for(let M=0;M<w.length;M++){const G=c[M];for(let X=0;X<G.length;X++)x.push(w[M])}return x},n.V=function(c){Ut(this);let w=[];if(typeof c=="string")Bn(this,c)&&(w=w.concat(this.g.get(An(this,c))));else{c=Array.from(this.g.values());for(let x=0;x<c.length;x++)w=w.concat(c[x])}return w},n.set=function(c,w){return Ut(this),this.i=null,c=An(this,c),Bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[w]),this.h+=1,this},n.get=function(c,w){return c?(c=this.V(c),0<c.length?String(c[0]):w):w};function di(c,w,x){Fn(c,w),0<x.length&&(c.i=null,c.g.set(An(c,w),S(x)),c.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],w=Array.from(this.g.keys());for(var x=0;x<w.length;x++){var M=w[x];const X=encodeURIComponent(String(M)),de=this.V(M);for(M=0;M<de.length;M++){var G=X;de[M]!==""&&(G+="="+encodeURIComponent(String(de[M]))),c.push(G)}}return this.i=c.join("&")};function An(c,w){return w=String(w),c.j&&(w=w.toLowerCase()),w}function cr(c,w){w&&!c.j&&(Ut(c),c.i=null,c.g.forEach(function(x,M){var G=M.toLowerCase();M!=G&&(Fn(this,M),di(this,G,x))},c)),c.j=w}function Mf(c,w){const x=new as;if(f.Image){const M=new Image;M.onload=g(un,x,"TestLoadImage: loaded",!0,w,M),M.onerror=g(un,x,"TestLoadImage: error",!1,w,M),M.onabort=g(un,x,"TestLoadImage: abort",!1,w,M),M.ontimeout=g(un,x,"TestLoadImage: timeout",!1,w,M),f.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=c}else w(!1)}function il(c,w){const x=new as,M=new AbortController,G=setTimeout(()=>{M.abort(),un(x,"TestPingServer: timeout",!1,w)},1e4);fetch(c,{signal:M.signal}).then(X=>{clearTimeout(G),X.ok?un(x,"TestPingServer: ok",!0,w):un(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),un(x,"TestPingServer: error",!1,w)})}function un(c,w,x,M,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),M(x)}catch{}}function Vf(){this.g=new go}function sl(c,w,x){const M=x||"";try{oi(c,function(G,X){let de=G;h(G)&&(de=po(G)),w.push(M+X+"="+encodeURIComponent(de))})}catch(G){throw w.push(M+"type="+encodeURIComponent("_badmap")),G}}function kr(c){this.l=c.Ub||null,this.j=c.eb||!1}E(kr,us),kr.prototype.g=function(){return new ms(this.l,this.j)},kr.prototype.i=function(c){return function(){return c}}({});function ms(c,w){pt.call(this),this.D=c,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ms,pt),n=ms.prototype,n.open=function(c,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=w,this.readyState=1,zn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(w.body=c),(this.D||f).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var w=c.value?c.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!c.done}))&&(this.response=this.responseText+=w)}c.done?qn(this):zn(this),this.readyState==3&&ul(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,qn(this))},n.Qa=function(c){this.g&&(this.response=c,qn(this))},n.ga=function(){this.g&&qn(this)};function qn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zn(c)}n.setRequestHeader=function(c,w){this.u.append(c,w)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=w.next();return c.join(`\r
`)};function zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nr(c){let w="";return F(c,function(x,M){w+=M,w+=":",w+=x,w+=`\r
`}),w}function hi(c,w,x){e:{for(M in x){var M=!1;break e}M=!0}M||(x=Nr(x),typeof c=="string"?x!=null&&encodeURIComponent(String(x)):tt(c,w,x))}function ot(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ot,pt);var Uf=/^https?$/i,xo=["POST","PUT"];n=ot.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,w,x,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);w=w?w.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?Ws(this.o):Ws(Un),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(w,String(c),!0),this.B=!1}catch(X){gs(this,X);return}if(c=x||"",x=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var G in M)x.set(G,M[G]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const X of M.keys())x.set(X,M.get(X));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),G=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(xo,w,void 0))||M||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of x)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iu(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){gs(this,X)}};function gs(c,w){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=w,c.m=5,ru(c),vn(c)}function ru(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ao(this):this.bb())},n.bb=function(){Ao(this)};function Ao(c){if(c.h&&typeof l<"u"&&(!c.v[1]||on(c)!=4||c.Z()!=2)){if(c.u&&on(c)==4)co(c.Ea,0,c);else if(_t(c,"readystatechange"),on(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var M;if(M=de===0){var G=String(c.D).match(hs)[1]||null;!G&&f.self&&f.self.location&&(G=f.self.location.protocol.slice(0,-1)),M=!Uf.test(G?G.toLowerCase():"")}x=M}if(x)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var X=2<on(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",ru(c)}}finally{vn(c)}}}}function vn(c,w){if(c.g){iu(c);const x=c.g,M=c.v[0]?()=>{}:null;c.g=null,c.v=null,w||_t(c,"ready");try{x.onreadystatechange=M}catch{}}}function iu(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function on(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var w=this.g.responseText;return c&&w.indexOf(c)==0&&(w=w.substring(c.length)),mo(w)}};function Ro(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function su(c){const w={};c=(c.g&&2<=on(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<c.length;M++){if(C(c[M]))continue;var x=O(c[M]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=w[G]||[];w[G]=X,X.push(x)}k(w,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(c,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||w}function Co(c){this.Aa=0,this.i=[],this.j=new as,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fr("baseRetryDelayMs",5e3,c),this.cb=fr("retryDelaySeedMs",1e4,c),this.Wa=fr("forwardChannelMaxRetries",2,c),this.wa=fr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ds(c&&c.concurrentRequestLimit),this.Da=new Vf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Co.prototype,n.la=8,n.G=1,n.connect=function(c,w,x,M){vt(0),this.W=c,this.H=w||{},x&&M!==void 0&&(this.H.OSID=x,this.H.OAID=M),this.F=this.X,this.I=cl(this,null,this.W),dr(this)};function jt(c){if(uu(c),c.G==3){var w=c.U++,x=_n(c.I);if(tt(x,"SID",c.K),tt(x,"RID",w),tt(x,"TYPE","terminate"),Dr(c,x),w=new jn(c,c.j,w),w.L=2,w.v=ci(_n(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(w.v.toString(),"")}catch{}!x&&f.Image&&(new Image().src=w.v,x=!0),x||(w.g=fl(w.j,null),w.g.ea(w.v)),w.F=Date.now(),nt(w)}ll(c)}function Hn(c){c.g&&(Po(c),c.g.cancel(),c.g=null)}function uu(c){Hn(c),c.u&&(f.clearTimeout(c.u),c.u=null),lu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function dr(c){if(!yn(c.h)&&!c.s){c.s=!0;var w=c.Ga;we||le(),re||(we(),re=!0),he.add(w,c),c.B=0}}function jf(c,w){return Xa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=w.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mn(m(c.Ga,c,w),al(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new jn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=P(X),U(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var M=this.i[x];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,4096<w){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=pi(this,G,w),x=_n(this.I),tt(x,"RID",c),tt(x,"CVER",22),this.D&&tt(x,"X-HTTP-Session-Id",this.D),Dr(this,x),X&&(this.O?w="headers="+encodeURIComponent(String(Nr(X)))+"&"+w:this.m&&hi(x,this.m,X)),So(this.h,G),this.Ua&&tt(x,"TYPE","init"),this.P?(tt(x,"$req",w),tt(x,"SID","null"),G.T=!0,Zs(G,x,null)):Zs(G,x,w),this.G=2}}else this.G==3&&(c?ou(this,c):this.i.length==0||yn(this.h)||ou(this))};function ou(c,w){var x;w?x=w.l:x=c.U++;const M=_n(c.I);tt(M,"SID",c.K),tt(M,"RID",x),tt(M,"AID",c.T),Dr(c,M),c.m&&c.o&&hi(M,c.m,c.o),x=new jn(c,c.j,x,c.B+1),c.m===null&&(x.H=c.o),w&&(c.i=w.D.concat(c.i)),w=pi(c,x,1e3),x.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),So(c.h,x),Zs(x,M,w)}function Dr(c,w){c.H&&F(c.H,function(x,M){tt(w,M,x)}),c.l&&oi({},function(x,M){tt(w,M,x)})}function pi(c,w,x){x=Math.min(c.i.length,x);var M=c.l?m(c.l.Na,c.l,c):null;e:{var G=c.i;let X=-1;for(;;){const de=["count="+x];X==-1?0<x?(X=G[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let et=!0;for(let Rt=0;Rt<x;Rt++){let We=G[Rt].g;const Dt=G[Rt].map;if(We-=X,0>We)X=Math.max(0,G[Rt].g-100),et=!1;else try{sl(Dt,de,"req"+We+"_")}catch{M&&M(Dt)}}if(et){M=de.join("&");break e}}}return c=c.i.splice(0,x),w.D=c,M}function ys(c){if(!c.g&&!c.u){c.Y=1;var w=c.Fa;we||le(),re||(we(),re=!0),he.add(w,c),c.v=0}}function au(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mn(m(c.Fa,c),al(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,ol(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mn(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Hn(this),ol(this))};function Po(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function ol(c){c.g=new jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var w=_n(c.qa);tt(w,"RID","rpc"),tt(w,"SID",c.K),tt(w,"AID",c.T),tt(w,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(w,"TO",c.ja),tt(w,"TYPE","xmlhttp"),Dr(c,w),c.m&&c.o&&hi(w,c.m,c.o),c.L&&(c.g.I=c.L);var x=c.g;c=c.ia,x.L=1,x.v=ci(_n(w)),x.m=null,x.P=!0,Eo(x,c)}n.Za=function(){this.C!=null&&(this.C=null,Hn(this),au(this),vt(19))};function lu(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function cu(c,w){var x=null;if(c.g==w){lu(c),Po(c),c.g=null;var M=2}else if(en(c.h,w))x=w.D,Ja(c.h,w),M=1;else return;if(c.G!=0){if(w.o)if(M==1){x=w.m?w.m.length:0,w=Date.now()-w.F;var G=c.B;M=os(),_t(M,new Qs(M,x)),dr(c)}else ys(c);else if(G=w.s,G==3||G==0&&0<w.X||!(M==1&&jf(c,w)||M==2&&au(c)))switch(x&&0<x.length&&(w=c.h,w.i=w.i.concat(x)),G){case 1:Or(c,5);break;case 4:Or(c,10);break;case 3:Or(c,6);break;default:Or(c,2)}}}function al(c,w){let x=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(x*=2),x*w}function Or(c,w){if(c.j.info("Error code "+w),w==2){var x=m(c.fb,c),M=c.Xa;const G=!M;M=new Pr(M||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ps(M,"https"),ci(M),G?Mf(M.toString(),x):il(M.toString(),x)}else vt(2);c.G=0,c.l&&c.l.sa(w),ll(c),uu(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function ll(c){if(c.G=0,c.ka=[],c.l){const w=Za(c.h);(w.length!=0||c.i.length!=0)&&(I(c.ka,w),I(c.ka,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.ra()}}function cl(c,w,x){var M=x instanceof Pr?_n(x):new Pr(x);if(M.g!="")w&&(M.g=w+"."+M.g),ai(M,M.s);else{var G=f.location;M=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;var X=new Pr(null);M&&ps(X,M),w&&(X.g=w),G&&ai(X,G),x&&(X.l=x),M=X}return x=c.D,w=c.ya,x&&w&&tt(M,x,w),tt(M,"VER",c.la),Dr(c,M),M}function fl(c,w,x){if(w&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=c.Ca&&!c.pa?new ot(new kr({eb:x})):new ot(c.pa),w.Ha(c.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ko(){}n=ko.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function fu(){}fu.prototype.g=function(c,w){return new tn(c,w)};function tn(c,w){pt.call(this),this.g=new Co(w),this.l=c,this.h=w&&w.messageUrlParams||null,c=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(c?c["X-WebChannel-Content-Type"]=w.messageContentType:c={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(c?c["X-WebChannel-Client-Profile"]=w.va:c={"X-WebChannel-Client-Profile":w.va}),this.g.S=c,(c=w&&w.Sb)&&!C(c)&&(this.g.m=c),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!C(w)&&(this.g.D=w,c=this.h,c!==null&&w in c&&(c=this.h,w in c&&delete c[w])),this.j=new hr(this)}E(tn,pt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){jt(this.g)},tn.prototype.o=function(c){var w=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.u&&(x={},x.__data__=po(c),c=x);w.i.push(new Ya(w.Ya++,c)),w.G==3&&dr(w)},tn.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,tn.aa.N.call(this)};function dl(c){or.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var w=c.__sm__;if(w){e:{for(const x in w){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,w=w!==null&&c in w?w[c]:void 0),this.data=w}else this.data=c}E(dl,or);function hl(){Ks.call(this),this.status=1}E(hl,Ks);function hr(c){this.g=c}E(hr,ko),hr.prototype.ua=function(){_t(this.g,"a")},hr.prototype.ta=function(c){_t(this.g,new dl(c))},hr.prototype.sa=function(c){_t(this.g,new hl)},hr.prototype.ra=function(){_t(this.g,"b")},fu.prototype.createWebChannel=fu.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,l2=function(){return new fu},a2=function(){return os()},o2=ar,bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,Cc=Xs,Wa.COMPLETE="complete",u2=Wa,Gs.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",pt.prototype.listen=pt.prototype.K,la=Gs,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,s2=ot}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const zy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new Gp("@firebase/firestore");function Mu(){return js.logLevel}function ge(n,...e){if(js.logLevel<=Be.DEBUG){const t=e.map(s0);js.debug(`Firestore (${so}): ${n}`,...t)}}function ei(n,...e){if(js.logLevel<=Be.ERROR){const t=e.map(s0);js.error(`Firestore (${so}): ${n}`,...t)}}function Gu(n,...e){if(js.logLevel<=Be.WARN){const t=e.map(s0);js.warn(`Firestore (${so}): ${n}`,...t)}}function s0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: `+n;throw ei(e),new Error(e)}function Ze(n,e){n||ke()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ex{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class Tx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Sx{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let i=this.i;const u=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let o=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hi,e.enqueueRetryable(()=>u(this.currentUser))};const l=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await u(this.currentUser)})},f=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string"),new c2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new Xt(e)}}class Ix{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class xx{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Ix(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ax{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ze(this.o===void 0);const i=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const u=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>u(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?u(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new Ax(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const u=Cx(40);for(let o=0;o<u.length;++o)i.length<20&&u[o]<t&&(i+=e.charAt(u[o]%e.length))}return i}}function $e(n,e){return n<e?-1:n>e?1:0}function Ku(n,e,t){return n.length===e.length&&n.every((i,u)=>t(i,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new xt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new xt(0,0))}static max(){return new De(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t,i){t===void 0?t=0:t>e.length&&ke(),i===void 0?i=e.length-t:i>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return wr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let u=0;u<i;u++){const o=wr.compareSegments(e.get(u),t.get(u));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=wr.isNumericId(e),u=wr.isNumericId(t);return i&&!u?-1:!i&&u?1:i&&u?wr.extractNumericId(e).compare(wr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zi.fromString(e.substring(4,e.length-2))}}class ut extends wr{construct(e,t,i){return new ut(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(u=>u.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const Px=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends wr{construct(e,t,i){return new zt(e,t,i)}static isValidIdentifier(e){return Px.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const t=[];let i="",u=0;const o=()=>{if(i.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;u<e.length;){const f=e[u];if(f==="\\"){if(u+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[u+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(i+=f,u++):(o(),u++)}if(o(),l)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ut.fromString(e))}static fromName(e){return new Se(ut.fromString(e).popFirst(5))}static empty(){return new Se(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ut(e.slice()))}}function kx(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,u=De.fromTimestamp(i===1e9?new xt(t+1,0):new xt(t,i));return new Ki(u,Se.empty(),e)}function Nx(n){return new Ki(n.readTime,n.key,-1)}class Ki{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ki(De.min(),Se.empty(),-1)}static max(){return new Ki(De.max(),Se.empty(),-1)}}function Dx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==Ox)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((i,u)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,u)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,i)=>{t(e)})}static reject(e){return new te((t,i)=>{i(e)})}static waitFor(e){return new te((t,i)=>{let u=0,o=0,l=!1;e.forEach(f=>{++u,f.next(()=>{++o,l&&o===u&&t()},p=>i(p))}),l=!0,o===u&&t()})}static or(e){let t=te.resolve(!1);for(const i of e)t=t.next(u=>u?te.resolve(u):i());return t}static forEach(e,t){const i=[];return e.forEach((u,o)=>{i.push(t.call(this,u,o))}),this.waitFor(i)}static mapArray(e,t){return new te((i,u)=>{const o=e.length,l=new Array(o);let f=0;for(let p=0;p<o;p++){const h=p;t(e[h]).next(y=>{l[h]=y,++f,f===o&&i(l)},y=>u(y))}})}static doWhile(e,t){return new te((i,u)=>{const o=()=>{e()===!0?t().next(()=>{o()},u):i()};o()})}}function Mx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function oo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}lf.oe=-1;function cf(n){return n==null}function $c(n){return n===0&&1/n==-1/0}function Vx(n){return typeof n=="number"&&Number.isInteger(n)&&!$c(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hy(e)),e=jx(n.get(t),e);return Hy(e)}function jx(n,e){let t=e;const i=n.length;for(let u=0;u<i;u++){const o=n.charAt(u);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function Hy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ts(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const u=this.comparator(e,i.key);if(u===0)return t+i.left.size;u<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,t,i,u){this.isReverse=u,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&u&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,i,u,o){this.key=e,this.value=t,this.color=i??qt.RED,this.left=u??qt.EMPTY,this.right=o??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,u,o){return new qt(e??this.key,t??this.value,i??this.color,u??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let u=this;const o=i(e,u.key);return u=o<0?u.copy(null,null,null,u.left.insert(e,t,i),null):o===0?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,i)),u.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),t(e,u.key)===0){if(u.right.isEmpty())return qt.EMPTY;i=u.right.min(),u=u.copy(i.key,i.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,i,u,o){return this}insert(e,t,i){return new qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const u=i.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,o=i.getNext().key;if(this.comparator(u,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new kt(zt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ku(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(u){try{return atob(u)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new h2("Invalid base64 string: "+o):o}}(e);return new Ht(t)}static fromUint8Array(e){const t=function(u){let o="";for(let l=0;l<u.length;++l)o+=String.fromCharCode(u[l]);return o}(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let u=0;u<t.length;u++)i[u]=t.charCodeAt(u);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const Fx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(n){if(Ze(!!n),typeof n=="string"){let e=0;const t=Fx.exec(n);if(Ze(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Yi(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function ff(n){const e=n.mapValue.fields.__previous_value__;return u0(e)?ff(e):e}function ba(n){const e=Qi(n.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t,i,u,o,l,f,p,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=u,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=h}}class Ea{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ea("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?u0(n)?4:zx(n)?9007199254740991:qx(n)?10:11:ke()}function Ar(n,e){if(n===e)return!0;const t=Xi(n);if(t!==Xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ba(n).isEqual(ba(e));case 3:return function(u,o){if(typeof u.timestampValue=="string"&&typeof o.timestampValue=="string"&&u.timestampValue.length===o.timestampValue.length)return u.timestampValue===o.timestampValue;const l=Qi(u.timestampValue),f=Qi(o.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(u,o){return Yi(u.bytesValue).isEqual(Yi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(u,o){return bt(u.geoPointValue.latitude)===bt(o.geoPointValue.latitude)&&bt(u.geoPointValue.longitude)===bt(o.geoPointValue.longitude)}(n,e);case 2:return function(u,o){if("integerValue"in u&&"integerValue"in o)return bt(u.integerValue)===bt(o.integerValue);if("doubleValue"in u&&"doubleValue"in o){const l=bt(u.doubleValue),f=bt(o.doubleValue);return l===f?$c(l)===$c(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return Ku(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(u,o){const l=u.mapValue.fields||{},f=o.mapValue.fields||{};if($y(l)!==$y(f))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(f[p]===void 0||!Ar(l[p],f[p])))return!1;return!0}(n,e);default:return ke()}}function Ta(n,e){return(n.values||[]).find(t=>Ar(t,e))!==void 0}function Qu(n,e){if(n===e)return 0;const t=Xi(n),i=Xi(e);if(t!==i)return $e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(o,l){const f=bt(o.integerValue||o.doubleValue),p=bt(l.integerValue||l.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return Gy(n.timestampValue,e.timestampValue);case 4:return Gy(ba(n),ba(e));case 5:return $e(n.stringValue,e.stringValue);case 6:return function(o,l){const f=Yi(o),p=Yi(l);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const f=o.split("/"),p=l.split("/");for(let h=0;h<f.length&&h<p.length;h++){const y=$e(f[h],p[h]);if(y!==0)return y}return $e(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const f=$e(bt(o.latitude),bt(l.latitude));return f!==0?f:$e(bt(o.longitude),bt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ky(n.arrayValue,e.arrayValue);case 10:return function(o,l){var f,p,h,y;const v=o.fields||{},m=l.fields||{},g=(f=v.value)===null||f===void 0?void 0:f.arrayValue,E=(p=m.value)===null||p===void 0?void 0:p.arrayValue,S=$e(((h=g==null?void 0:g.values)===null||h===void 0?void 0:h.length)||0,((y=E==null?void 0:E.values)===null||y===void 0?void 0:y.length)||0);return S!==0?S:Ky(g,E)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===fc.mapValue&&l===fc.mapValue)return 0;if(o===fc.mapValue)return 1;if(l===fc.mapValue)return-1;const f=o.fields||{},p=Object.keys(f),h=l.fields||{},y=Object.keys(h);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const m=$e(p[v],y[v]);if(m!==0)return m;const g=Qu(f[p[v]],h[y[v]]);if(g!==0)return g}return $e(p.length,y.length)}(n.mapValue,e.mapValue);default:throw ke()}}function Gy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=Qi(n),i=Qi(e),u=$e(t.seconds,i.seconds);return u!==0?u:$e(t.nanos,i.nanos)}function Ky(n,e){const t=n.values||[],i=e.values||[];for(let u=0;u<t.length&&u<i.length;++u){const o=Qu(t[u],i[u]);if(o)return o}return $e(t.length,i.length)}function Yu(n){return Ep(n)}function Ep(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Qi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Yi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",u=!0;for(const o of t.values||[])u?u=!1:i+=",",i+=Ep(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let u="{",o=!0;for(const l of i)o?o=!1:u+=",",u+=`${l}:${Ep(t.fields[l])}`;return u+"}"}(n.mapValue):ke()}function Pc(n){switch(Xi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ff(n);return e?16+Pc(e):16;case 5:return 2*n.stringValue.length;case 6:return Yi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((u,o)=>u+Pc(o),0)}(n.arrayValue);case 10:case 11:return function(i){let u=0;return ts(i.fields,(o,l)=>{u+=o.length+Pc(l)}),u}(n.mapValue);default:throw ke()}}function Qy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Tp(n){return!!n&&"integerValue"in n}function o0(n){return!!n&&"arrayValue"in n}function Yy(n){return!!n&&"nullValue"in n}function Xy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kc(n){return!!n&&"mapValue"in n}function qx(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function pa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ts(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=pa(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!kc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pa(t)}setAll(e){let t=zt.emptyPath(),i={},u=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,u),i={},u=[],t=f.popLast()}l?i[f.lastSegment()]=pa(l):u.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,u)}delete(e){const t=this.field(e.popLast());kc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let u=t.mapValue.fields[e.get(i)];kc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,i){ts(t,(u,o)=>e[u]=o);for(const u of i)delete e[u]}clone(){return new mn(pa(this.value))}}function p2(n){const e=[];return ts(n.fields,(t,i)=>{const u=new zt([t]);if(kc(i)){const o=p2(i.mapValue).fields;if(o.length===0)e.push(u);else for(const l of o)e.push(u.child(l))}else e.push(u)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,i,u,o,l,f){this.key=e,this.documentType=t,this.version=i,this.readTime=u,this.createTime=o,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Jt(e,0,De.min(),De.min(),De.min(),mn.empty(),0)}static newFoundDocument(e,t,i,u){return new Jt(e,1,t,De.min(),i,u,0)}static newNoDocument(e,t){return new Jt(e,2,t,De.min(),De.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,De.min(),De.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){this.position=e,this.inclusive=t}}function Jy(n,e,t){let i=0;for(let u=0;u<n.position.length;u++){const o=e[u],l=n.position[u];if(o.field.isKeyField()?i=Se.comparator(Se.fromName(l.referenceValue),t.key):i=Qu(l,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Zy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{}class It extends m2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Wx(e,t,i):t==="array-contains"?new Qx(e,i):t==="in"?new Yx(e,i):t==="not-in"?new Xx(e,i):t==="array-contains-any"?new Jx(e,i):new It(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Gx(e,i):new Kx(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qu(t,this.value)):t!==null&&Xi(this.value)===Xi(t)&&this.matchesComparison(Qu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends m2{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new rr(e,t)}matches(e){return g2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function g2(n){return n.op==="and"}function y2(n){return $x(n)&&g2(n)}function $x(n){for(const e of n.filters)if(e instanceof rr)return!1;return!0}function Sp(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+Yu(n.value);if(y2(n))return n.filters.map(e=>Sp(e)).join(",");{const e=n.filters.map(t=>Sp(t)).join(",");return`${n.op}(${e})`}}function _2(n,e){return n instanceof It?function(i,u){return u instanceof It&&i.op===u.op&&i.field.isEqual(u.field)&&Ar(i.value,u.value)}(n,e):n instanceof rr?function(i,u){return u instanceof rr&&i.op===u.op&&i.filters.length===u.filters.length?i.filters.reduce((o,l,f)=>o&&_2(l,u.filters[f]),!0):!1}(n,e):void ke()}function v2(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${Yu(t.value)}`}(n):n instanceof rr?function(t){return t.op.toString()+" {"+t.getFilters().map(v2).join(" ,")+"}"}(n):"Filter"}class Wx extends It{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class Gx extends It{constructor(e,t){super(e,"in",t),this.keys=w2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Kx extends It{constructor(e,t){super(e,"not-in",t),this.keys=w2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function w2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Se.fromName(i.referenceValue))}class Qx extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return o0(t)&&Ta(t.arrayValue,this.value)}}class Yx extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ta(this.value.arrayValue,t)}}class Xx extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ta(this.value.arrayValue,t)}}class Jx extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!o0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ta(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t=null,i=[],u=[],o=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=u,this.limit=o,this.startAt=l,this.endAt=f,this.ue=null}}function e1(n,e=null,t=[],i=[],u=null,o=null,l=null){return new Zx(n,e,t,i,u,o,l)}function a0(n){const e=Oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Sp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),cf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Yu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Yu(i)).join(",")),e.ue=t}return e.ue}function l0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Hx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Zy(n.startAt,e.startAt)&&Zy(n.endAt,e.endAt)}function Ip(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t=null,i=[],u=[],o=null,l="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=u,this.limit=o,this.limitType=l,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function eA(n,e,t,i,u,o,l,f){return new ao(n,e,t,i,u,o,l,f)}function df(n){return new ao(n)}function t1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function b2(n){return n.collectionGroup!==null}function ma(n){const e=Oe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let f=new kt(zt.comparator);return l.filters.forEach(p=>{p.getFlattenedFilters().forEach(h=>{h.isInequality()&&(f=f.add(h.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Sa(o,i))}),t.has(zt.keyField().canonicalString())||e.ce.push(new Sa(zt.keyField(),i))}return e.ce}function Sr(n){const e=Oe(n);return e.le||(e.le=tA(e,ma(n))),e.le}function tA(n,e){if(n.limitType==="F")return e1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(u=>{const o=u.dir==="desc"?"asc":"desc";return new Sa(u.field,o)});const t=n.endAt?new Wc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Wc(n.startAt.position,n.startAt.inclusive):null;return e1(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function xp(n,e){const t=n.filters.concat([e]);return new ao(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ap(n,e,t){return new ao(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hf(n,e){return l0(Sr(n),Sr(e))&&n.limitType===e.limitType}function E2(n){return`${a0(Sr(n))}|lt:${n.limitType}`}function Vu(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(u=>v2(u)).join(", ")}]`),cf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(u=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(u)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(u=>Yu(u)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(u=>Yu(u)).join(",")),`Target(${i})`}(Sr(n))}; limitType=${n.limitType})`}function pf(n,e){return e.isFoundDocument()&&function(i,u){const o=u.key.path;return i.collectionGroup!==null?u.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Se.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,u){for(const o of ma(i))if(!o.field.isKeyField()&&u.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,u){for(const o of i.filters)if(!o.matches(u))return!1;return!0}(n,e)&&function(i,u){return!(i.startAt&&!function(l,f,p){const h=Jy(l,f,p);return l.inclusive?h<=0:h<0}(i.startAt,ma(i),u)||i.endAt&&!function(l,f,p){const h=Jy(l,f,p);return l.inclusive?h>=0:h>0}(i.endAt,ma(i),u))}(n,e)}function nA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function T2(n){return(e,t)=>{let i=!1;for(const u of ma(n)){const o=rA(u,e,t);if(o!==0)return o;i=i||u.field.isKeyField()}return 0}}function rA(n,e,t){const i=n.field.isKeyField()?Se.comparator(e.key,t.key):function(o,l,f){const p=l.data.field(o),h=f.data.field(o);return p!==null&&h!==null?Qu(p,h):ke()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[u,o]of i)if(this.equalsFn(u,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),u=this.inner[i];if(u===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<u.length;o++)if(this.equalsFn(u[o][0],e))return void(u[o]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return i.length===1?delete this.inner[t]:i.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(t,i)=>{for(const[u,o]of i)e(u,o)})}isEmpty(){return d2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new ht(Se.comparator);function ti(){return iA}const S2=new ht(Se.comparator);function ca(...n){let e=S2;for(const t of n)e=e.insert(t.key,t);return e}function I2(n){let e=S2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ls(){return ga()}function x2(){return ga()}function ga(){return new qs(n=>n.toString(),(n,e)=>n.isEqual(e))}const sA=new ht(Se.comparator),uA=new kt(Se.comparator);function qe(...n){let e=uA;for(const t of n)e=e.add(t);return e}const oA=new kt($e);function aA(){return oA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function A2(n){return{integerValue:""+n}}function lA(n,e){return Vx(e)?A2(e):c0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function cA(n,e,t){return n instanceof Gc?function(u,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return o&&u0(o)&&(o=ff(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Ia?C2(n,e):n instanceof xa?P2(n,e):function(u,o){const l=R2(u,o),f=n1(l)+n1(u.Pe);return Tp(l)&&Tp(u.Pe)?A2(f):c0(u.serializer,f)}(n,e)}function fA(n,e,t){return n instanceof Ia?C2(n,e):n instanceof xa?P2(n,e):t}function R2(n,e){return n instanceof Kc?function(i){return Tp(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Gc extends mf{}class Ia extends mf{constructor(e){super(),this.elements=e}}function C2(n,e){const t=k2(e);for(const i of n.elements)t.some(u=>Ar(u,i))||t.push(i);return{arrayValue:{values:t}}}class xa extends mf{constructor(e){super(),this.elements=e}}function P2(n,e){let t=k2(e);for(const i of n.elements)t=t.filter(u=>!Ar(u,i));return{arrayValue:{values:t}}}class Kc extends mf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function n1(n){return bt(n.integerValue||n.doubleValue)}function k2(n){return o0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function dA(n,e){return n.field.isEqual(e.field)&&function(i,u){return i instanceof Ia&&u instanceof Ia||i instanceof xa&&u instanceof xa?Ku(i.elements,u.elements,Ar):i instanceof Kc&&u instanceof Kc?Ar(i.Pe,u.Pe):i instanceof Gc&&u instanceof Gc}(n.transform,e.transform)}class hA{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class gf{}function N2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new f0(n.key,er.none()):new Ma(n.key,n.data,er.none());{const t=n.data,i=mn.empty();let u=new kt(zt.comparator);for(let o of e.fields)if(!u.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?i.delete(o):i.set(o,l),u=u.add(o)}return new ns(n.key,i,new Sn(u.toArray()),er.none())}}function pA(n,e,t){n instanceof Ma?function(u,o,l){const f=u.value.clone(),p=i1(u.fieldTransforms,o,l.transformResults);f.setAll(p),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ns?function(u,o,l){if(!Nc(u.precondition,o))return void o.convertToUnknownDocument(l.version);const f=i1(u.fieldTransforms,o,l.transformResults),p=o.data;p.setAll(D2(u)),p.setAll(f),o.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):function(u,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ya(n,e,t,i){return n instanceof Ma?function(o,l,f,p){if(!Nc(o.precondition,l))return f;const h=o.value.clone(),y=s1(o.fieldTransforms,p,l);return h.setAll(y),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,i):n instanceof ns?function(o,l,f,p){if(!Nc(o.precondition,l))return f;const h=s1(o.fieldTransforms,p,l),y=l.data;return y.setAll(D2(o)),y.setAll(h),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(o,l,f){return Nc(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f}(n,e,t)}function mA(n,e){let t=null;for(const i of n.fieldTransforms){const u=e.data.field(i.field),o=R2(i.transform,u||null);o!=null&&(t===null&&(t=mn.empty()),t.set(i.field,o))}return t||null}function r1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,u){return i===void 0&&u===void 0||!(!i||!u)&&Ku(i,u,(o,l)=>dA(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ma extends gf{constructor(e,t,i,u=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ns extends gf{constructor(e,t,i,u,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=u,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function D2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function i1(n,e,t){const i=new Map;Ze(n.length===t.length);for(let u=0;u<t.length;u++){const o=n[u],l=o.transform,f=e.data.field(o.field);i.set(o.field,fA(l,f,t[u]))}return i}function s1(n,e,t){const i=new Map;for(const u of n){const o=u.transform,l=t.data.field(u.field);i.set(u.field,cA(o,l,e))}return i}class f0 extends gf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gA extends gf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t,i,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=u}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const o=this.mutations[u];o.key.isEqual(e.key)&&pA(o,e,i[u])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ya(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ya(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=x2();return this.mutations.forEach(u=>{const o=e.get(u.key),l=o.overlayedDocument;let f=this.applyToLocalView(l,o.mutatedFields);f=t.has(u.key)?null:f;const p=N2(l,f);p!==null&&i.set(u.key,p),l.isValidDocument()||l.convertToNoDocument(De.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&Ku(this.mutations,e.mutations,(t,i)=>r1(t,i))&&Ku(this.baseMutations,e.baseMutations,(t,i)=>r1(t,i))}}class d0{constructor(e,t,i,u){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=u}static from(e,t,i){Ze(e.mutations.length===i.length);let u=function(){return sA}();const o=e.mutations;for(let l=0;l<o.length;l++)u=u.insert(o[l].key,i[l].version);return new d0(e,t,i,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Ge;function wA(n){switch(n){default:return ke();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function O2(n){if(n===void 0)return ei("GRPC error has no .code"),ne.UNKNOWN;switch(n){case St.OK:return ne.OK;case St.CANCELLED:return ne.CANCELLED;case St.UNKNOWN:return ne.UNKNOWN;case St.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case St.INTERNAL:return ne.INTERNAL;case St.UNAVAILABLE:return ne.UNAVAILABLE;case St.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case St.NOT_FOUND:return ne.NOT_FOUND;case St.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case St.ABORTED:return ne.ABORTED;case St.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case St.DATA_LOSS:return ne.DATA_LOSS;default:return ke()}}(Ge=St||(St={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new zi([4294967295,4294967295],0);function u1(n){const e=bA().encode(n),t=new i2;return t.update(e),new Uint8Array(t.digest())}function o1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),u=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zi([t,i],0),new zi([u,o],0)]}class h0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new fa(`Invalid padding: ${t}`);if(i<0)throw new fa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new fa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new fa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=zi.fromNumber(this.Te)}de(e,t,i){let u=e.add(t.multiply(zi.fromNumber(i)));return u.compare(EA)===1&&(u=new zi([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=u1(e),[i,u]=o1(t);for(let o=0;o<this.hashCount;o++){const l=this.de(i,u,o);if(!this.Ee(l))return!1}return!0}static create(e,t,i){const u=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new h0(o,u,t);return i.forEach(f=>l.insert(f)),l}insert(e){if(this.Te===0)return;const t=u1(e),[i,u]=o1(t);for(let o=0;o<this.hashCount;o++){const l=this.de(i,u,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t,i,u,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=u,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const u=new Map;return u.set(e,Va.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new yf(De.min(),u,new ht($e),ti(),qe())}}class Va{constructor(e,t,i,u,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=u,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Va(i,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,i,u){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=u}}class L2{constructor(e,t){this.targetId=e,this.me=t}}class M2{constructor(e,t,i=Ht.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=u}}class a1{constructor(){this.fe=0,this.ge=l1(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=qe(),t=qe(),i=qe();return this.ge.forEach((u,o)=>{switch(o){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:i=i.add(u);break;default:ke()}}),new Va(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=l1()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class TA{constructor(e){this.Be=e,this.Le=new Map,this.ke=ti(),this.qe=dc(),this.Qe=dc(),this.Ke=new ht($e)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,u)=>{this.je(u)&&t(u)})}Je(e){const t=e.targetId,i=e.me.count,u=this.Ye(t);if(u){const o=u.target;if(Ip(o))if(i===0){const l=new Se(o.path);this.We(t,l,Jt.newNoDocument(l,De.min()))}else Ze(i===1);else{const l=this.Ze(t);if(l!==i){const f=this.Xe(e),p=f?this.et(f,e,l):1;if(p!==0){this.He(t);const h=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:u=0},hashCount:o=0}=t;let l,f;try{l=Yi(i).toUint8Array()}catch(p){if(p instanceof h2)return Gu("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new h0(l,u,o)}catch(p){return Gu(p instanceof fa?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let u=0;return i.forEach(o=>{const l=this.Be.nt(),f=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.We(t,o,null),u++)}),u}it(e){const t=new Map;this.Le.forEach((o,l)=>{const f=this.Ye(l);if(f){if(o.current&&Ip(f.target)){const p=new Se(f.target.path);this.st(p).has(l)||this.ot(l,p)||this.We(l,p,Jt.newNoDocument(p,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let i=qe();this.Qe.forEach((o,l)=>{let f=!0;l.forEachWhile(p=>{const h=this.Ye(p);return!h||h.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const u=new yf(e,t,this.Ke,this.ke,i);return this.ke=ti(),this.qe=dc(),this.Qe=dc(),this.Ke=new ht($e),u}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const u=this.ze(e);this.ot(e,t)?u.Fe(t,1):u.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new a1,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new kt($e),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kt($e),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new a1),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function dc(){return new ht(Se.comparator)}function l1(){return new ht(Se.comparator)}const SA={asc:"ASCENDING",desc:"DESCENDING"},IA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xA={and:"AND",or:"OR"};class AA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rp(n,e){return n.useProto3Json||cf(e)?e:{value:e}}function Qc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function RA(n,e){return Qc(n,e.toTimestamp())}function Ir(n){return Ze(!!n),De.fromTimestamp(function(t){const i=Qi(t);return new xt(i.seconds,i.nanos)}(n))}function p0(n,e){return Cp(n,e).canonicalString()}function Cp(n,e){const t=function(u){return new ut(["projects",u.projectId,"databases",u.database])}(n).child("documents");return e===void 0?t:t.child(e)}function U2(n){const e=ut.fromString(n);return Ze(z2(e)),e}function Pp(n,e){return p0(n.databaseId,e.path)}function vh(n,e){const t=U2(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(F2(t))}function j2(n,e){return p0(n.databaseId,e)}function CA(n){const e=U2(n);return e.length===4?ut.emptyPath():F2(e)}function kp(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function F2(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function c1(n,e,t){return{name:Pp(n,e),fields:t.value.mapValue.fields}}function PA(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],o=function(h,y){return h.useProto3Json?(Ze(y===void 0||typeof y=="string"),Ht.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Ht.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(h){const y=h.code===void 0?ne.UNKNOWN:O2(h.code);return new ye(y,h.message||"")}(l);t=new M2(i,u,o,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const u=vh(n,i.document.name),o=Ir(i.document.updateTime),l=i.document.createTime?Ir(i.document.createTime):De.min(),f=new mn({mapValue:{fields:i.document.fields}}),p=Jt.newFoundDocument(u,o,l,f),h=i.targetIds||[],y=i.removedTargetIds||[];t=new Dc(h,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const u=vh(n,i.document),o=i.readTime?Ir(i.readTime):De.min(),l=Jt.newNoDocument(u,o),f=i.removedTargetIds||[];t=new Dc([],f,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const u=vh(n,i.document),o=i.removedTargetIds||[];t=new Dc([],o,u,null)}else{if(!("filter"in e))return ke();{e.filter;const i=e.filter;i.targetId;const{count:u=0,unchangedNames:o}=i,l=new vA(u,o),f=i.targetId;t=new L2(f,l)}}return t}function kA(n,e){let t;if(e instanceof Ma)t={update:c1(n,e.key,e.value)};else if(e instanceof f0)t={delete:Pp(n,e.key)};else if(e instanceof ns)t={update:c1(n,e.key,e.data),updateMask:FA(e.fieldMask)};else{if(!(e instanceof gA))return ke();t={verify:Pp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const f=l.transform;if(f instanceof Gc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ia)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof xa)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Kc)return{fieldPath:l.field.canonicalString(),increment:f.Pe};throw ke()}(0,i))),e.precondition.isNone||(t.currentDocument=function(u,o){return o.updateTime!==void 0?{updateTime:RA(u,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ke()}(n,e.precondition)),t}function NA(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(u,o){let l=u.updateTime?Ir(u.updateTime):Ir(o);return l.isEqual(De.min())&&(l=Ir(o)),new hA(l,u.transformResults||[])}(t,e))):[]}function DA(n,e){return{documents:[j2(n,e.path)]}}function OA(n,e){const t={structuredQuery:{}},i=e.path;let u;e.collectionGroup!==null?(u=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=j2(n,u);const o=function(h){if(h.length!==0)return q2(rr.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(y=>function(m){return{field:Uu(m.field),direction:VA(m.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=Rp(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ct:t,parent:u}}function LA(n){let e=CA(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let u=null;if(i>0){Ze(i===1);const y=t.from[0];y.allDescendants?u=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(v){const m=B2(v);return m instanceof rr&&y2(m)?m.getFilters():[m]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(m=>function(E){return new Sa(ju(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(t.orderBy));let f=null;t.limit&&(f=function(v){let m;return m=typeof v=="object"?v.value:v,cf(m)?null:m}(t.limit));let p=null;t.startAt&&(p=function(v){const m=!!v.before,g=v.values||[];return new Wc(g,m)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const m=!v.before,g=v.values||[];return new Wc(g,m)}(t.endAt)),eA(e,u,l,o,f,"F",p,h)}function MA(n,e){const t=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function B2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ju(t.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const u=ju(t.unaryFilter.field);return It.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ju(t.unaryFilter.field);return It.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ju(t.unaryFilter.field);return It.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(n):n.fieldFilter!==void 0?function(t){return It.create(ju(t.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return rr.create(t.compositeFilter.filters.map(i=>B2(i)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(n):ke()}function VA(n){return SA[n]}function UA(n){return IA[n]}function jA(n){return xA[n]}function Uu(n){return{fieldPath:n.canonicalString()}}function ju(n){return zt.fromServerFormat(n.fieldPath)}function q2(n){return n instanceof It?function(t){if(t.op==="=="){if(Xy(t.value))return{unaryFilter:{field:Uu(t.field),op:"IS_NAN"}};if(Yy(t.value))return{unaryFilter:{field:Uu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xy(t.value))return{unaryFilter:{field:Uu(t.field),op:"IS_NOT_NAN"}};if(Yy(t.value))return{unaryFilter:{field:Uu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uu(t.field),op:UA(t.op),value:t.value}}}(n):n instanceof rr?function(t){const i=t.getFilters().map(u=>q2(u));return i.length===1?i[0]:{compositeFilter:{op:jA(t.op),filters:i}}}(n):ke()}function FA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function z2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,i,u,o=De.min(),l=De.min(),f=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=u,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.ht=e}}function qA(n){const e=LA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.ln=new HA}addToCollectionParentIndex(e,t){return this.ln.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ki.min())}updateCollectionGroup(e,t,i){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class HA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),u=this.index[t]||new kt(ut.comparator),o=!u.has(i);return this.index[t]=u.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),u=this.index[t];return u&&u.has(i)}getEntries(e){return(this.index[e]||new kt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Xu(0)}static Qn(){return new Xu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1([n,e],[t,i]){const u=$e(n,t);return u===0?$e(e,i):u}class $A{constructor(e){this.Gn=e,this.buffer=new kt(d1),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();d1(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){oo(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await uo(t)}await this.Yn(3e5)})}}class GA{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return te.resolve(lf.oe);const i=new $A(t);return this.Zn.forEachTarget(e,u=>i.Hn(u.sequenceNumber)).next(()=>this.Zn.er(e,u=>i.Hn(u))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(f1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f1):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,u,o,l,f,p,h;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),u=this.params.maximumSequenceNumbersToCollect):u=v,l=Date.now(),this.nthSequenceNumber(e,u))).next(v=>(i=v,f=Date.now(),this.removeTargets(e,i,t))).next(v=>(o=v,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(h=Date.now(),Mu()<=Be.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${u} in `+(f-l)+`ms
	Removed ${o} targets in `+(p-f)+`ms
	Removed ${v} documents in `+(h-p)+`ms
Total Duration: ${h-y}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:o,documentsRemoved:v})))}}function KA(n,e){return new GA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.changes=new qs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,i,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=u}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(i=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(i!==null&&ya(i.mutation,u,Sn.empty(),xt.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=qe()){const u=Ls();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,i).next(o=>{let l=ca();return o.forEach((f,p)=>{l=l.insert(f,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=Ls();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,qe()))}populateOverlays(e,t,i){const u=[];return i.forEach(o=>{t.has(o)||u.push(o)}),this.documentOverlayCache.getOverlays(e,u).next(o=>{o.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,i,u){let o=ti();const l=ga(),f=function(){return ga()}();return t.forEach((p,h)=>{const y=i.get(h.key);u.has(h.key)&&(y===void 0||y.mutation instanceof ns)?o=o.insert(h.key,h):y!==void 0?(l.set(h.key,y.mutation.getFieldMask()),ya(y.mutation,h,y.mutation.getFieldMask(),xt.now())):l.set(h.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((h,y)=>l.set(h,y)),t.forEach((h,y)=>{var v;return f.set(h,new YA(y,(v=l.get(h))!==null&&v!==void 0?v:null))}),f))}recalculateAndSaveOverlays(e,t){const i=ga();let u=new ht((l,f)=>l-f),o=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(p=>{const h=t.get(p);if(h===null)return;let y=i.get(p)||Sn.empty();y=f.applyToLocalView(h,y),i.set(p,y);const v=(u.get(f.batchId)||qe()).add(p);u=u.insert(f.batchId,v)})}).next(()=>{const l=[],f=u.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),h=p.key,y=p.value,v=x2();y.forEach(m=>{if(!o.has(m)){const g=N2(t.get(m),i.get(m));g!==null&&v.set(m,g),o=o.add(m)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,v))}return te.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,u){return function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):b2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,u):this.getDocumentsMatchingCollectionQuery(e,t,i,u)}getNextDocuments(e,t,i,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,u).next(o=>{const l=u-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,u-o.size):te.resolve(Ls());let f=-1,p=o;return l.next(h=>te.forEach(h,(y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),o.get(y)?te.resolve():this.remoteDocumentCache.getEntry(e,y).next(m=>{p=p.insert(y,m)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,p,h,qe())).next(y=>({batchId:f,changes:I2(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(i=>{let u=ca();return i.isFoundDocument()&&(u=u.insert(i.key,i)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,i,u){const o=t.collectionGroup;let l=ca();return this.indexManager.getCollectionParents(e,o).next(f=>te.forEach(f,p=>{const h=function(v,m){return new ao(m,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,i,u).next(y=>{y.forEach((v,m)=>{l=l.insert(v,m)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,u){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,u))).next(l=>{o.forEach((p,h)=>{const y=h.getKey();l.get(y)===null&&(l=l.insert(y,Jt.newInvalidDocument(y)))});let f=ca();return l.forEach((p,h)=>{const y=o.get(p);y!==void 0&&ya(y.mutation,h,Sn.empty(),xt.now()),pf(t,h)&&(f=f.insert(p,h))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return te.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(u){return{id:u.id,version:u.version,createTime:Ir(u.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(u){return{name:u.name,query:qA(u.bundledQuery),readTime:Ir(u.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.overlays=new ht(Se.comparator),this.dr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ls();return te.forEach(t,u=>this.getOverlay(e,u).next(o=>{o!==null&&i.set(u,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((u,o)=>{this.Tt(e,t,o)}),te.resolve()}removeOverlaysForBatchId(e,t,i){const u=this.dr.get(i);return u!==void 0&&(u.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(i)),te.resolve()}getOverlaysForCollection(e,t,i){const u=Ls(),o=t.length+1,l=new Se(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const p=f.getNext().value,h=p.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&p.largestBatchId>i&&u.set(p.getKey(),p)}return te.resolve(u)}getOverlaysForCollectionGroup(e,t,i,u){let o=new ht((h,y)=>h-y);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let y=o.get(h.largestBatchId);y===null&&(y=Ls(),o=o.insert(h.largestBatchId,y)),y.set(h.getKey(),h)}}const f=Ls(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((h,y)=>f.set(h,y)),!(f.size()>=u)););return te.resolve(f)}Tt(e,t,i){const u=this.overlays.get(i.key);if(u!==null){const l=this.dr.get(u.largestBatchId).delete(i.key);this.dr.set(u.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new _A(t,i));let o=this.dr.get(t);o===void 0&&(o=qe(),this.dr.set(t,o)),this.dr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.Er=new kt(Vt.Ar),this.Rr=new kt(Vt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new Vt(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Vt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Se(new ut([])),i=new Vt(t,e),u=new Vt(t,e+1),o=[];return this.Rr.forEachInRange([i,u],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Se(new ut([])),i=new Vt(t,e),u=new Vt(t,e+1);let o=qe();return this.Rr.forEachInRange([i,u],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Vt(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Vt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Se.comparator(e.key,t.key)||$e(e.br,t.br)}static Vr(e,t){return $e(e.br,t.br)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new kt(Vt.Ar)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,u){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new yA(o,t,i,u);this.mutationQueue.push(l);for(const f of u)this.vr=this.vr.add(new Vt(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,u=this.Fr(i),o=u<0?0:u;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Vt(t,0),u=new Vt(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([i,u],l=>{const f=this.Cr(l.br);o.push(f)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new kt($e);return t.forEach(u=>{const o=new Vt(u,0),l=new Vt(u,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],f=>{i=i.add(f.br)})}),te.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,u=i.length+1;let o=i;Se.isDocumentKey(o)||(o=o.child(""));const l=new Vt(new Se(o),0);let f=new kt($e);return this.vr.forEachWhile(p=>{const h=p.key.path;return!!i.isPrefixOf(h)&&(h.length===u&&(f=f.add(p.br)),!0)},l),te.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const u=this.Cr(i);u!==null&&t.push(u)}),t}removeMutationBatch(e,t){Ze(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return te.forEach(t.mutations,u=>{const o=new Vt(u.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new Vt(t,0),u=this.vr.firstAfterOrEqual(i);return te.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.Nr=e,this.docs=function(){return new ht(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,u=this.docs.get(i),o=u?u.size:0,l=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return te.resolve(i?i.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let i=ti();return t.forEach(u=>{const o=this.docs.get(u);i=i.insert(u,o?o.document.mutableCopy():Jt.newInvalidDocument(u))}),te.resolve(i)}getDocumentsMatchingQuery(e,t,i,u){let o=ti();const l=t.path,f=new Se(l.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:h,value:{document:y}}=p.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||Dx(Nx(y),i)<=0||(u.has(y.key)||pf(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,t,i,u){ke()}Br(e,t){return te.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new r6(this)}getSize(e){return te.resolve(this.size)}}class r6 extends QA{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,u)=>{u.isValidDocument()?t.push(this.hr.addEntry(e,u)):this.hr.removeEntry(i)}),te.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.persistence=e,this.Lr=new qs(t=>a0(t),l0),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.kr=0,this.qr=new m0,this.targetCount=0,this.Qr=Xu.qn()}forEachTarget(e,t){return this.Lr.forEach((i,u)=>t(u)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),te.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Xu(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Un(t),te.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,i){let u=0;const o=[];return this.Lr.forEach((l,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Lr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),u++)}),te.waitFor(o).next(()=>u)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return te.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),te.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const u=this.persistence.referenceDelegate,o=[];return u&&t.forEach(l=>{o.push(u.markPotentiallyOrphaned(e,l))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return te.resolve(i)}containsKey(e,t){return te.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,t){this.Kr={},this.overlays={},this.$r=new lf(0),this.Ur=!1,this.Ur=!0,this.Wr=new e6,this.referenceDelegate=e(this),this.Gr=new i6(this),this.indexManager=new zA,this.remoteDocumentCache=function(u){return new n6(u)}(i=>this.referenceDelegate.zr(i)),this.serializer=new BA(t),this.jr=new JA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new t6(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const u=new s6(this.$r.next());return this.referenceDelegate.Hr(),i(u).next(o=>this.referenceDelegate.Jr(u).next(()=>o)).toPromise().then(o=>(u.raiseOnCommittedEvent(),o))}Yr(e,t){return te.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class s6 extends Lx{constructor(e){super(),this.currentSequenceNumber=e}}class g0{constructor(e){this.persistence=e,this.Zr=new m0,this.Xr=null}static ei(e){return new g0(e)}get ti(){if(this.Xr)return this.Xr;throw ke()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),te.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),te.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(u=>this.ti.add(u.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(o=>this.ti.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ti,i=>{const u=Se.fromPath(i);return this.ni(e,u).next(o=>{o||t.removeEntry(u,De.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return te.or([()=>te.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Yc{constructor(e,t){this.persistence=e,this.ri=new qs(i=>Ux(i.path),(i,u)=>i.isEqual(u)),this.garbageCollector=KA(this,t)}static ei(e,t){return new Yc(e,t)}Hr(){}Jr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(u=>i+u))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return te.forEach(this.ri,(i,u)=>this.ir(e,i,u).next(o=>o?te.resolve():t(u)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const u=this.persistence.getRemoteDocumentCache(),o=u.newChangeBuffer();return u.Br(e,l=>this.ir(e,l,t).next(f=>{f||(i++,o.removeEntry(l,De.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),te.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pc(e.data.value)),t}ir(e,t,i){return te.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const u=this.ri.get(t);return te.resolve(u!==void 0&&u>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,t,i,u){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=u}static zi(e,t){let i=qe(),u=qe();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:u=u.add(o.doc.key)}return new y0(e,t.fromCache,i,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return BT()?8:Mx(Zt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,u){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,u,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new u6;return this.ts(e,t,l).next(f=>{if(o.result=f,this.Hi)return this.ns(e,t,l,f.size)})}).next(()=>o.result)}ns(e,t,i,u){return i.documentReadCount<this.Ji?(Mu()<=Be.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Vu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),te.resolve()):(Mu()<=Be.DEBUG&&ge("QueryEngine","Query:",Vu(t),"scans",i.documentReadCount,"local documents and returns",u,"documents as results."),i.documentReadCount>this.Yi*u?(Mu()<=Be.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Vu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):te.resolve())}Xi(e,t){if(t1(t))return te.resolve(null);let i=Sr(t);return this.indexManager.getIndexType(e,i).next(u=>u===0?null:(t.limit!==null&&u===1&&(t=Ap(t,null,"F"),i=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=qe(...o);return this.Zi.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const h=this.rs(t,f);return this.ss(t,h,l,p.readTime)?this.Xi(e,Ap(t,null,"F")):this.os(e,h,t,p)}))})))}es(e,t,i,u){return t1(t)||u.isEqual(De.min())?te.resolve(null):this.Zi.getDocuments(e,i).next(o=>{const l=this.rs(t,o);return this.ss(t,l,i,u)?te.resolve(null):(Mu()<=Be.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Vu(t)),this.os(e,l,t,kx(u,-1)).next(f=>f))})}rs(e,t){let i=new kt(T2(e));return t.forEach((u,o)=>{pf(e,o)&&(i=i.add(o))}),i}ss(e,t,i,u){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(u)>0)}ts(e,t,i){return Mu()<=Be.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Vu(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ki.min(),i)}os(e,t,i,u){return this.Zi.getDocumentsMatchingQuery(e,i,u).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,t,i,u){this.persistence=e,this._s=t,this.serializer=u,this.us=new ht($e),this.cs=new qs(o=>a0(o),l0),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function l6(n,e,t,i){return new a6(n,e,t,i)}async function $2(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let u;return t.mutationQueue.getAllMutationBatches(i).next(o=>(u=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],f=[];let p=qe();for(const h of u){l.push(h.batchId);for(const y of h.mutations)p=p.add(y.key)}for(const h of o){f.push(h.batchId);for(const y of h.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(i,p).next(h=>({Ts:h,removedBatchIds:l,addedBatchIds:f}))})})}function c6(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const u=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,h,y){const v=h.batch,m=v.keys();let g=te.resolve();return m.forEach(E=>{g=g.next(()=>y.getEntry(p,E)).next(S=>{const I=h.docVersions.get(E);Ze(I!==null),S.version.compareTo(I)<0&&(v.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),y.addEntry(S)))})}),g.next(()=>f.mutationQueue.removeMutationBatch(p,v))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=qe();for(let h=0;h<f.mutationResults.length;++h)f.mutationResults[h].transformResults.length>0&&(p=p.add(f.batch.mutations[h].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,u))})}function W2(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function f6(n,e){const t=Oe(n),i=e.snapshotVersion;let u=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});u=t.us;const f=[];e.targetChanges.forEach((y,v)=>{const m=u.get(v);if(!m)return;f.push(t.Gr.removeMatchingKeys(o,y.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(o,y.addedDocuments,v)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?g=g.withResumeToken(Ht.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):y.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(y.resumeToken,i)),u=u.insert(v,g),function(S,I,T){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,g,y)&&f.push(t.Gr.updateTargetData(o,g))});let p=ti(),h=qe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),f.push(d6(o,l,e.documentUpdates).next(y=>{p=y.Is,h=y.ds})),!i.isEqual(De.min())){const y=t.Gr.getLastRemoteSnapshotVersion(o).next(v=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,i));f.push(y)}return te.waitFor(f).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,h)).next(()=>p)}).then(o=>(t.us=u,o))}function d6(n,e,t){let i=qe(),u=qe();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let l=ti();return t.forEach((f,p)=>{const h=o.get(f);p.isFoundDocument()!==h.isFoundDocument()&&(u=u.add(f)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(f,p.readTime),l=l.insert(f,p)):!h.isValidDocument()||p.version.compareTo(h.version)>0||p.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(p),l=l.insert(f,p)):ge("LocalStore","Ignoring outdated watch update for ",f,". Current version:",h.version," Watch version:",p.version)}),{Is:l,ds:u}})}function h6(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function p6(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let u;return t.Gr.getTargetData(i,e).next(o=>o?(u=o,te.resolve(u)):t.Gr.allocateTargetId(i).next(l=>(u=new ji(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,u).next(()=>u))))}).then(i=>{const u=t.us.get(i.targetId);return(u===null||i.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Np(n,e,t){const i=Oe(n),u=i.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,u))}catch(l){if(!oo(l))throw l;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.us=i.us.remove(e),i.cs.delete(u.target)}function h1(n,e,t){const i=Oe(n);let u=De.min(),o=qe();return i.persistence.runTransaction("Execute query","readwrite",l=>function(p,h,y){const v=Oe(p),m=v.cs.get(y);return m!==void 0?te.resolve(v.us.get(m)):v.Gr.getTargetData(h,y)}(i,l,Sr(e)).next(f=>{if(f)return u=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(l,f.targetId).next(p=>{o=p})}).next(()=>i._s.getDocumentsMatchingQuery(l,e,t?u:De.min(),t?o:qe())).next(f=>(m6(i,nA(e),f),{documents:f,Es:o})))}function m6(n,e,t){let i=n.ls.get(e)||De.min();t.forEach((u,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ls.set(e,i)}class p1{constructor(){this.activeTargetIds=aA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g6{constructor(){this._o=new p1,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new p1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function wh(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class w6 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${u}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${u}`:`project_id=${u}&database_id=${o}`}Oo(t,i,u,o,l){const f=wh(),p=this.No(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${f}:`,p,u);const h={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(h,o,l),this.Lo(t,p,h,u).then(y=>(ge("RestConnection",`Received RPC '${t}' ${f}: `,y),y),y=>{throw Gu("RestConnection",`RPC '${t}' ${f} failed with error: `,y,"url: ",p,"request:",u),y})}ko(t,i,u,o,l,f){return this.Oo(t,i,u,o,l)}Bo(t,i,u){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>t[l]=o),u&&u.headers.forEach((o,l)=>t[l]=o)}No(t,i){const u=_6[t];return`${this.Fo}/v1/${i}:${u}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,u){const o=wh();return new Promise((l,f)=>{const p=new s2;p.setWithCredentials(!0),p.listenOnce(u2.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Cc.NO_ERROR:const y=p.getResponseJson();ge(Yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),l(y);break;case Cc.TIMEOUT:ge(Yt,`RPC '${e}' ${o} timed out`),f(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const v=p.getStatus();if(ge(Yt,`RPC '${e}' ${o} failed with status:`,v,"response text:",p.getResponseText()),v>0){let m=p.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const E=function(I){const T=I.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(T)>=0?T:ne.UNKNOWN}(g.status);f(new ye(E,g.message))}else f(new ye(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{ge(Yt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(u);ge(Yt,`RPC '${e}' ${o} sending request:`,u),p.send(t,"POST",h,i,15)})}qo(e,t,i){const u=wh(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=l2(),f=a2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(p.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const y=o.join("");ge(Yt,`Creating RPC '${e}' stream ${u}: ${y}`,p);const v=l.createWebChannel(y,p);let m=!1,g=!1;const E=new v6({Eo:I=>{g?ge(Yt,`Not sending because RPC '${e}' stream ${u} is closed:`,I):(m||(ge(Yt,`Opening RPC '${e}' stream ${u} transport.`),v.open(),m=!0),ge(Yt,`RPC '${e}' stream ${u} sending:`,I),v.send(I))},Ao:()=>v.close()}),S=(I,T,C)=>{I.listen(T,D=>{try{C(D)}catch(A){setTimeout(()=>{throw A},0)}})};return S(v,la.EventType.OPEN,()=>{g||(ge(Yt,`RPC '${e}' stream ${u} transport opened.`),E.So())}),S(v,la.EventType.CLOSE,()=>{g||(g=!0,ge(Yt,`RPC '${e}' stream ${u} transport closed`),E.Do())}),S(v,la.EventType.ERROR,I=>{g||(g=!0,Gu(Yt,`RPC '${e}' stream ${u} transport errored:`,I),E.Do(new ye(ne.UNAVAILABLE,"The operation could not be completed")))}),S(v,la.EventType.MESSAGE,I=>{var T;if(!g){const C=I.data[0];Ze(!!C);const D=C,A=(D==null?void 0:D.error)||((T=D[0])===null||T===void 0?void 0:T.error);if(A){ge(Yt,`RPC '${e}' stream ${u} received error:`,A);const R=A.status;let F=function(L){const U=St[L];if(U!==void 0)return O2(U)}(R),k=A.message;F===void 0&&(F=ne.INTERNAL,k="Unknown error status: "+R+" with message "+A.message),g=!0,E.Do(new ye(F,k)),v.close()}else ge(Yt,`RPC '${e}' stream ${u} received:`,C),E.vo(C)}}),S(f,o2.STAT_EVENT,I=>{I.stat===bp.PROXY?ge(Yt,`RPC '${e}' stream ${u} detected buffering proxy`):I.stat===bp.NOPROXY&&ge(Yt,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{E.bo()},0),E}}function bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n){return new AA(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t,i=1e3,u=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=u,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),u=Math.max(0,t-i);u>0&&ge("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,u,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,i,u,o,l,f,p){this.li=e,this.Yo=i,this.Zo=u,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new G2(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,u])=>{this.Xo===t&&this.I_(i,u)},i=>{e(()=>{const u=new ye(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(u)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(u=>{i(()=>this.d_(u))}),this.stream.onMessage(u=>{i(()=>++this.n_==1?this.A_(u):this.onNext(u))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b6 extends K2{constructor(e,t,i,u,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,u,l),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=PA(this.serializer,e),i=function(o){if(!("targetChange"in o))return De.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?Ir(l.readTime):De.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=kp(this.serializer),t.addTarget=function(o,l){let f;const p=l.target;if(f=Ip(p)?{documents:DA(o,p)}:{query:OA(o,p).ct},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=V2(o,l.resumeToken);const h=Rp(o,l.expectedCount);h!==null&&(f.expectedCount=h)}else if(l.snapshotVersion.compareTo(De.min())>0){f.readTime=Qc(o,l.snapshotVersion.toTimestamp());const h=Rp(o,l.expectedCount);h!==null&&(f.expectedCount=h)}return f}(this.serializer,e);const i=MA(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=kp(this.serializer),t.removeTarget=e,this.c_(t)}}class E6 extends K2{constructor(e,t,i,u,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,u,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=NA(e.writeResults,e.commitTime),i=Ir(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=kp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>kA(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6 extends class{}{constructor(e,t,i,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=u,this.S_=!1}b_(){if(this.S_)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,Cp(t,i),u,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(ne.UNKNOWN,o.toString())})}ko(e,t,i,u,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.ko(e,Cp(t,i),u,l,f,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ne.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class S6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ei(t),this.C_=!1):ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,t,i,u,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{i.enqueueAndForget(async()=>{zs(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(p){const h=Oe(p);h.k_.add(4),await Ua(h),h.K_.set("Unknown"),h.k_.delete(4),await vf(h)}(this))})}),this.K_=new S6(i,u)}}async function vf(n){if(zs(n))for(const e of n.q_)await e(!0)}async function Ua(n){for(const e of n.q_)await e(!1)}function Q2(n,e){const t=Oe(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),b0(t)?w0(t):lo(t).s_()&&v0(t,e))}function _0(n,e){const t=Oe(n),i=lo(t);t.L_.delete(e),i.s_()&&Y2(t,e),t.L_.size===0&&(i.s_()?i.a_():zs(t)&&t.K_.set("Unknown"))}function v0(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}lo(n).V_(e)}function Y2(n,e){n.U_.xe(e),lo(n).m_(e)}function w0(n){n.U_=new TA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),lo(n).start(),n.K_.F_()}function b0(n){return zs(n)&&!lo(n).i_()&&n.L_.size>0}function zs(n){return Oe(n).k_.size===0}function X2(n){n.U_=void 0}async function x6(n){n.K_.set("Online")}async function A6(n){n.L_.forEach((e,t)=>{v0(n,e)})}async function R6(n,e){X2(n),b0(n)?(n.K_.O_(e),w0(n)):n.K_.set("Unknown")}async function C6(n,e,t){if(n.K_.set("Online"),e instanceof M2&&e.state===2&&e.cause)try{await async function(u,o){const l=o.cause;for(const f of o.targetIds)u.L_.has(f)&&(await u.remoteSyncer.rejectListen(f,l),u.L_.delete(f),u.U_.removeTarget(f))}(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Xc(n,i)}else if(e instanceof Dc?n.U_.$e(e):e instanceof L2?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(De.min()))try{const i=await W2(n.localStore);t.compareTo(i)>=0&&await function(o,l){const f=o.U_.it(l);return f.targetChanges.forEach((p,h)=>{if(p.resumeToken.approximateByteSize()>0){const y=o.L_.get(h);y&&o.L_.set(h,y.withResumeToken(p.resumeToken,l))}}),f.targetMismatches.forEach((p,h)=>{const y=o.L_.get(p);if(!y)return;o.L_.set(p,y.withResumeToken(Ht.EMPTY_BYTE_STRING,y.snapshotVersion)),Y2(o,p);const v=new ji(y.target,p,h,y.sequenceNumber);v0(o,v)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await Xc(n,i)}}async function Xc(n,e,t){if(!oo(e))throw e;n.k_.add(1),await Ua(n),n.K_.set("Offline"),t||(t=()=>W2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await vf(n)})}function J2(n,e){return e().catch(t=>Xc(n,t,e))}async function wf(n){const e=Oe(n),t=Ji(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;P6(e);)try{const u=await h6(e.localStore,i);if(u===null){e.B_.length===0&&t.a_();break}i=u.batchId,k6(e,u)}catch(u){await Xc(e,u)}Z2(e)&&ew(e)}function P6(n){return zs(n)&&n.B_.length<10}function k6(n,e){n.B_.push(e);const t=Ji(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Z2(n){return zs(n)&&!Ji(n).i_()&&n.B_.length>0}function ew(n){Ji(n).start()}async function N6(n){Ji(n).w_()}async function D6(n){const e=Ji(n);for(const t of n.B_)e.g_(t.mutations)}async function O6(n,e,t){const i=n.B_.shift(),u=d0.from(i,e,t);await J2(n,()=>n.remoteSyncer.applySuccessfulWrite(u)),await wf(n)}async function L6(n,e){e&&Ji(n).f_&&await async function(i,u){if(function(l){return wA(l)&&l!==ne.ABORTED}(u.code)){const o=i.B_.shift();Ji(i).__(),await J2(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,u)),await wf(i)}}(n,e),Z2(n)&&ew(n)}async function g1(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=zs(t);t.k_.add(3),await Ua(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await vf(t)}async function M6(n,e){const t=Oe(n);e?(t.k_.delete(2),await vf(t)):e||(t.k_.add(2),await Ua(t),t.K_.set("Unknown"))}function lo(n){return n.W_||(n.W_=function(t,i,u){const o=Oe(t);return o.b_(),new b6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,u)}(n.datastore,n.asyncQueue,{Ro:x6.bind(null,n),mo:A6.bind(null,n),po:R6.bind(null,n),R_:C6.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),b0(n)?w0(n):n.K_.set("Unknown")):(await n.W_.stop(),X2(n))})),n.W_}function Ji(n){return n.G_||(n.G_=function(t,i,u){const o=Oe(t);return o.b_(),new E6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,u)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:N6.bind(null,n),po:L6.bind(null,n),p_:D6.bind(null,n),y_:O6.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await wf(n)):(await n.G_.stop(),n.B_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,t,i,u,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=u,this.removalCallback=o,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,u,o){const l=Date.now()+i,f=new E0(e,t,l,u,o);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T0(n,e){if(ei("AsyncQueue",`${e}: ${n}`),oo(n))return new ye(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{static emptySet(e){return new Hu(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=ca(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,o=i.getNext().key;if(!u.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Hu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.z_=new ht(Se.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):ke():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ju{constructor(e,t,i,u,o,l,f,p,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=u,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,u,o){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new Ju(e,t,Hu.emptySet(t),l,i,u,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==i[u].type||!t[u].doc.isEqual(i[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class U6{constructor(){this.queries=_1(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const u=Oe(t),o=u.queries;u.queries=_1(),o.forEach((l,f)=>{for(const p of f.J_)p.onError(i)})})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function _1(){return new qs(n=>E2(n),hf)}async function tw(n,e){const t=Oe(n);let i=3;const u=e.query;let o=t.queries.get(u);o?!o.Y_()&&e.Z_()&&(i=2):(o=new V6,i=e.Z_()?0:1);try{switch(i){case 0:o.H_=await t.onListen(u,!0);break;case 1:o.H_=await t.onListen(u,!1);break;case 2:await t.onFirstRemoteStoreListen(u)}}catch(l){const f=T0(l,`Initialization of query '${Vu(e.query)}' failed`);return void e.onError(f)}t.queries.set(u,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&S0(t)}async function nw(n,e){const t=Oe(n),i=e.query;let u=3;const o=t.queries.get(i);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?u=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(u=2))}switch(u){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function j6(n,e){const t=Oe(n);let i=!1;for(const u of e){const o=u.query,l=t.queries.get(o);if(l){for(const f of l.J_)f.ta(u)&&(i=!0);l.H_=u}}i&&S0(t)}function F6(n,e,t){const i=Oe(n),u=i.queries.get(e);if(u)for(const o of u.J_)o.onError(t);i.queries.delete(e)}function S0(n){n.X_.forEach(e=>{e.next()})}var Dp,v1;(v1=Dp||(Dp={})).na="default",v1.Cache="cache";class rw{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const u of e.docChanges)u.type!==3&&i.push(u);e=new Ju(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.key=e}}class sw{constructor(e){this.key=e}}class B6{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=qe(),this.mutatedKeys=qe(),this.Va=T2(e),this.ma=new Hu(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new y1,u=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=u,f=!1;const p=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,h=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((y,v)=>{const m=u.get(y),g=pf(this.query,v)?v:null,E=!!m&&this.mutatedKeys.has(m.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;m&&g?m.data.isEqual(g.data)?E!==S&&(i.track({type:3,doc:g}),I=!0):this.ya(m,g)||(i.track({type:2,doc:g}),I=!0,(p&&this.Va(g,p)>0||h&&this.Va(g,h)<0)&&(f=!0)):!m&&g?(i.track({type:0,doc:g}),I=!0):m&&!g&&(i.track({type:1,doc:m}),I=!0,(p||h)&&(f=!0)),I&&(g?(l=l.add(g),o=S?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{ma:l,pa:i,ss:f,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,u){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((y,v)=>function(g,E){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return S(g)-S(E)}(y.type,v.type)||this.Va(y.doc,v.doc)),this.wa(i),u=u!=null&&u;const f=t&&!u?this.Sa():[],p=this.Ra.size===0&&this.current&&!u?1:0,h=p!==this.Aa;return this.Aa=p,l.length!==0||h?{snapshot:new Ju(this.query,e.ma,o,l,e.mutatedKeys,p===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new y1,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=qe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new sw(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new iw(i))}),t}va(e){this.Ea=e.Es,this.Ra=qe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Ju.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class q6{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class z6{constructor(e){this.key=e,this.Fa=!1}}class H6{constructor(e,t,i,u,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=u,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new qs(f=>E2(f),hf),this.Oa=new Map,this.Na=new Set,this.Ba=new ht(Se.comparator),this.La=new Map,this.ka=new m0,this.qa={},this.Qa=new Map,this.Ka=Xu.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function $6(n,e,t=!0){const i=fw(n);let u;const o=i.xa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),u=o.view.Ca()):u=await uw(i,e,t,!0),u}async function W6(n,e){const t=fw(n);await uw(t,e,!0,!1)}async function uw(n,e,t,i){const u=await p6(n.localStore,Sr(e)),o=u.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let f;return i&&(f=await G6(n,e,o,l==="current",u.resumeToken)),n.isPrimaryClient&&t&&Q2(n.remoteStore,u),f}async function G6(n,e,t,i,u){n.Ua=(v,m,g)=>async function(S,I,T,C){let D=I.view.ga(T);D.ss&&(D=await h1(S.localStore,I.query,!1).then(({documents:k})=>I.view.ga(k,D)));const A=C&&C.targetChanges.get(I.targetId),R=C&&C.targetMismatches.get(I.targetId)!=null,F=I.view.applyChanges(D,S.isPrimaryClient,A,R);return b1(S,I.targetId,F.ba),F.snapshot}(n,v,m,g);const o=await h1(n.localStore,e,!0),l=new B6(e,o.Es),f=l.ga(o.documents),p=Va.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",u),h=l.applyChanges(f,n.isPrimaryClient,p);b1(n,t,h.ba);const y=new q6(e,t,l);return n.xa.set(e,y),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),h.snapshot}async function K6(n,e,t){const i=Oe(n),u=i.xa.get(e),o=i.Oa.get(u.targetId);if(o.length>1)return i.Oa.set(u.targetId,o.filter(l=>!hf(l,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(u.targetId),i.sharedClientState.isActiveQueryTarget(u.targetId)||await Np(i.localStore,u.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(u.targetId),t&&_0(i.remoteStore,u.targetId),Op(i,u.targetId)}).catch(uo)):(Op(i,u.targetId),await Np(i.localStore,u.targetId,!0))}async function Q6(n,e){const t=Oe(n),i=t.xa.get(e),u=t.Oa.get(i.targetId);t.isPrimaryClient&&u.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),_0(t.remoteStore,i.targetId))}async function Y6(n,e,t){const i=rR(n);try{const u=await function(l,f){const p=Oe(l),h=xt.now(),y=f.reduce((g,E)=>g.add(E.key),qe());let v,m;return p.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=ti(),S=qe();return p.hs.getEntries(g,y).next(I=>{E=I,E.forEach((T,C)=>{C.isValidDocument()||(S=S.add(T))})}).next(()=>p.localDocuments.getOverlayedDocuments(g,E)).next(I=>{v=I;const T=[];for(const C of f){const D=mA(C,v.get(C.key).overlayedDocument);D!=null&&T.push(new ns(C.key,D,p2(D.value.mapValue),er.exists(!0)))}return p.mutationQueue.addMutationBatch(g,h,T,f)}).next(I=>{m=I;const T=I.applyToLocalDocumentSet(v,S);return p.documentOverlayCache.saveOverlays(g,I.batchId,T)})}).then(()=>({batchId:m.batchId,changes:I2(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(u.batchId),function(l,f,p){let h=l.qa[l.currentUser.toKey()];h||(h=new ht($e)),h=h.insert(f,p),l.qa[l.currentUser.toKey()]=h}(i,u.batchId,t),await ja(i,u.changes),await wf(i.remoteStore)}catch(u){const o=T0(u,"Failed to persist write");t.reject(o)}}async function ow(n,e){const t=Oe(n);try{const i=await f6(t.localStore,e);e.targetChanges.forEach((u,o)=>{const l=t.La.get(o);l&&(Ze(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.Fa=!0:u.modifiedDocuments.size>0?Ze(l.Fa):u.removedDocuments.size>0&&(Ze(l.Fa),l.Fa=!1))}),await ja(t,i,e)}catch(i){await uo(i)}}function w1(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const u=[];i.xa.forEach((o,l)=>{const f=l.view.ea(e);f.snapshot&&u.push(f.snapshot)}),function(l,f){const p=Oe(l);p.onlineState=f;let h=!1;p.queries.forEach((y,v)=>{for(const m of v.J_)m.ea(f)&&(h=!0)}),h&&S0(p)}(i.eventManager,e),u.length&&i.Ma.R_(u),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function X6(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const u=i.La.get(e),o=u&&u.key;if(o){let l=new ht(Se.comparator);l=l.insert(o,Jt.newNoDocument(o,De.min()));const f=qe().add(o),p=new yf(De.min(),new Map,new ht($e),l,f);await ow(i,p),i.Ba=i.Ba.remove(o),i.La.delete(e),I0(i)}else await Np(i.localStore,e,!1).then(()=>Op(i,e,t)).catch(uo)}async function J6(n,e){const t=Oe(n),i=e.batch.batchId;try{const u=await c6(t.localStore,e);lw(t,i,null),aw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ja(t,u)}catch(u){await uo(u)}}async function Z6(n,e,t){const i=Oe(n);try{const u=await function(l,f){const p=Oe(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let y;return p.mutationQueue.lookupMutationBatch(h,f).next(v=>(Ze(v!==null),y=v.keys(),p.mutationQueue.removeMutationBatch(h,v))).next(()=>p.mutationQueue.performConsistencyCheck(h)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(h,y,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,y)).next(()=>p.localDocuments.getDocuments(h,y))})}(i.localStore,e);lw(i,e,t),aw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ja(i,u)}catch(u){await uo(u)}}function aw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function lw(n,e,t){const i=Oe(n);let u=i.qa[i.currentUser.toKey()];if(u){const o=u.get(e);o&&(t?o.reject(t):o.resolve(),u=u.remove(e)),i.qa[i.currentUser.toKey()]=u}}function Op(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||cw(n,i)})}function cw(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(_0(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),I0(n))}function b1(n,e,t){for(const i of t)i instanceof iw?(n.ka.addReference(i.key,e),eR(n,i)):i instanceof sw?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||cw(n,i.key)):ke()}function eR(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.Na.add(i),I0(n))}function I0(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Se(ut.fromString(e)),i=n.Ka.next();n.La.set(i,new z6(t)),n.Ba=n.Ba.insert(t,i),Q2(n.remoteStore,new ji(Sr(df(t.path)),i,"TargetPurposeLimboResolution",lf.oe))}}async function ja(n,e,t){const i=Oe(n),u=[],o=[],l=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{l.push(i.Ua(p,e,t).then(h=>{var y;if((h||t)&&i.isPrimaryClient){const v=h?!h.fromCache:(y=t==null?void 0:t.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(h){u.push(h);const v=y0.zi(p.targetId,h);o.push(v)}}))}),await Promise.all(l),i.Ma.R_(u),await async function(p,h){const y=Oe(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>te.forEach(h,m=>te.forEach(m.Wi,g=>y.persistence.referenceDelegate.addReference(v,m.targetId,g)).next(()=>te.forEach(m.Gi,g=>y.persistence.referenceDelegate.removeReference(v,m.targetId,g)))))}catch(v){if(!oo(v))throw v;ge("LocalStore","Failed to update sequence numbers: "+v)}for(const v of h){const m=v.targetId;if(!v.fromCache){const g=y.us.get(m),E=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(E);y.us=y.us.insert(m,S)}}}(i.localStore,o))}async function tR(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await $2(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ye(ne.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ja(t,i.Ts)}}function nR(n,e){const t=Oe(n),i=t.La.get(e);if(i&&i.Fa)return qe().add(i.key);{let u=qe();const o=t.Oa.get(e);if(!o)return u;for(const l of o){const f=t.xa.get(l);u=u.unionWith(f.view.fa)}return u}}function fw(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X6.bind(null,e),e.Ma.R_=j6.bind(null,e.eventManager),e.Ma.Wa=F6.bind(null,e.eventManager),e}function rR(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z6.bind(null,e),e}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return l6(this.persistence,new o6,e.initialUser,this.serializer)}ja(e){return new H2(g0.ei,this.serializer)}za(e){return new g6}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class iR extends Jc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ze(this.persistence.referenceDelegate instanceof Yc);const i=this.persistence.referenceDelegate.garbageCollector;return new WA(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new H2(i=>Yc.ei(i,t),this.serializer)}}class Lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>w1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=tR.bind(null,this.syncEngine),await M6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U6}()}createDatastore(e){const t=_f(e.databaseInfo.databaseId),i=function(o){return new w6(o)}(e.databaseInfo);return function(o,l,f,p){return new T6(o,l,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,u,o,l,f){return new I6(i,u,o,l,f)}(this.localStore,this.datastore,e.asyncQueue,t=>w1(this.syncEngine,t,0),function(){return m1.p()?new m1:new y6}())}createSyncEngine(e,t){return function(u,o,l,f,p,h,y){const v=new H6(u,o,l,f,p,h);return y&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(u){const o=Oe(u);ge("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Ua(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Lp.provider={build:()=>new Lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t,i,u,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=u,this.user=Xt.UNAUTHENTICATED,this.clientId=f2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{ge("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(ge("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=T0(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Eh(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async u=>{i.isEqual(u)||(await $2(e.localStore,u),i=u)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function E1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await uR(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>g1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>g1(e.remoteStore,u)),n._onlineComponents=e}async function uR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Eh(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(u){return u.name==="FirebaseError"?u.code===ne.FAILED_PRECONDITION||u.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(t))throw t;Gu("Error using user provided cache. Falling back to memory cache: "+t),await Eh(n,new Jc)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Eh(n,new iR(void 0));return n._offlineComponents}async function hw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await E1(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await E1(n,new Lp))),n._onlineComponents}function oR(n){return hw(n).then(e=>e.syncEngine)}async function Mp(n){const e=await hw(n),t=e.eventManager;return t.onListen=$6.bind(null,e.syncEngine),t.onUnlisten=K6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=W6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Q6.bind(null,e.syncEngine),t}function aR(n,e,t={}){const i=new Hi;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,f,p,h){const y=new dw({next:m=>{y.eu(),l.enqueueAndForget(()=>nw(o,v));const g=m.docs.has(f);!g&&m.fromCache?h.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&p&&p.source==="server"?h.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),v=new rw(df(f.path),y,{includeMetadataChanges:!0,ua:!0});return tw(o,v)}(await Mp(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n,e,t){if(!t)throw new ye(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lR(n,e,t,i){if(e===!0&&i===!0)throw new ye(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function S1(n){if(!Se.isDocumentKey(n))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function I1(n){if(Se.isDocumentKey(n))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function xr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bf(n);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,u){return i.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,t,i,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ex;switch(i.type){case"firstParty":return new xx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=T1.get(t);i&&(ge("ComponentProvider","Removing Datastore"),T1.delete(t),i.terminate())}(this),Promise.resolve()}}function cR(n,e,t,i={}){var u;const o=(n=xr(n,Ef))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Xt.MOCK_USER;else{f=OT(i.mockUserToken,(u=n._app)===null||u===void 0?void 0:u.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xt(h)}n._authCredentials=new Tx(new c2(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hs(this.firestore,e,this._query)}}class sn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class $i extends Hs{constructor(e,t,i){super(e,t,df(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Se(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function gw(n,e,...t){if(n=At(n),mw("collection","path",e),n instanceof Ef){const i=ut.fromString(e,...t);return I1(i),new $i(n,null,i)}{if(!(n instanceof sn||n instanceof $i))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(e,...t));return I1(i),new $i(n.firestore,null,i)}}function Tf(n,e,...t){if(n=At(n),arguments.length===1&&(e=f2.newId()),mw("doc","path",e),n instanceof Ef){const i=ut.fromString(e,...t);return S1(i),new sn(n,null,new Se(i))}{if(!(n instanceof sn||n instanceof $i))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(e,...t));return S1(i),new sn(n.firestore,n instanceof $i?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new G2(this,"async_queue_retry"),this.fu=()=>{const i=bh();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=bh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=bh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Hi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!oo(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const u=function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),f}(i);throw ei("INTERNAL UNHANDLED ERROR: ",u),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const u=E0.createAndSchedule(this,e,t,i,o=>this.Su(o));return this.Eu.push(u),u}pu(){this.Au&&ke()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function R1(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const u=t;for(const o of i)if(o in u&&typeof u[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Fs extends Ef{constructor(e,t,i,u){super(e,t,i,u),this.type="firestore",this._queue=new A1,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A1(e),this._firestoreClient=void 0,await e}}}function fR(n,e){const t=typeof n=="object"?n:wv(),i=typeof n=="string"?n:"(default)",u=Qp(t,"firestore").getImmediate({identifier:i});if(!u._initialized){const o=NT("firestore");o&&cR(u,...o)}return u}function x0(n){if(n._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dR(n),n._firestoreClient}function dR(n){var e,t,i;const u=n._freezeSettings(),o=function(f,p,h,y){return new Bx(f,p,h,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,pw(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,u);n._componentsProvider||!((t=u.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=u.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),n._firestoreClient=new sR(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zu(Ht.fromBase64String(e))}catch(t){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zu(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,u){if(i.length!==u.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==u[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=/^__.*__$/;class pR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ma(e,this.data,t,this.fieldTransforms)}}class yw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _w(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class P0{constructor(e,t,i,u,o,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=u,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new P0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),u=this.xu({path:i,Nu:!1});return u.Bu(e),u}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),u=this.xu({path:i,Nu:!1});return u.Fu(),u}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Zc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(_w(this.Mu)&&hR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class mR{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||_f(e)}$u(e,t,i,u=!1){return new P0({Mu:e,methodName:t,Ku:i,path:zt.emptyPath(),Nu:!1,Qu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k0(n){const e=n._freezeSettings(),t=_f(n._databaseId);return new mR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gR(n,e,t,i,u,o={}){const l=n.$u(o.merge||o.mergeFields?2:0,e,t,u);N0("Data must be an object, but it was:",l,i);const f=vw(i,l);let p,h;if(o.merge)p=new Sn(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const m=Vp(e,v,t);if(!l.contains(m))throw new ye(ne.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);bw(y,m)||y.push(m)}p=new Sn(y),h=l.fieldTransforms.filter(v=>p.covers(v.field))}else p=null,h=l.fieldTransforms;return new pR(new mn(f),p,h)}class If extends A0{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof If}}function yR(n,e,t,i){const u=n.$u(1,e,t);N0("Data must be an object, but it was:",u,i);const o=[],l=mn.empty();ts(i,(p,h)=>{const y=D0(e,p,t);h=At(h);const v=u.Lu(y);if(h instanceof If)o.push(y);else{const m=Fa(h,v);m!=null&&(o.push(y),l.set(y,m))}});const f=new Sn(o);return new yw(l,f,u.fieldTransforms)}function _R(n,e,t,i,u,o){const l=n.$u(1,e,t),f=[Vp(e,i,t)],p=[u];if(o.length%2!=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)f.push(Vp(e,o[m])),p.push(o[m+1]);const h=[],y=mn.empty();for(let m=f.length-1;m>=0;--m)if(!bw(h,f[m])){const g=f[m];let E=p[m];E=At(E);const S=l.Lu(g);if(E instanceof If)h.push(g);else{const I=Fa(E,S);I!=null&&(h.push(g),y.set(g,I))}}const v=new Sn(h);return new yw(y,v,l.fieldTransforms)}function vR(n,e,t,i=!1){return Fa(t,n.$u(i?4:3,e))}function Fa(n,e){if(ww(n=At(n)))return N0("Unsupported field value:",e,n),vw(n,e);if(n instanceof A0)return function(i,u){if(!_w(u.Mu))throw u.qu(`${i._methodName}() can only be used with update() and set()`);if(!u.path)throw u.qu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(u);o&&u.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,u){const o=[];let l=0;for(const f of i){let p=Fa(f,u.ku(l));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),l++}return{arrayValue:{values:o}}}(n,e)}return function(i,u){if((i=At(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return lA(u.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=xt.fromDate(i);return{timestampValue:Qc(u.serializer,o)}}if(i instanceof xt){const o=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qc(u.serializer,o)}}if(i instanceof R0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zu)return{bytesValue:V2(u.serializer,i._byteString)};if(i instanceof sn){const o=u.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw u.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:p0(i.firestore._databaseId||u.databaseId,i._key.path)}}if(i instanceof C0)return function(l,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return c0(f.serializer,p)})}}}}}}(i,u);throw u.qu(`Unsupported field value: ${bf(i)}`)}(n,e)}function vw(n,e){const t={};return d2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(n,(i,u)=>{const o=Fa(u,e.Ou(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function ww(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof R0||n instanceof Zu||n instanceof sn||n instanceof A0||n instanceof C0)}function N0(n,e,t){if(!ww(t)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(t)){const i=bf(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Vp(n,e,t){if((e=At(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return D0(n,e);throw Zc("Field path arguments must be of type string or ",n,!1,void 0,t)}const wR=new RegExp("[~\\*/\\[\\]]");function D0(n,e,t){if(e.search(wR)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sf(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zc(n,e,t,i,u){const o=i&&!i.isEmpty(),l=u!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(o||l)&&(p+=" (found",o&&(p+=` in field ${i}`),l&&(p+=` in document ${u}`),p+=")"),new ye(ne.INVALID_ARGUMENT,f+n+p)}function bw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t,i,u,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=u,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bR extends Ew{data(){return super.data()}}function xf(n,e){return typeof e=="string"?D0(n,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O0{}class Tw extends O0{}function Th(n,e,...t){let i=[];e instanceof O0&&i.push(e),i=i.concat(t),function(o){const l=o.filter(p=>p instanceof L0).length,f=o.filter(p=>p instanceof Af).length;if(l>1||l>0&&f>0)throw new ye(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const u of i)n=u._apply(n);return n}class Af extends Tw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Af(e,t,i)}_apply(e){const t=this._parse(e);return Sw(e._query,t),new Hs(e.firestore,e.converter,xp(e._query,t))}_parse(e){const t=k0(e.firestore);return function(o,l,f,p,h,y,v){let m;if(h.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){k1(v,y);const g=[];for(const E of v)g.push(P1(p,o,E));m={arrayValue:{values:g}}}else m=P1(p,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||k1(v,y),m=vR(f,l,v,y==="in"||y==="not-in");return It.create(h,y,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function C1(n,e,t){const i=e,u=xf("where",n);return Af._create(u,i,t)}class L0 extends O0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new L0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:rr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(u,o){let l=u;const f=o.getFlattenedFilters();for(const p of f)Sw(l,p),l=xp(l,p)}(e._query,t),new Hs(e.firestore,e.converter,xp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class M0 extends Tw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new M0(e,t)}_apply(e){const t=function(u,o,l){if(u.startAt!==null)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sa(o,l)}(e._query,this._field,this._direction);return new Hs(e.firestore,e.converter,function(u,o){const l=u.explicitOrderBy.concat([o]);return new ao(u.path,u.collectionGroup,l,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,t))}}function Sh(n,e="asc"){const t=e,i=xf("orderBy",n);return M0._create(i,t)}function P1(n,e,t){if(typeof(t=At(t))=="string"){if(t==="")throw new ye(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b2(e)&&t.indexOf("/")!==-1)throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ut.fromString(t));if(!Se.isDocumentKey(i))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Qy(n,new Se(i))}if(t instanceof sn)return Qy(n,t._key);throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bf(t)}.`)}function k1(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sw(n,e){const t=function(u,o){for(const l of u)for(const f of l.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class TR{convertValue(e,t="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ts(e,(u,o)=>{i[u]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,u;const o=(u=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||u===void 0?void 0:u.map(l=>bt(l.doubleValue));return new C0(o)}convertGeoPoint(e){return new R0(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ff(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ba(e));default:return null}}convertTimestamp(e){const t=Qi(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ut.fromString(e);Ze(z2(i));const u=new Ea(i.get(1),i.get(3)),o=new Se(i.popFirst(5));return u.isEqual(t)||ei(`Document ${o} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Iw extends Ew{constructor(e,t,i,u,o,l){super(e,t,i,u,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(xf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Oc extends Iw{data(e={}){return super.data(e)}}class IR{constructor(e,t,i,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new da(u.hasPendingWrites,u.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Oc(this._firestore,this._userDataWriter,i.key,i,new da(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(u,o){if(u._snapshot.oldDocs.isEmpty()){let l=0;return u._snapshot.docChanges.map(f=>{const p=new Oc(u._firestore,u._userDataWriter,f.doc.key,f.doc,new da(u._snapshot.mutatedKeys.has(f.doc.key),u._snapshot.fromCache),u.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:l++}})}{let l=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const p=new Oc(u._firestore,u._userDataWriter,f.doc.key,f.doc,new da(u._snapshot.mutatedKeys.has(f.doc.key),u._snapshot.fromCache),u.query.converter);let h=-1,y=-1;return f.type!==0&&(h=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),f.type!==1&&(l=l.add(f.doc),y=l.indexOf(f.doc.key)),{type:xR(f.type),doc:p,oldIndex:h,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n){n=xr(n,sn);const e=xr(n.firestore,Fs);return aR(x0(e),n._key).then(t=>Aw(e,n,t))}class xw extends TR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,t)}}function RR(n,e,t,...i){n=xr(n,sn);const u=xr(n.firestore,Fs),o=k0(u);let l;return l=typeof(e=At(e))=="string"||e instanceof Sf?_R(o,"updateDoc",n._key,e,t,i):yR(o,"updateDoc",n._key,e),V0(u,[l.toMutation(n._key,er.exists(!0))])}function CR(n){return V0(xr(n.firestore,Fs),[new f0(n._key,er.none())])}function PR(n,e){const t=xr(n.firestore,Fs),i=Tf(n),u=SR(n.converter,e);return V0(t,[gR(k0(n.firestore),"addDoc",i._key,u,n.converter!==null,{}).toMutation(i._key,er.exists(!1))]).then(()=>i)}function kR(n,...e){var t,i,u;n=At(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||R1(e[l])||(o=e[l],l++);const f={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(R1(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[l+2]=(u=v.complete)===null||u===void 0?void 0:u.bind(v)}let p,h,y;if(n instanceof sn)h=xr(n.firestore,Fs),y=df(n._key.path),p={next:v=>{e[l]&&e[l](Aw(h,n,v))},error:e[l+1],complete:e[l+2]};else{const v=xr(n,Hs);h=xr(v.firestore,Fs),y=v._query;const m=new xw(h);p={next:g=>{e[l]&&e[l](new IR(h,m,v,g))},error:e[l+1],complete:e[l+2]},ER(n._query)}return function(m,g,E,S){const I=new dw(S),T=new rw(g,I,E);return m.asyncQueue.enqueueAndForget(async()=>tw(await Mp(m),T)),()=>{I.eu(),m.asyncQueue.enqueueAndForget(async()=>nw(await Mp(m),T))}}(x0(h),y,f,p)}function V0(n,e){return function(i,u){const o=new Hi;return i.asyncQueue.enqueueAndForget(async()=>Y6(await oR(i),u,o)),o.promise}(x0(n),e)}function Aw(n,e,t){const i=t.docs.get(e._key),u=new xw(n);return new Iw(n,u,e._key,i,new da(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(u){so=u})(ro),$u(new Ms("firestore",(i,{instanceIdentifier:u,options:o})=>{const l=i.getProvider("app").getImmediate(),f=new Fs(new Sx(i.getProvider("auth-internal")),new Rx(i.getProvider("app-check-internal")),function(h,y){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ea(h.options.projectId,y)}(l,u),l);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),qi(zy,"4.7.6",e),qi(zy,"4.7.6","esm2017")})();const NR={apiKey:"AIzaSyAx92MQLbhKhQTGmmilb0gZHp5HO0ZQev8",authDomain:"firstblog-57038.firebaseapp.com",projectId:"firstblog-57038",storageBucket:"firstblog-57038.firebasestorage.app",messagingSenderId:"983080249254",appId:"1:983080249254:web:e0b54516cb50bbbc2ed167"},Rw=vv(NR),Ba=fR(Rw),qa=()=>{const[n,e]=W.useState(null),[t,i]=W.useState(null),[u,o]=W.useState(!1),l=_x(Rw),f=async y=>{i(!0),e(null);try{const{user:v}=await eI(l,y.email,y.password);return await rI(v,{displayName:y.displayName}),i(!1),v}catch(v){console.log(v.message);let m;v.message.includes("password")?m="A senha precisa conter pelo menos 6 caracteres.":v.message.includes("email-already")?m="E-mail j cadastrado para um usurio":m="Ocorreu um erro no sistema. Favor tentar mais tarde.",e(m),i(!1)}},p=()=>{oI(l)},h=async y=>{i(!0),e(!1);let v;try{await tI(l,y.email,y.password),i(!1)}catch(m){console.log(m.message),m.message.includes("user-not-found")?v="User not found":m.message.includes("wrong-password")?v="Wrong Password":v="Ocurred an error, please try again later."}e(v),i(!1)};return W.useEffect(()=>()=>o(!0),[]),{auth:l,createUser:f,error:n,loading:t,logout:p,login:h}},Cw=W.createContext();function DR({children:n,value:e}){return q.jsx(Cw.Provider,{value:e,children:n})}function za(){return W.useContext(Cw)}const OR="_home_s1i7i_1",LR="_subtitle_s1i7i_15",MR="_search_form_s1i7i_23",VR="_allPosts_s1i7i_39",UR="_post_list_s1i7i_47",jR="_noposts_s1i7i_75",FR="_h1_s1i7i_101",Ou={home:OR,subtitle:LR,search_form:MR,allPosts:VR,post_list:UR,noposts:jR,h1:FR},U0=(n,e=null,t=null)=>{const[i,u]=W.useState(null),[o,l]=W.useState(null),[f,p]=W.useState(null),[h,y]=W.useState(!1);return W.useEffect(()=>{async function v(){if(h)return;p(!0);const m=await gw(Ba,n);try{let g;e?(g=await Th(m,C1("tagsArray","array-contains",e),Sh("createdAt","desc")),console.log("SEARCH _________")):t?(g=await Th(m,C1("uid","==",t),Sh("createdAt","desc")),console.log("ELSE IF _________")):(g=Th(m,Sh("createdAt","desc")),console.log("ELSE___________-")),console.log("QUERY",g),kR(g,E=>{u(E.docs.map(S=>({id:S.id,...S.data()}))),console.log("FETCHED DATA",i)}),p(!1)}catch(g){console.log("ERROR FETCH",g),l(g.message),p(!1)}}return v(),()=>{y(!0)}},[n,e,t,h]),{documents:i,loading:f,error:o}},BR="_post_detail_1jyqm_1",qR="_reviewPreview_1jyqm_49",zR="_row_1jyqm_71",HR="_tags_1jyqm_111",$R="_createdby_1jyqm_137",ia={post_detail:BR,reviewPreview:qR,row:zR,tags:HR,createdby:$R},WR=n=>{let e=n.replace(/<[^>]*>/g,"");return e=e.replace(/&nbsp;/g," ").replace(/&amp;/g,"&"),e},Pw=({post:n})=>{const e=WR(n.body);return q.jsxs("div",{className:ia.post_detail,children:[q.jsx("h2",{children:n.bookTitle}),q.jsx("h3",{children:n.author}),q.jsxs("div",{className:ia.row,children:[q.jsx("img",{src:n.image,alt:n.tile}),q.jsxs("p",{className:ia.reviewPreview,children:[" ",e]})]}),q.jsx("p",{className:ia.createdby,children:n.createdBy}),q.jsx("div",{className:ia.tags,children:n.tagsArray.map(t=>q.jsxs("p",{children:[q.jsx("span",{children:"#"}),t]},t))}),q.jsx(Gi,{to:`/posts/${n.id}`,className:"btn btn-outline",children:" Read the review"})]})},N1=()=>{const[n,e]=W.useState(""),{documents:t,loading:i}=U0("posts"),u=Ra(),{user:o}=za();console.log("USER DATA",o);const l=f=>{if(f.preventDefault(),n)return u(`/search?q=${n}`)};return q.jsxs("div",{className:Ou.home,children:[q.jsx("h1",{children:"Search by tags"}),q.jsx("p",{className:Ou.subtitle,children:"You can search by genres, tags"}),q.jsxs("form",{onSubmit:l,className:Ou.search_form,children:[q.jsx("input",{type:"text",placeholder:"search by tags",onChange:f=>e(f.target.value)}),q.jsx("button",{className:"btn btn-dark",children:"Search"})]}),q.jsx("h1",{children:"Our Latest Book Reviews"}),q.jsx("div",{className:Ou.allPosts,children:q.jsxs("div",{className:Ou.post_list,children:[console.log("POSTS",t),t&&t.map(f=>q.jsx(Pw,{post:f},f.id)),i&&q.jsx("p",{children:"Loading..."}),t&&t.length===0&&q.jsxs("div",{className:Ou.noposts,children:[q.jsx("p",{children:"No post found"}),q.jsx(Gi,{className:"btn",to:"/posts/create",children:"Create first post"})]})]})})]})},GR="_title_1yxzm_1",KR="_aboutBox_1yxzm_9",D1={title:GR,aboutBox:KR},QR=()=>q.jsxs("div",{className:D1.aboutBox,children:[q.jsx("h1",{className:D1.whiteText,children:"About"}),q.jsxs("p",{children:["This project is a blog built with ",q.jsx("b",{children:"React"})," on the front-end and ",q.jsx("b",{children:"Firebase"})]}),q.jsx("p",{children:"The 'Book Blog' is designed for creating and sharing book reviews. "}),q.jsx(Gi,{to:"/posts/create",className:"btn",children:"Create Post"})]}),YR="_login_1t7dh_1",XR={login:YR},JR=()=>{const[n,e]=W.useState(""),[t,i]=W.useState(""),[u,o]=W.useState(""),{createUser:l,error:f,loading:p,login:h}=qa(),y=async v=>{v.preventDefault(),o("");const m={email:n,password:t};await h(m),console.log(m)};return W.useEffect(()=>{f&&o(f)},[f]),q.jsx("div",{className:XR.login,children:q.jsxs("form",{onSubmit:y,children:[q.jsx("h1",{children:"Login"}),q.jsx("p",{children:"Login to you account to post your reads!"}),q.jsxs("label",{htmlFor:"",children:[q.jsx("span",{children:"E-mail:"}),q.jsx("input",{type:"email",name:"email",required:!0,placeholder:"E-mail",value:n,onChange:v=>e(v.target.value)})]}),q.jsxs("label",{htmlFor:"",children:[q.jsx("span",{children:"Senha:"}),q.jsx("input",{type:"password",name:"password",required:!0,placeholder:"Senha",value:t,onChange:v=>i(v.target.value)})]}),!p&&q.jsx("button",{className:"btn",children:"Login"}),p&&q.jsx("button",{className:"btn",disabled:!0,children:"Aguarde..."}),u&&q.jsx("p",{className:"error",children:u})]})})},ZR="_registerform_114fu_1",e4={registerform:ZR},t4=()=>{const[n,e]=W.useState(""),[t,i]=W.useState(""),[u,o]=W.useState(""),[l,f]=W.useState(""),[p,h]=W.useState(""),{createUser:y,error:v,loading:m}=qa(),g=async E=>{E.preventDefault(),h("");const S={displayName:n,email:t,password:u};if(u!==l){h("As senhas no so compatveis, favor verificar para criao da sua conta.");return}await y(S),console.log(S)};return W.useEffect(()=>{v&&h(v)},[v]),q.jsx("div",{className:e4.registerform,children:q.jsxs("form",{onSubmit:g,children:[q.jsx("h1",{children:"Cadastre-se"}),q.jsx("p",{children:"Crie sua conta para compartilhar suas leituras"}),q.jsxs("label",{htmlFor:"",children:[q.jsx("span",{children:"Nome:"}),q.jsx("input",{type:"text",name:"displayName",required:!0,placeholder:"Nome do usurio",value:n,onChange:E=>e(E.target.value)})]}),q.jsxs("label",{htmlFor:"",children:[q.jsx("span",{children:"E-mail:"}),q.jsx("input",{type:"email",name:"email",required:!0,placeholder:"E-mail",value:t,onChange:E=>i(E.target.value)})]}),q.jsxs("label",{htmlFor:"",children:[q.jsx("span",{children:"Senha:"}),q.jsx("input",{type:"password",name:"password",required:!0,placeholder:"Senha",value:u,onChange:E=>o(E.target.value)})]}),q.jsxs("label",{htmlFor:"",children:[q.jsx("span",{children:"Confirmao de senha:"}),q.jsx("input",{type:"password",name:"confirmPassword",required:!0,placeholder:"Confirme a sua senha",value:l,onChange:E=>f(E.target.value)})]}),!m&&q.jsx("button",{className:"btn",children:"Cadastre-se"}),m&&q.jsx("button",{className:"btn",disabled:!0,children:"Aguarde..."}),p&&q.jsx("p",{className:"error",children:p})]})})},n4="_myposts_4swu6_1",r4={myposts:n4},i4="_post_detail_91pfa_1",s4="_reviewPreview_91pfa_47",u4="_row_91pfa_69",o4="_tags_91pfa_105",a4="_createdby_91pfa_131",l4="_buttons_91pfa_145",Lu={post_detail:i4,reviewPreview:s4,row:u4,tags:o4,createdby:a4,buttons:l4},c4={loading:null,error:null},f4=(n,e)=>{switch(e.type){case"LOADING":return{loading:!0,error:null};case"DELETED_DOC":return{loading:!1,error:null};case"ERROR":return{loading:!1,error:e.payload};default:return n}},d4=n=>{const[e,t]=W.useReducer(f4,c4),[i,u]=W.useState(!1),o=f=>{i||t(f)},l=async f=>{o({type:"LOADING"});try{const p=await CR(Tf(Ba,n,f));o({type:"DELETED_DOC",payload:p})}catch(p){console.log("ERROR",p),o({type:"ERROR",payload:p.message})}};return W.useEffect(()=>()=>u(!0),[]),{deleteDocument:l,response:e}},h4=n=>{let e=n.replace(/<[^>]*>/g,"");return e=e.replace(/&nbsp;/g," ").replace(/&amp;/g,"&"),e},p4=({post:n})=>{const{deleteDocument:e}=d4("posts"),t=h4(n.body).slice(0,150);return q.jsxs("div",{className:Lu.post_detail,children:[q.jsx("h2",{children:n.bookTitle}),q.jsx("h3",{children:n.author}),q.jsxs("div",{className:Lu.row,children:[q.jsx("img",{src:n.image,alt:n.tile}),q.jsxs("p",{className:Lu.reviewPreview,children:[" ",t,"..."]})]}),q.jsx("p",{className:Lu.createdby,children:n.createdBy}),q.jsx("div",{className:Lu.tags,children:n.tagsArray.map(i=>q.jsxs("p",{children:[q.jsx("span",{children:"#"}),i]},i))}),q.jsxs("div",{className:Lu.buttons,children:[q.jsx(Gi,{to:`/posts/${n.id}`,className:"btn btn-outline-secondary",children:"  View"}),q.jsx(Gi,{to:`/posts/edit/${n.id}`,className:"btn btn-outline-secondary",children:" Edit"}),q.jsx("button",{onClick:()=>{e(n.id)},className:"btn btn-outline-secondary",children:"  Delete"})]})]})},O1=()=>{const{user:n}=za(),e=n.uid,{documents:t,loading:i}=U0("posts",null,e);return q.jsxs("div",{className:r4.myposts,children:[q.jsx("h1",{children:"My reads"}),t&&t.length===0&&q.jsxs("div",{children:[q.jsx("p",{children:"you don't have any book read yet "}),q.jsx(Gi,{className:"btn",to:"posts/create",children:"Create your first Book Review"}),q.jsx("p",{children:t.length}),q.jsx("p",{children:e})]}),t&&t.map(u=>q.jsx(p4,{post:u},u.id))]})},m4="_createPost_zfg8e_1",g4={createPost:m4},y4={loading:null,error:null},_4=(n,e)=>{switch(e.type){case"LOADING":return{loading:!0,error:null};case"INSERTED_DOC":return{loading:!1,error:null};case"ERROR":return{loading:!1,error:e.payload};default:return n}},v4=n=>{const[e,t]=W.useReducer(_4,y4),[i,u]=W.useState(!1),o=f=>{i||t(f)},l=async f=>{o({type:"LOADING"});try{console.log("try");const p={...f,createdAt:xt.now()},h=await PR(gw(Ba,n),p);o({type:"INSERTED_DOC",payload:h})}catch(p){console.log("ERROR",p),o({type:"ERROR",payload:p.message})}};return W.useEffect(()=>()=>u(!0),[]),{insertDocument:l,response:e}};var Xn={},Ih,L1;function w4(){return L1||(L1=1,Ih=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,u,o;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(u=i;u--!==0;)if(!n(e[u],t[u]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(t).length)return!1;for(u=i;u--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[u]))return!1;for(u=i;u--!==0;){var l=o[u];if(!n(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}),Ih}var xh={exports:{}},Ah,M1;function b4(){if(M1)return Ah;M1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ah=n,Ah}var Rh,V1;function E4(){if(V1)return Rh;V1=1;var n=b4();function e(){}function t(){}return t.resetWarningCache=e,Rh=function(){function i(l,f,p,h,y,v){if(v!==n){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}i.isRequired=i;function u(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:u,element:i,elementType:i,instanceOf:u,node:i,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Rh}var U1;function T4(){return U1||(U1=1,xh.exports=E4()()),xh.exports}var j1;function S4(){if(j1)return Xn;j1=1;var n=Xn.__extends||function(){var g=function(E,S){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,T){I.__proto__=T}||function(I,T){for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(I[C]=T[C])},g(E,S)};return function(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");g(E,S);function I(){this.constructor=E}E.prototype=S===null?Object.create(S):(I.prototype=S.prototype,new I)}}(),e=Xn.__assign||function(){return e=Object.assign||function(g){for(var E,S=1,I=arguments.length;S<I;S++){E=arguments[S];for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(g[T]=E[T])}return g},e.apply(this,arguments)},t=Xn.__createBinding||(Object.create?function(g,E,S,I){I===void 0&&(I=S);var T=Object.getOwnPropertyDescriptor(E,S);(!T||("get"in T?!E.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return E[S]}}),Object.defineProperty(g,I,T)}:function(g,E,S,I){I===void 0&&(I=S),g[I]=E[S]}),i=Xn.__setModuleDefault||(Object.create?function(g,E){Object.defineProperty(g,"default",{enumerable:!0,value:E})}:function(g,E){g.default=E}),u=Xn.__importStar||function(g){if(g&&g.__esModule)return g;var E={};if(g!=null)for(var S in g)S!=="default"&&Object.prototype.hasOwnProperty.call(g,S)&&t(E,g,S);return i(E,g),E},o=Xn.__rest||function(g,E){var S={};for(var I in g)Object.prototype.hasOwnProperty.call(g,I)&&E.indexOf(I)<0&&(S[I]=g[I]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,I=Object.getOwnPropertySymbols(g);T<I.length;T++)E.indexOf(I[T])<0&&Object.prototype.propertyIsEnumerable.call(g,I[T])&&(S[I[T]]=g[I[T]]);return S},l=Xn.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Xn,"__esModule",{value:!0});var f=u(tf()),p=l(w4()),h=u(T4());function y(g){return g&&g.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>")}function v(g){var E=document.createTextNode("");g.appendChild(E);var S=document.activeElement===g;if(E!==null&&E.nodeValue!==null&&S){var I=window.getSelection();if(I!==null){var T=document.createRange();T.setStart(E,E.nodeValue.length),T.collapse(!0),I.removeAllRanges(),I.addRange(T)}g instanceof HTMLElement&&g.focus()}}var m=function(g){n(E,g);function E(){var S=g!==null&&g.apply(this,arguments)||this;return S.lastHtml=S.props.html,S.el=typeof S.props.innerRef=="function"?{current:null}:f.createRef(),S.getEl=function(){return(S.props.innerRef&&typeof S.props.innerRef!="function"?S.props.innerRef:S.el).current},S.emitChange=function(I){var T=S.getEl();if(T){var C=T.innerHTML;if(S.props.onChange&&C!==S.lastHtml){var D=Object.assign({},I,{target:{value:C}});S.props.onChange(D)}S.lastHtml=C}},S}return E.prototype.render=function(){var S=this,I=this.props,T=I.tagName,C=I.html,D=I.innerRef,A=o(I,["tagName","html","innerRef"]);return f.createElement(T||"div",e(e({},A),{ref:typeof D=="function"?function(R){D(R),S.el.current=R}:D||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:C}}),this.props.children)},E.prototype.shouldComponentUpdate=function(S){var I=this.props,T=this.getEl();return!T||y(S.html)!==y(T.innerHTML)?!0:I.disabled!==S.disabled||I.tagName!==S.tagName||I.className!==S.className||I.innerRef!==S.innerRef||I.placeholder!==S.placeholder||!(0,p.default)(I.style,S.style)},E.prototype.componentDidUpdate=function(){var S=this.getEl();S&&(this.props.html!==S.innerHTML&&(S.innerHTML=this.props.html),this.lastHtml=this.props.html,v(S))},E.propTypes={html:h.string.isRequired,onChange:h.func,disabled:h.bool,tagName:h.string,className:h.string,style:h.object,innerRef:h.oneOfType([h.object,h.func])},E}(f.Component);return Xn.default=m,Xn}var I4=S4();const x4=jp(I4);var ks={},ki={},Ch={},Ns={},pc={},F1;function A4(){return F1||(F1=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(n){return n.charCodeAt(0)}))),pc}var mc={},B1;function R4(){return B1||(B1=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(n){return n.charCodeAt(0)}))),mc}var Ph={},q1;function z1(){return q1||(q1=1,function(n){var e;Object.defineProperty(n,"__esModule",{value:!0}),n.replaceCodePoint=n.fromCodePoint=void 0;var t=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);n.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(o){var l="";return o>65535&&(o-=65536,l+=String.fromCharCode(o>>>10&1023|55296),o=56320|o&1023),l+=String.fromCharCode(o),l};function i(o){var l;return o>=55296&&o<=57343||o>1114111?65533:(l=t.get(o))!==null&&l!==void 0?l:o}n.replaceCodePoint=i;function u(o){return(0,n.fromCodePoint)(i(o))}n.default=u}(Ph)),Ph}var H1;function ef(){return H1||(H1=1,function(n){var e=Ns.__createBinding||(Object.create?function(O,j,V,fe){fe===void 0&&(fe=V);var J=Object.getOwnPropertyDescriptor(j,V);(!J||("get"in J?!j.__esModule:J.writable||J.configurable))&&(J={enumerable:!0,get:function(){return j[V]}}),Object.defineProperty(O,fe,J)}:function(O,j,V,fe){fe===void 0&&(fe=V),O[fe]=j[V]}),t=Ns.__setModuleDefault||(Object.create?function(O,j){Object.defineProperty(O,"default",{enumerable:!0,value:j})}:function(O,j){O.default=j}),i=Ns.__importStar||function(O){if(O&&O.__esModule)return O;var j={};if(O!=null)for(var V in O)V!=="default"&&Object.prototype.hasOwnProperty.call(O,V)&&e(j,O,V);return t(j,O),j},u=Ns.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXML=n.decodeHTMLStrict=n.decodeHTMLAttribute=n.decodeHTML=n.determineBranch=n.EntityDecoder=n.DecodingMode=n.BinTrieFlags=n.fromCodePoint=n.replaceCodePoint=n.decodeCodePoint=n.xmlDecodeTree=n.htmlDecodeTree=void 0;var o=u(A4());n.htmlDecodeTree=o.default;var l=u(R4());n.xmlDecodeTree=l.default;var f=i(z1());n.decodeCodePoint=f.default;var p=z1();Object.defineProperty(n,"replaceCodePoint",{enumerable:!0,get:function(){return p.replaceCodePoint}}),Object.defineProperty(n,"fromCodePoint",{enumerable:!0,get:function(){return p.fromCodePoint}});var h;(function(O){O[O.NUM=35]="NUM",O[O.SEMI=59]="SEMI",O[O.EQUALS=61]="EQUALS",O[O.ZERO=48]="ZERO",O[O.NINE=57]="NINE",O[O.LOWER_A=97]="LOWER_A",O[O.LOWER_F=102]="LOWER_F",O[O.LOWER_X=120]="LOWER_X",O[O.LOWER_Z=122]="LOWER_Z",O[O.UPPER_A=65]="UPPER_A",O[O.UPPER_F=70]="UPPER_F",O[O.UPPER_Z=90]="UPPER_Z"})(h||(h={}));var y=32,v;(function(O){O[O.VALUE_LENGTH=49152]="VALUE_LENGTH",O[O.BRANCH_LENGTH=16256]="BRANCH_LENGTH",O[O.JUMP_TABLE=127]="JUMP_TABLE"})(v=n.BinTrieFlags||(n.BinTrieFlags={}));function m(O){return O>=h.ZERO&&O<=h.NINE}function g(O){return O>=h.UPPER_A&&O<=h.UPPER_F||O>=h.LOWER_A&&O<=h.LOWER_F}function E(O){return O>=h.UPPER_A&&O<=h.UPPER_Z||O>=h.LOWER_A&&O<=h.LOWER_Z||m(O)}function S(O){return O===h.EQUALS||E(O)}var I;(function(O){O[O.EntityStart=0]="EntityStart",O[O.NumericStart=1]="NumericStart",O[O.NumericDecimal=2]="NumericDecimal",O[O.NumericHex=3]="NumericHex",O[O.NamedEntity=4]="NamedEntity"})(I||(I={}));var T;(function(O){O[O.Legacy=0]="Legacy",O[O.Strict=1]="Strict",O[O.Attribute=2]="Attribute"})(T=n.DecodingMode||(n.DecodingMode={}));var C=function(){function O(j,V,fe){this.decodeTree=j,this.emitCodePoint=V,this.errors=fe,this.state=I.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=T.Strict}return O.prototype.startEntity=function(j){this.decodeMode=j,this.state=I.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},O.prototype.write=function(j,V){switch(this.state){case I.EntityStart:return j.charCodeAt(V)===h.NUM?(this.state=I.NumericStart,this.consumed+=1,this.stateNumericStart(j,V+1)):(this.state=I.NamedEntity,this.stateNamedEntity(j,V));case I.NumericStart:return this.stateNumericStart(j,V);case I.NumericDecimal:return this.stateNumericDecimal(j,V);case I.NumericHex:return this.stateNumericHex(j,V);case I.NamedEntity:return this.stateNamedEntity(j,V)}},O.prototype.stateNumericStart=function(j,V){return V>=j.length?-1:(j.charCodeAt(V)|y)===h.LOWER_X?(this.state=I.NumericHex,this.consumed+=1,this.stateNumericHex(j,V+1)):(this.state=I.NumericDecimal,this.stateNumericDecimal(j,V))},O.prototype.addToNumericResult=function(j,V,fe,J){if(V!==fe){var Te=fe-V;this.result=this.result*Math.pow(J,Te)+parseInt(j.substr(V,Te),J),this.consumed+=Te}},O.prototype.stateNumericHex=function(j,V){for(var fe=V;V<j.length;){var J=j.charCodeAt(V);if(m(J)||g(J))V+=1;else return this.addToNumericResult(j,fe,V,16),this.emitNumericEntity(J,3)}return this.addToNumericResult(j,fe,V,16),-1},O.prototype.stateNumericDecimal=function(j,V){for(var fe=V;V<j.length;){var J=j.charCodeAt(V);if(m(J))V+=1;else return this.addToNumericResult(j,fe,V,10),this.emitNumericEntity(J,2)}return this.addToNumericResult(j,fe,V,10),-1},O.prototype.emitNumericEntity=function(j,V){var fe;if(this.consumed<=V)return(fe=this.errors)===null||fe===void 0||fe.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(j===h.SEMI)this.consumed+=1;else if(this.decodeMode===T.Strict)return 0;return this.emitCodePoint((0,f.replaceCodePoint)(this.result),this.consumed),this.errors&&(j!==h.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},O.prototype.stateNamedEntity=function(j,V){for(var fe=this.decodeTree,J=fe[this.treeIndex],Te=(J&v.VALUE_LENGTH)>>14;V<j.length;V++,this.excess++){var we=j.charCodeAt(V);if(this.treeIndex=A(fe,J,this.treeIndex+Math.max(1,Te),we),this.treeIndex<0)return this.result===0||this.decodeMode===T.Attribute&&(Te===0||S(we))?0:this.emitNotTerminatedNamedEntity();if(J=fe[this.treeIndex],Te=(J&v.VALUE_LENGTH)>>14,Te!==0){if(we===h.SEMI)return this.emitNamedEntityData(this.treeIndex,Te,this.consumed+this.excess);this.decodeMode!==T.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},O.prototype.emitNotTerminatedNamedEntity=function(){var j,V=this,fe=V.result,J=V.decodeTree,Te=(J[fe]&v.VALUE_LENGTH)>>14;return this.emitNamedEntityData(fe,Te,this.consumed),(j=this.errors)===null||j===void 0||j.missingSemicolonAfterCharacterReference(),this.consumed},O.prototype.emitNamedEntityData=function(j,V,fe){var J=this.decodeTree;return this.emitCodePoint(V===1?J[j]&~v.VALUE_LENGTH:J[j+1],fe),V===3&&this.emitCodePoint(J[j+2],fe),fe},O.prototype.end=function(){var j;switch(this.state){case I.NamedEntity:return this.result!==0&&(this.decodeMode!==T.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case I.NumericDecimal:return this.emitNumericEntity(0,2);case I.NumericHex:return this.emitNumericEntity(0,3);case I.NumericStart:return(j=this.errors)===null||j===void 0||j.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case I.EntityStart:return 0}},O}();n.EntityDecoder=C;function D(O){var j="",V=new C(O,function(fe){return j+=(0,f.fromCodePoint)(fe)});return function(J,Te){for(var we=0,re=0;(re=J.indexOf("&",re))>=0;){j+=J.slice(we,re),V.startEntity(Te);var he=V.write(J,re+1);if(he<0){we=re+V.end();break}we=re+he,re=he===0?we+1:we}var le=j+J.slice(we);return j="",le}}function A(O,j,V,fe){var J=(j&v.BRANCH_LENGTH)>>7,Te=j&v.JUMP_TABLE;if(J===0)return Te!==0&&fe===Te?V:-1;if(Te){var we=fe-Te;return we<0||we>=J?-1:O[V+we]-1}for(var re=V,he=re+J-1;re<=he;){var le=re+he>>>1,$=O[le];if($<fe)re=le+1;else if($>fe)he=le-1;else return O[le+J]}return-1}n.determineBranch=A;var R=D(o.default),F=D(l.default);function k(O,j){return j===void 0&&(j=T.Legacy),R(O,j)}n.decodeHTML=k;function P(O){return R(O,T.Attribute)}n.decodeHTMLAttribute=P;function L(O){return R(O,T.Strict)}n.decodeHTMLStrict=L;function U(O){return F(O,T.Strict)}n.decodeXML=U}(Ns)),Ns}var $1;function kw(){return $1||($1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuoteType=void 0;var e=ef(),t;(function(m){m[m.Tab=9]="Tab",m[m.NewLine=10]="NewLine",m[m.FormFeed=12]="FormFeed",m[m.CarriageReturn=13]="CarriageReturn",m[m.Space=32]="Space",m[m.ExclamationMark=33]="ExclamationMark",m[m.Number=35]="Number",m[m.Amp=38]="Amp",m[m.SingleQuote=39]="SingleQuote",m[m.DoubleQuote=34]="DoubleQuote",m[m.Dash=45]="Dash",m[m.Slash=47]="Slash",m[m.Zero=48]="Zero",m[m.Nine=57]="Nine",m[m.Semi=59]="Semi",m[m.Lt=60]="Lt",m[m.Eq=61]="Eq",m[m.Gt=62]="Gt",m[m.Questionmark=63]="Questionmark",m[m.UpperA=65]="UpperA",m[m.LowerA=97]="LowerA",m[m.UpperF=70]="UpperF",m[m.LowerF=102]="LowerF",m[m.UpperZ=90]="UpperZ",m[m.LowerZ=122]="LowerZ",m[m.LowerX=120]="LowerX",m[m.OpeningSquareBracket=91]="OpeningSquareBracket"})(t||(t={}));var i;(function(m){m[m.Text=1]="Text",m[m.BeforeTagName=2]="BeforeTagName",m[m.InTagName=3]="InTagName",m[m.InSelfClosingTag=4]="InSelfClosingTag",m[m.BeforeClosingTagName=5]="BeforeClosingTagName",m[m.InClosingTagName=6]="InClosingTagName",m[m.AfterClosingTagName=7]="AfterClosingTagName",m[m.BeforeAttributeName=8]="BeforeAttributeName",m[m.InAttributeName=9]="InAttributeName",m[m.AfterAttributeName=10]="AfterAttributeName",m[m.BeforeAttributeValue=11]="BeforeAttributeValue",m[m.InAttributeValueDq=12]="InAttributeValueDq",m[m.InAttributeValueSq=13]="InAttributeValueSq",m[m.InAttributeValueNq=14]="InAttributeValueNq",m[m.BeforeDeclaration=15]="BeforeDeclaration",m[m.InDeclaration=16]="InDeclaration",m[m.InProcessingInstruction=17]="InProcessingInstruction",m[m.BeforeComment=18]="BeforeComment",m[m.CDATASequence=19]="CDATASequence",m[m.InSpecialComment=20]="InSpecialComment",m[m.InCommentLike=21]="InCommentLike",m[m.BeforeSpecialS=22]="BeforeSpecialS",m[m.SpecialStartSequence=23]="SpecialStartSequence",m[m.InSpecialTag=24]="InSpecialTag",m[m.BeforeEntity=25]="BeforeEntity",m[m.BeforeNumericEntity=26]="BeforeNumericEntity",m[m.InNamedEntity=27]="InNamedEntity",m[m.InNumericEntity=28]="InNumericEntity",m[m.InHexEntity=29]="InHexEntity"})(i||(i={}));function u(m){return m===t.Space||m===t.NewLine||m===t.Tab||m===t.FormFeed||m===t.CarriageReturn}function o(m){return m===t.Slash||m===t.Gt||u(m)}function l(m){return m>=t.Zero&&m<=t.Nine}function f(m){return m>=t.LowerA&&m<=t.LowerZ||m>=t.UpperA&&m<=t.UpperZ}function p(m){return m>=t.UpperA&&m<=t.UpperF||m>=t.LowerA&&m<=t.LowerF}var h;(function(m){m[m.NoValue=0]="NoValue",m[m.Unquoted=1]="Unquoted",m[m.Single=2]="Single",m[m.Double=3]="Double"})(h=n.QuoteType||(n.QuoteType={}));var y={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},v=function(){function m(g,E){var S=g.xmlMode,I=S===void 0?!1:S,T=g.decodeEntities,C=T===void 0?!0:T;this.cbs=E,this.state=i.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=i.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=I,this.decodeEntities=C,this.entityTrie=I?e.xmlDecodeTree:e.htmlDecodeTree}return m.prototype.reset=function(){this.state=i.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=i.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},m.prototype.write=function(g){this.offset+=this.buffer.length,this.buffer=g,this.parse()},m.prototype.end=function(){this.running&&this.finish()},m.prototype.pause=function(){this.running=!1},m.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},m.prototype.getIndex=function(){return this.index},m.prototype.getSectionStart=function(){return this.sectionStart},m.prototype.stateText=function(g){g===t.Lt||!this.decodeEntities&&this.fastForwardTo(t.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=i.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&g===t.Amp&&(this.state=i.BeforeEntity)},m.prototype.stateSpecialStartSequence=function(g){var E=this.sequenceIndex===this.currentSequence.length,S=E?o(g):(g|32)===this.currentSequence[this.sequenceIndex];if(!S)this.isSpecial=!1;else if(!E){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=i.InTagName,this.stateInTagName(g)},m.prototype.stateInSpecialTag=function(g){if(this.sequenceIndex===this.currentSequence.length){if(g===t.Gt||u(g)){var E=this.index-this.currentSequence.length;if(this.sectionStart<E){var S=this.index;this.index=E,this.cbs.ontext(this.sectionStart,E),this.index=S}this.isSpecial=!1,this.sectionStart=E+2,this.stateInClosingTagName(g);return}this.sequenceIndex=0}(g|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===y.TitleEnd?this.decodeEntities&&g===t.Amp&&(this.state=i.BeforeEntity):this.fastForwardTo(t.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(g===t.Lt)},m.prototype.stateCDATASequence=function(g){g===y.Cdata[this.sequenceIndex]?++this.sequenceIndex===y.Cdata.length&&(this.state=i.InCommentLike,this.currentSequence=y.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=i.InDeclaration,this.stateInDeclaration(g))},m.prototype.fastForwardTo=function(g){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===g)return!0;return this.index=this.buffer.length+this.offset-1,!1},m.prototype.stateInCommentLike=function(g){g===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===y.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=i.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):g!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},m.prototype.isTagStartChar=function(g){return this.xmlMode?!o(g):f(g)},m.prototype.startSpecial=function(g,E){this.isSpecial=!0,this.currentSequence=g,this.sequenceIndex=E,this.state=i.SpecialStartSequence},m.prototype.stateBeforeTagName=function(g){if(g===t.ExclamationMark)this.state=i.BeforeDeclaration,this.sectionStart=this.index+1;else if(g===t.Questionmark)this.state=i.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(g)){var E=g|32;this.sectionStart=this.index,!this.xmlMode&&E===y.TitleEnd[2]?this.startSpecial(y.TitleEnd,3):this.state=!this.xmlMode&&E===y.ScriptEnd[2]?i.BeforeSpecialS:i.InTagName}else g===t.Slash?this.state=i.BeforeClosingTagName:(this.state=i.Text,this.stateText(g))},m.prototype.stateInTagName=function(g){o(g)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(g))},m.prototype.stateBeforeClosingTagName=function(g){u(g)||(g===t.Gt?this.state=i.Text:(this.state=this.isTagStartChar(g)?i.InClosingTagName:i.InSpecialComment,this.sectionStart=this.index))},m.prototype.stateInClosingTagName=function(g){(g===t.Gt||u(g))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.AfterClosingTagName,this.stateAfterClosingTagName(g))},m.prototype.stateAfterClosingTagName=function(g){(g===t.Gt||this.fastForwardTo(t.Gt))&&(this.state=i.Text,this.baseState=i.Text,this.sectionStart=this.index+1)},m.prototype.stateBeforeAttributeName=function(g){g===t.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=i.InSpecialTag,this.sequenceIndex=0):this.state=i.Text,this.baseState=this.state,this.sectionStart=this.index+1):g===t.Slash?this.state=i.InSelfClosingTag:u(g)||(this.state=i.InAttributeName,this.sectionStart=this.index)},m.prototype.stateInSelfClosingTag=function(g){g===t.Gt?(this.cbs.onselfclosingtag(this.index),this.state=i.Text,this.baseState=i.Text,this.sectionStart=this.index+1,this.isSpecial=!1):u(g)||(this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(g))},m.prototype.stateInAttributeName=function(g){(g===t.Eq||o(g))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.AfterAttributeName,this.stateAfterAttributeName(g))},m.prototype.stateAfterAttributeName=function(g){g===t.Eq?this.state=i.BeforeAttributeValue:g===t.Slash||g===t.Gt?(this.cbs.onattribend(h.NoValue,this.index),this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(g)):u(g)||(this.cbs.onattribend(h.NoValue,this.index),this.state=i.InAttributeName,this.sectionStart=this.index)},m.prototype.stateBeforeAttributeValue=function(g){g===t.DoubleQuote?(this.state=i.InAttributeValueDq,this.sectionStart=this.index+1):g===t.SingleQuote?(this.state=i.InAttributeValueSq,this.sectionStart=this.index+1):u(g)||(this.sectionStart=this.index,this.state=i.InAttributeValueNq,this.stateInAttributeValueNoQuotes(g))},m.prototype.handleInAttributeValue=function(g,E){g===E||!this.decodeEntities&&this.fastForwardTo(E)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(E===t.DoubleQuote?h.Double:h.Single,this.index),this.state=i.BeforeAttributeName):this.decodeEntities&&g===t.Amp&&(this.baseState=this.state,this.state=i.BeforeEntity)},m.prototype.stateInAttributeValueDoubleQuotes=function(g){this.handleInAttributeValue(g,t.DoubleQuote)},m.prototype.stateInAttributeValueSingleQuotes=function(g){this.handleInAttributeValue(g,t.SingleQuote)},m.prototype.stateInAttributeValueNoQuotes=function(g){u(g)||g===t.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(h.Unquoted,this.index),this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(g)):this.decodeEntities&&g===t.Amp&&(this.baseState=this.state,this.state=i.BeforeEntity)},m.prototype.stateBeforeDeclaration=function(g){g===t.OpeningSquareBracket?(this.state=i.CDATASequence,this.sequenceIndex=0):this.state=g===t.Dash?i.BeforeComment:i.InDeclaration},m.prototype.stateInDeclaration=function(g){(g===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=i.Text,this.sectionStart=this.index+1)},m.prototype.stateInProcessingInstruction=function(g){(g===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=i.Text,this.sectionStart=this.index+1)},m.prototype.stateBeforeComment=function(g){g===t.Dash?(this.state=i.InCommentLike,this.currentSequence=y.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=i.InDeclaration},m.prototype.stateInSpecialComment=function(g){(g===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=i.Text,this.sectionStart=this.index+1)},m.prototype.stateBeforeSpecialS=function(g){var E=g|32;E===y.ScriptEnd[3]?this.startSpecial(y.ScriptEnd,4):E===y.StyleEnd[3]?this.startSpecial(y.StyleEnd,4):(this.state=i.InTagName,this.stateInTagName(g))},m.prototype.stateBeforeEntity=function(g){this.entityExcess=1,this.entityResult=0,g===t.Number?this.state=i.BeforeNumericEntity:g===t.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=i.InNamedEntity,this.stateInNamedEntity(g))},m.prototype.stateInNamedEntity=function(g){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,g),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var E=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(E){var S=(E>>14)-1;if(!this.allowLegacyEntity()&&g!==t.Semi)this.trieIndex+=S;else{var I=this.index-this.entityExcess+1;I>this.sectionStart&&this.emitPartial(this.sectionStart,I),this.entityResult=this.trieIndex,this.trieIndex+=S,this.entityExcess=0,this.sectionStart=this.index+1,S===0&&this.emitNamedEntity()}}},m.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var g=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(g){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},m.prototype.stateBeforeNumericEntity=function(g){(g|32)===t.LowerX?(this.entityExcess++,this.state=i.InHexEntity):(this.state=i.InNumericEntity,this.stateInNumericEntity(g))},m.prototype.emitNumericEntity=function(g){var E=this.index-this.entityExcess-1,S=E+2+ +(this.state===i.InHexEntity);S!==this.index&&(E>this.sectionStart&&this.emitPartial(this.sectionStart,E),this.sectionStart=this.index+Number(g),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},m.prototype.stateInNumericEntity=function(g){g===t.Semi?this.emitNumericEntity(!0):l(g)?(this.entityResult=this.entityResult*10+(g-t.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},m.prototype.stateInHexEntity=function(g){g===t.Semi?this.emitNumericEntity(!0):l(g)?(this.entityResult=this.entityResult*16+(g-t.Zero),this.entityExcess++):p(g)?(this.entityResult=this.entityResult*16+((g|32)-t.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},m.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===i.Text||this.baseState===i.InSpecialTag)},m.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===i.Text||this.state===i.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===i.InAttributeValueDq||this.state===i.InAttributeValueSq||this.state===i.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},m.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},m.prototype.parse=function(){for(;this.shouldContinue();){var g=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case i.Text:{this.stateText(g);break}case i.SpecialStartSequence:{this.stateSpecialStartSequence(g);break}case i.InSpecialTag:{this.stateInSpecialTag(g);break}case i.CDATASequence:{this.stateCDATASequence(g);break}case i.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(g);break}case i.InAttributeName:{this.stateInAttributeName(g);break}case i.InCommentLike:{this.stateInCommentLike(g);break}case i.InSpecialComment:{this.stateInSpecialComment(g);break}case i.BeforeAttributeName:{this.stateBeforeAttributeName(g);break}case i.InTagName:{this.stateInTagName(g);break}case i.InClosingTagName:{this.stateInClosingTagName(g);break}case i.BeforeTagName:{this.stateBeforeTagName(g);break}case i.AfterAttributeName:{this.stateAfterAttributeName(g);break}case i.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(g);break}case i.BeforeAttributeValue:{this.stateBeforeAttributeValue(g);break}case i.BeforeClosingTagName:{this.stateBeforeClosingTagName(g);break}case i.AfterClosingTagName:{this.stateAfterClosingTagName(g);break}case i.BeforeSpecialS:{this.stateBeforeSpecialS(g);break}case i.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(g);break}case i.InSelfClosingTag:{this.stateInSelfClosingTag(g);break}case i.InDeclaration:{this.stateInDeclaration(g);break}case i.BeforeDeclaration:{this.stateBeforeDeclaration(g);break}case i.BeforeComment:{this.stateBeforeComment(g);break}case i.InProcessingInstruction:{this.stateInProcessingInstruction(g);break}case i.InNamedEntity:{this.stateInNamedEntity(g);break}case i.BeforeEntity:{this.stateBeforeEntity(g);break}case i.InHexEntity:{this.stateInHexEntity(g);break}case i.InNumericEntity:{this.stateInNumericEntity(g);break}default:this.stateBeforeNumericEntity(g)}this.index++}this.cleanup()},m.prototype.finish=function(){this.state===i.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},m.prototype.handleTrailingData=function(){var g=this.buffer.length+this.offset;this.state===i.InCommentLike?this.currentSequence===y.CdataEnd?this.cbs.oncdata(this.sectionStart,g,0):this.cbs.oncomment(this.sectionStart,g,0):this.state===i.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===i.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===i.InTagName||this.state===i.BeforeAttributeName||this.state===i.BeforeAttributeValue||this.state===i.AfterAttributeName||this.state===i.InAttributeName||this.state===i.InAttributeValueSq||this.state===i.InAttributeValueDq||this.state===i.InAttributeValueNq||this.state===i.InClosingTagName||this.cbs.ontext(this.sectionStart,g)},m.prototype.emitPartial=function(g,E){this.baseState!==i.Text&&this.baseState!==i.InSpecialTag?this.cbs.onattribdata(g,E):this.cbs.ontext(g,E)},m.prototype.emitCodePoint=function(g){this.baseState!==i.Text&&this.baseState!==i.InSpecialTag?this.cbs.onattribentity(g):this.cbs.ontextentity(g)},m}();n.default=v}(Ch)),Ch}var W1;function G1(){if(W1)return ki;W1=1;var n=ki.__createBinding||(Object.create?function(I,T,C,D){D===void 0&&(D=C);var A=Object.getOwnPropertyDescriptor(T,C);(!A||("get"in A?!T.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return T[C]}}),Object.defineProperty(I,D,A)}:function(I,T,C,D){D===void 0&&(D=C),I[D]=T[C]}),e=ki.__setModuleDefault||(Object.create?function(I,T){Object.defineProperty(I,"default",{enumerable:!0,value:T})}:function(I,T){I.default=T}),t=ki.__importStar||function(I){if(I&&I.__esModule)return I;var T={};if(I!=null)for(var C in I)C!=="default"&&Object.prototype.hasOwnProperty.call(I,C)&&n(T,I,C);return e(T,I),T};Object.defineProperty(ki,"__esModule",{value:!0}),ki.Parser=void 0;var i=t(kw()),u=ef(),o=new Set(["input","option","optgroup","select","button","datalist","textarea"]),l=new Set(["p"]),f=new Set(["thead","tbody"]),p=new Set(["dd","dt"]),h=new Set(["rt","rp"]),y=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",l],["h1",l],["h2",l],["h3",l],["h4",l],["h5",l],["h6",l],["select",o],["input",o],["output",o],["button",o],["datalist",o],["textarea",o],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",p],["dt",p],["address",l],["article",l],["aside",l],["blockquote",l],["details",l],["div",l],["dl",l],["fieldset",l],["figcaption",l],["figure",l],["footer",l],["form",l],["header",l],["hr",l],["main",l],["nav",l],["ol",l],["pre",l],["section",l],["table",l],["ul",l],["rt",h],["rp",h],["tbody",f],["tfoot",f]]),v=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),m=new Set(["math","svg"]),g=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),E=/\s|\//,S=function(){function I(T,C){C===void 0&&(C={});var D,A,R,F,k;this.options=C,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=T??{},this.lowerCaseTagNames=(D=C.lowerCaseTags)!==null&&D!==void 0?D:!C.xmlMode,this.lowerCaseAttributeNames=(A=C.lowerCaseAttributeNames)!==null&&A!==void 0?A:!C.xmlMode,this.tokenizer=new((R=C.Tokenizer)!==null&&R!==void 0?R:i.default)(this.options,this),(k=(F=this.cbs).onparserinit)===null||k===void 0||k.call(F,this)}return I.prototype.ontext=function(T,C){var D,A,R=this.getSlice(T,C);this.endIndex=C-1,(A=(D=this.cbs).ontext)===null||A===void 0||A.call(D,R),this.startIndex=C},I.prototype.ontextentity=function(T){var C,D,A=this.tokenizer.getSectionStart();this.endIndex=A-1,(D=(C=this.cbs).ontext)===null||D===void 0||D.call(C,(0,u.fromCodePoint)(T)),this.startIndex=A},I.prototype.isVoidElement=function(T){return!this.options.xmlMode&&v.has(T)},I.prototype.onopentagname=function(T,C){this.endIndex=C;var D=this.getSlice(T,C);this.lowerCaseTagNames&&(D=D.toLowerCase()),this.emitOpenTag(D)},I.prototype.emitOpenTag=function(T){var C,D,A,R;this.openTagStart=this.startIndex,this.tagname=T;var F=!this.options.xmlMode&&y.get(T);if(F)for(;this.stack.length>0&&F.has(this.stack[this.stack.length-1]);){var k=this.stack.pop();(D=(C=this.cbs).onclosetag)===null||D===void 0||D.call(C,k,!0)}this.isVoidElement(T)||(this.stack.push(T),m.has(T)?this.foreignContext.push(!0):g.has(T)&&this.foreignContext.push(!1)),(R=(A=this.cbs).onopentagname)===null||R===void 0||R.call(A,T),this.cbs.onopentag&&(this.attribs={})},I.prototype.endOpenTag=function(T){var C,D;this.startIndex=this.openTagStart,this.attribs&&((D=(C=this.cbs).onopentag)===null||D===void 0||D.call(C,this.tagname,this.attribs,T),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},I.prototype.onopentagend=function(T){this.endIndex=T,this.endOpenTag(!1),this.startIndex=T+1},I.prototype.onclosetag=function(T,C){var D,A,R,F,k,P;this.endIndex=C;var L=this.getSlice(T,C);if(this.lowerCaseTagNames&&(L=L.toLowerCase()),(m.has(L)||g.has(L))&&this.foreignContext.pop(),this.isVoidElement(L))!this.options.xmlMode&&L==="br"&&((A=(D=this.cbs).onopentagname)===null||A===void 0||A.call(D,"br"),(F=(R=this.cbs).onopentag)===null||F===void 0||F.call(R,"br",{},!0),(P=(k=this.cbs).onclosetag)===null||P===void 0||P.call(k,"br",!1));else{var U=this.stack.lastIndexOf(L);if(U!==-1)if(this.cbs.onclosetag)for(var O=this.stack.length-U;O--;)this.cbs.onclosetag(this.stack.pop(),O!==0);else this.stack.length=U;else!this.options.xmlMode&&L==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=C+1},I.prototype.onselfclosingtag=function(T){this.endIndex=T,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=T+1):this.onopentagend(T)},I.prototype.closeCurrentTag=function(T){var C,D,A=this.tagname;this.endOpenTag(T),this.stack[this.stack.length-1]===A&&((D=(C=this.cbs).onclosetag)===null||D===void 0||D.call(C,A,!T),this.stack.pop())},I.prototype.onattribname=function(T,C){this.startIndex=T;var D=this.getSlice(T,C);this.attribname=this.lowerCaseAttributeNames?D.toLowerCase():D},I.prototype.onattribdata=function(T,C){this.attribvalue+=this.getSlice(T,C)},I.prototype.onattribentity=function(T){this.attribvalue+=(0,u.fromCodePoint)(T)},I.prototype.onattribend=function(T,C){var D,A;this.endIndex=C,(A=(D=this.cbs).onattribute)===null||A===void 0||A.call(D,this.attribname,this.attribvalue,T===i.QuoteType.Double?'"':T===i.QuoteType.Single?"'":T===i.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},I.prototype.getInstructionName=function(T){var C=T.search(E),D=C<0?T:T.substr(0,C);return this.lowerCaseTagNames&&(D=D.toLowerCase()),D},I.prototype.ondeclaration=function(T,C){this.endIndex=C;var D=this.getSlice(T,C);if(this.cbs.onprocessinginstruction){var A=this.getInstructionName(D);this.cbs.onprocessinginstruction("!".concat(A),"!".concat(D))}this.startIndex=C+1},I.prototype.onprocessinginstruction=function(T,C){this.endIndex=C;var D=this.getSlice(T,C);if(this.cbs.onprocessinginstruction){var A=this.getInstructionName(D);this.cbs.onprocessinginstruction("?".concat(A),"?".concat(D))}this.startIndex=C+1},I.prototype.oncomment=function(T,C,D){var A,R,F,k;this.endIndex=C,(R=(A=this.cbs).oncomment)===null||R===void 0||R.call(A,this.getSlice(T,C-D)),(k=(F=this.cbs).oncommentend)===null||k===void 0||k.call(F),this.startIndex=C+1},I.prototype.oncdata=function(T,C,D){var A,R,F,k,P,L,U,O,j,V;this.endIndex=C;var fe=this.getSlice(T,C-D);this.options.xmlMode||this.options.recognizeCDATA?((R=(A=this.cbs).oncdatastart)===null||R===void 0||R.call(A),(k=(F=this.cbs).ontext)===null||k===void 0||k.call(F,fe),(L=(P=this.cbs).oncdataend)===null||L===void 0||L.call(P)):((O=(U=this.cbs).oncomment)===null||O===void 0||O.call(U,"[CDATA[".concat(fe,"]]")),(V=(j=this.cbs).oncommentend)===null||V===void 0||V.call(j)),this.startIndex=C+1},I.prototype.onend=function(){var T,C;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var D=this.stack.length;D>0;this.cbs.onclosetag(this.stack[--D],!0));}(C=(T=this.cbs).onend)===null||C===void 0||C.call(T)},I.prototype.reset=function(){var T,C,D,A;(C=(T=this.cbs).onreset)===null||C===void 0||C.call(T),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(A=(D=this.cbs).onparserinit)===null||A===void 0||A.call(D,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},I.prototype.parseComplete=function(T){this.reset(),this.end(T)},I.prototype.getSlice=function(T,C){for(;T-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var D=this.buffers[0].slice(T-this.bufferOffset,C-this.bufferOffset);C-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),D+=this.buffers[0].slice(0,C-this.bufferOffset);return D},I.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},I.prototype.write=function(T){var C,D;if(this.ended){(D=(C=this.cbs).onerror)===null||D===void 0||D.call(C,new Error(".write() after done!"));return}this.buffers.push(T),this.tokenizer.running&&(this.tokenizer.write(T),this.writeIndex++)},I.prototype.end=function(T){var C,D;if(this.ended){(D=(C=this.cbs).onerror)===null||D===void 0||D.call(C,new Error(".end() after done!"));return}T&&this.write(T),this.ended=!0,this.tokenizer.end()},I.prototype.pause=function(){this.tokenizer.pause()},I.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},I.prototype.parseChunk=function(T){this.write(T)},I.prototype.done=function(T){this.end(T)},I}();return ki.Parser=S,ki}var sa={},kh={},K1;function Ha(){return K1||(K1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Doctype=n.CDATA=n.Tag=n.Style=n.Script=n.Comment=n.Directive=n.Text=n.Root=n.isTag=n.ElementType=void 0;var e;(function(i){i.Root="root",i.Text="text",i.Directive="directive",i.Comment="comment",i.Script="script",i.Style="style",i.Tag="tag",i.CDATA="cdata",i.Doctype="doctype"})(e=n.ElementType||(n.ElementType={}));function t(i){return i.type===e.Tag||i.type===e.Script||i.type===e.Style}n.isTag=t,n.Root=e.Root,n.Text=e.Text,n.Directive=e.Directive,n.Comment=e.Comment,n.Script=e.Script,n.Style=e.Style,n.Tag=e.Tag,n.CDATA=e.CDATA,n.Doctype=e.Doctype}(kh)),kh}var Ue={},Q1;function Y1(){if(Q1)return Ue;Q1=1;var n=Ue.__extends||function(){var R=function(F,k){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,L){P.__proto__=L}||function(P,L){for(var U in L)Object.prototype.hasOwnProperty.call(L,U)&&(P[U]=L[U])},R(F,k)};return function(F,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");R(F,k);function P(){this.constructor=F}F.prototype=k===null?Object.create(k):(P.prototype=k.prototype,new P)}}(),e=Ue.__assign||function(){return e=Object.assign||function(R){for(var F,k=1,P=arguments.length;k<P;k++){F=arguments[k];for(var L in F)Object.prototype.hasOwnProperty.call(F,L)&&(R[L]=F[L])}return R},e.apply(this,arguments)};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.cloneNode=Ue.hasChildren=Ue.isDocument=Ue.isDirective=Ue.isComment=Ue.isText=Ue.isCDATA=Ue.isTag=Ue.Element=Ue.Document=Ue.CDATA=Ue.NodeWithChildren=Ue.ProcessingInstruction=Ue.Comment=Ue.Text=Ue.DataNode=Ue.Node=void 0;var t=Ha(),i=function(){function R(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(R.prototype,"parentNode",{get:function(){return this.parent},set:function(F){this.parent=F},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"previousSibling",{get:function(){return this.prev},set:function(F){this.prev=F},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nextSibling",{get:function(){return this.next},set:function(F){this.next=F},enumerable:!1,configurable:!0}),R.prototype.cloneNode=function(F){return F===void 0&&(F=!1),D(this,F)},R}();Ue.Node=i;var u=function(R){n(F,R);function F(k){var P=R.call(this)||this;return P.data=k,P}return Object.defineProperty(F.prototype,"nodeValue",{get:function(){return this.data},set:function(k){this.data=k},enumerable:!1,configurable:!0}),F}(i);Ue.DataNode=u;var o=function(R){n(F,R);function F(){var k=R!==null&&R.apply(this,arguments)||this;return k.type=t.ElementType.Text,k}return Object.defineProperty(F.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),F}(u);Ue.Text=o;var l=function(R){n(F,R);function F(){var k=R!==null&&R.apply(this,arguments)||this;return k.type=t.ElementType.Comment,k}return Object.defineProperty(F.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),F}(u);Ue.Comment=l;var f=function(R){n(F,R);function F(k,P){var L=R.call(this,P)||this;return L.name=k,L.type=t.ElementType.Directive,L}return Object.defineProperty(F.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),F}(u);Ue.ProcessingInstruction=f;var p=function(R){n(F,R);function F(k){var P=R.call(this)||this;return P.children=k,P}return Object.defineProperty(F.prototype,"firstChild",{get:function(){var k;return(k=this.children[0])!==null&&k!==void 0?k:null},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"childNodes",{get:function(){return this.children},set:function(k){this.children=k},enumerable:!1,configurable:!0}),F}(i);Ue.NodeWithChildren=p;var h=function(R){n(F,R);function F(){var k=R!==null&&R.apply(this,arguments)||this;return k.type=t.ElementType.CDATA,k}return Object.defineProperty(F.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),F}(p);Ue.CDATA=h;var y=function(R){n(F,R);function F(){var k=R!==null&&R.apply(this,arguments)||this;return k.type=t.ElementType.Root,k}return Object.defineProperty(F.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),F}(p);Ue.Document=y;var v=function(R){n(F,R);function F(k,P,L,U){L===void 0&&(L=[]),U===void 0&&(U=k==="script"?t.ElementType.Script:k==="style"?t.ElementType.Style:t.ElementType.Tag);var O=R.call(this,L)||this;return O.name=k,O.attribs=P,O.type=U,O}return Object.defineProperty(F.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"tagName",{get:function(){return this.name},set:function(k){this.name=k},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"attributes",{get:function(){var k=this;return Object.keys(this.attribs).map(function(P){var L,U;return{name:P,value:k.attribs[P],namespace:(L=k["x-attribsNamespace"])===null||L===void 0?void 0:L[P],prefix:(U=k["x-attribsPrefix"])===null||U===void 0?void 0:U[P]}})},enumerable:!1,configurable:!0}),F}(p);Ue.Element=v;function m(R){return(0,t.isTag)(R)}Ue.isTag=m;function g(R){return R.type===t.ElementType.CDATA}Ue.isCDATA=g;function E(R){return R.type===t.ElementType.Text}Ue.isText=E;function S(R){return R.type===t.ElementType.Comment}Ue.isComment=S;function I(R){return R.type===t.ElementType.Directive}Ue.isDirective=I;function T(R){return R.type===t.ElementType.Root}Ue.isDocument=T;function C(R){return Object.prototype.hasOwnProperty.call(R,"children")}Ue.hasChildren=C;function D(R,F){F===void 0&&(F=!1);var k;if(E(R))k=new o(R.data);else if(S(R))k=new l(R.data);else if(m(R)){var P=F?A(R.children):[],L=new v(R.name,e({},R.attribs),P);P.forEach(function(V){return V.parent=L}),R.namespace!=null&&(L.namespace=R.namespace),R["x-attribsNamespace"]&&(L["x-attribsNamespace"]=e({},R["x-attribsNamespace"])),R["x-attribsPrefix"]&&(L["x-attribsPrefix"]=e({},R["x-attribsPrefix"])),k=L}else if(g(R)){var P=F?A(R.children):[],U=new h(P);P.forEach(function(fe){return fe.parent=U}),k=U}else if(T(R)){var P=F?A(R.children):[],O=new y(P);P.forEach(function(fe){return fe.parent=O}),R["x-mode"]&&(O["x-mode"]=R["x-mode"]),k=O}else if(I(R)){var j=new f(R.name,R.data);R["x-name"]!=null&&(j["x-name"]=R["x-name"],j["x-publicId"]=R["x-publicId"],j["x-systemId"]=R["x-systemId"]),k=j}else throw new Error("Not implemented yet: ".concat(R.type));return k.startIndex=R.startIndex,k.endIndex=R.endIndex,R.sourceCodeLocation!=null&&(k.sourceCodeLocation=R.sourceCodeLocation),k}Ue.cloneNode=D;function A(R){for(var F=R.map(function(P){return D(P,!0)}),k=1;k<F.length;k++)F[k].prev=F[k-1],F[k-1].next=F[k];return F}return Ue}var X1;function Zi(){return X1||(X1=1,function(n){var e=sa.__createBinding||(Object.create?function(f,p,h,y){y===void 0&&(y=h);var v=Object.getOwnPropertyDescriptor(p,h);(!v||("get"in v?!p.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(f,y,v)}:function(f,p,h,y){y===void 0&&(y=h),f[y]=p[h]}),t=sa.__exportStar||function(f,p){for(var h in f)h!=="default"&&!Object.prototype.hasOwnProperty.call(p,h)&&e(p,f,h)};Object.defineProperty(n,"__esModule",{value:!0}),n.DomHandler=void 0;var i=Ha(),u=Y1();t(Y1(),n);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function f(p,h,y){this.dom=[],this.root=new u.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof h=="function"&&(y=h,h=o),typeof p=="object"&&(h=p,p=void 0),this.callback=p??null,this.options=h??o,this.elementCB=y??null}return f.prototype.onparserinit=function(p){this.parser=p},f.prototype.onreset=function(){this.dom=[],this.root=new u.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},f.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},f.prototype.onerror=function(p){this.handleCallback(p)},f.prototype.onclosetag=function(){this.lastNode=null;var p=this.tagStack.pop();this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(p)},f.prototype.onopentag=function(p,h){var y=this.options.xmlMode?i.ElementType.Tag:void 0,v=new u.Element(p,h,void 0,y);this.addNode(v),this.tagStack.push(v)},f.prototype.ontext=function(p){var h=this.lastNode;if(h&&h.type===i.ElementType.Text)h.data+=p,this.options.withEndIndices&&(h.endIndex=this.parser.endIndex);else{var y=new u.Text(p);this.addNode(y),this.lastNode=y}},f.prototype.oncomment=function(p){if(this.lastNode&&this.lastNode.type===i.ElementType.Comment){this.lastNode.data+=p;return}var h=new u.Comment(p);this.addNode(h),this.lastNode=h},f.prototype.oncommentend=function(){this.lastNode=null},f.prototype.oncdatastart=function(){var p=new u.Text(""),h=new u.CDATA([p]);this.addNode(h),p.parent=h,this.lastNode=p},f.prototype.oncdataend=function(){this.lastNode=null},f.prototype.onprocessinginstruction=function(p,h){var y=new u.ProcessingInstruction(p,h);this.addNode(y)},f.prototype.handleCallback=function(p){if(typeof this.callback=="function")this.callback(p,this.dom);else if(p)throw p},f.prototype.addNode=function(p){var h=this.tagStack[this.tagStack.length-1],y=h.children[h.children.length-1];this.options.withStartIndices&&(p.startIndex=this.parser.startIndex),this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),h.children.push(p),y&&(p.prev=y,y.next=p),p.parent=h,this.lastNode=null},f}();n.DomHandler=l,n.default=l}(sa)),sa}var ua={},zr={},_r={},Nh={},Ni={},gc={},J1;function C4(){if(J1)return gc;J1=1,Object.defineProperty(gc,"__esModule",{value:!0});function n(e){for(var t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}return gc.default=new Map(n([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(n([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(n([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(n([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),gc}var Dh={},Z1;function Up(){return Z1||(Z1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.escapeText=n.escapeAttribute=n.escapeUTF8=n.escape=n.encodeXML=n.getCodePoint=n.xmlReplacer=void 0,n.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);n.getCodePoint=String.prototype.codePointAt!=null?function(u,o){return u.codePointAt(o)}:function(u,o){return(u.charCodeAt(o)&64512)===55296?(u.charCodeAt(o)-55296)*1024+u.charCodeAt(o+1)-56320+65536:u.charCodeAt(o)};function t(u){for(var o="",l=0,f;(f=n.xmlReplacer.exec(u))!==null;){var p=f.index,h=u.charCodeAt(p),y=e.get(h);y!==void 0?(o+=u.substring(l,p)+y,l=p+1):(o+="".concat(u.substring(l,p),"&#x").concat((0,n.getCodePoint)(u,p).toString(16),";"),l=n.xmlReplacer.lastIndex+=+((h&64512)===55296))}return o+u.substr(l)}n.encodeXML=t,n.escape=t;function i(u,o){return function(f){for(var p,h=0,y="";p=u.exec(f);)h!==p.index&&(y+=f.substring(h,p.index)),y+=o.get(p[0].charCodeAt(0)),h=p.index+1;return y+f.substring(h)}}n.escapeUTF8=i(/[&<>'"]/g,e),n.escapeAttribute=i(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),n.escapeText=i(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(Dh)),Dh}var e_;function t_(){if(e_)return Ni;e_=1;var n=Ni.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.encodeNonAsciiHTML=Ni.encodeHTML=void 0;var e=n(C4()),t=Up(),i=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function u(f){return l(i,f)}Ni.encodeHTML=u;function o(f){return l(t.xmlReplacer,f)}Ni.encodeNonAsciiHTML=o;function l(f,p){for(var h="",y=0,v;(v=f.exec(p))!==null;){var m=v.index;h+=p.substring(y,m);var g=p.charCodeAt(m),E=e.default.get(g);if(typeof E=="object"){if(m+1<p.length){var S=p.charCodeAt(m+1),I=typeof E.n=="number"?E.n===S?E.o:void 0:E.n.get(S);if(I!==void 0){h+=I,y=f.lastIndex+=1;continue}}E=E.v}if(E!==void 0)h+=E,y=m+1;else{var T=(0,t.getCodePoint)(p,m);h+="&#x".concat(T.toString(16),";"),y=f.lastIndex+=+(T!==g)}}return h+p.substr(y)}return Ni}var n_;function P4(){return n_||(n_=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXMLStrict=n.decodeHTML5Strict=n.decodeHTML4Strict=n.decodeHTML5=n.decodeHTML4=n.decodeHTMLAttribute=n.decodeHTMLStrict=n.decodeHTML=n.decodeXML=n.DecodingMode=n.EntityDecoder=n.encodeHTML5=n.encodeHTML4=n.encodeNonAsciiHTML=n.encodeHTML=n.escapeText=n.escapeAttribute=n.escapeUTF8=n.escape=n.encodeXML=n.encode=n.decodeStrict=n.decode=n.EncodingMode=n.EntityLevel=void 0;var e=ef(),t=t_(),i=Up(),u;(function(m){m[m.XML=0]="XML",m[m.HTML=1]="HTML"})(u=n.EntityLevel||(n.EntityLevel={}));var o;(function(m){m[m.UTF8=0]="UTF8",m[m.ASCII=1]="ASCII",m[m.Extensive=2]="Extensive",m[m.Attribute=3]="Attribute",m[m.Text=4]="Text"})(o=n.EncodingMode||(n.EncodingMode={}));function l(m,g){g===void 0&&(g=u.XML);var E=typeof g=="number"?g:g.level;if(E===u.HTML){var S=typeof g=="object"?g.mode:void 0;return(0,e.decodeHTML)(m,S)}return(0,e.decodeXML)(m)}n.decode=l;function f(m,g){var E;g===void 0&&(g=u.XML);var S=typeof g=="number"?{level:g}:g;return(E=S.mode)!==null&&E!==void 0||(S.mode=e.DecodingMode.Strict),l(m,S)}n.decodeStrict=f;function p(m,g){g===void 0&&(g=u.XML);var E=typeof g=="number"?{level:g}:g;return E.mode===o.UTF8?(0,i.escapeUTF8)(m):E.mode===o.Attribute?(0,i.escapeAttribute)(m):E.mode===o.Text?(0,i.escapeText)(m):E.level===u.HTML?E.mode===o.ASCII?(0,t.encodeNonAsciiHTML)(m):(0,t.encodeHTML)(m):(0,i.encodeXML)(m)}n.encode=p;var h=Up();Object.defineProperty(n,"encodeXML",{enumerable:!0,get:function(){return h.encodeXML}}),Object.defineProperty(n,"escape",{enumerable:!0,get:function(){return h.escape}}),Object.defineProperty(n,"escapeUTF8",{enumerable:!0,get:function(){return h.escapeUTF8}}),Object.defineProperty(n,"escapeAttribute",{enumerable:!0,get:function(){return h.escapeAttribute}}),Object.defineProperty(n,"escapeText",{enumerable:!0,get:function(){return h.escapeText}});var y=t_();Object.defineProperty(n,"encodeHTML",{enumerable:!0,get:function(){return y.encodeHTML}}),Object.defineProperty(n,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return y.encodeNonAsciiHTML}}),Object.defineProperty(n,"encodeHTML4",{enumerable:!0,get:function(){return y.encodeHTML}}),Object.defineProperty(n,"encodeHTML5",{enumerable:!0,get:function(){return y.encodeHTML}});var v=ef();Object.defineProperty(n,"EntityDecoder",{enumerable:!0,get:function(){return v.EntityDecoder}}),Object.defineProperty(n,"DecodingMode",{enumerable:!0,get:function(){return v.DecodingMode}}),Object.defineProperty(n,"decodeXML",{enumerable:!0,get:function(){return v.decodeXML}}),Object.defineProperty(n,"decodeHTML",{enumerable:!0,get:function(){return v.decodeHTML}}),Object.defineProperty(n,"decodeHTMLStrict",{enumerable:!0,get:function(){return v.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTMLAttribute",{enumerable:!0,get:function(){return v.decodeHTMLAttribute}}),Object.defineProperty(n,"decodeHTML4",{enumerable:!0,get:function(){return v.decodeHTML}}),Object.defineProperty(n,"decodeHTML5",{enumerable:!0,get:function(){return v.decodeHTML}}),Object.defineProperty(n,"decodeHTML4Strict",{enumerable:!0,get:function(){return v.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML5Strict",{enumerable:!0,get:function(){return v.decodeHTMLStrict}}),Object.defineProperty(n,"decodeXMLStrict",{enumerable:!0,get:function(){return v.decodeXML}})}(Nh)),Nh}var Ds={},r_;function k4(){return r_||(r_=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.attributeNames=Ds.elementNames=void 0,Ds.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(n){return[n.toLowerCase(),n]})),Ds.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(n){return[n.toLowerCase(),n]}))),Ds}var i_;function N4(){if(i_)return _r;i_=1;var n=_r.__assign||function(){return n=Object.assign||function(A){for(var R,F=1,k=arguments.length;F<k;F++){R=arguments[F];for(var P in R)Object.prototype.hasOwnProperty.call(R,P)&&(A[P]=R[P])}return A},n.apply(this,arguments)},e=_r.__createBinding||(Object.create?function(A,R,F,k){k===void 0&&(k=F);var P=Object.getOwnPropertyDescriptor(R,F);(!P||("get"in P?!R.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return R[F]}}),Object.defineProperty(A,k,P)}:function(A,R,F,k){k===void 0&&(k=F),A[k]=R[F]}),t=_r.__setModuleDefault||(Object.create?function(A,R){Object.defineProperty(A,"default",{enumerable:!0,value:R})}:function(A,R){A.default=R}),i=_r.__importStar||function(A){if(A&&A.__esModule)return A;var R={};if(A!=null)for(var F in A)F!=="default"&&Object.prototype.hasOwnProperty.call(A,F)&&e(R,A,F);return t(R,A),R};Object.defineProperty(_r,"__esModule",{value:!0}),_r.render=void 0;var u=i(Ha()),o=P4(),l=k4(),f=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function p(A){return A.replace(/"/g,"&quot;")}function h(A,R){var F;if(A){var k=((F=R.encodeEntities)!==null&&F!==void 0?F:R.decodeEntities)===!1?p:R.xmlMode||R.encodeEntities!=="utf8"?o.encodeXML:o.escapeAttribute;return Object.keys(A).map(function(P){var L,U,O=(L=A[P])!==null&&L!==void 0?L:"";return R.xmlMode==="foreign"&&(P=(U=l.attributeNames.get(P))!==null&&U!==void 0?U:P),!R.emptyAttrs&&!R.xmlMode&&O===""?P:"".concat(P,'="').concat(k(O),'"')}).join(" ")}}var y=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function v(A,R){R===void 0&&(R={});for(var F=("length"in A)?A:[A],k="",P=0;P<F.length;P++)k+=m(F[P],R);return k}_r.render=v,_r.default=v;function m(A,R){switch(A.type){case u.Root:return v(A.children,R);case u.Doctype:case u.Directive:return I(A);case u.Comment:return D(A);case u.CDATA:return C(A);case u.Script:case u.Style:case u.Tag:return S(A,R);case u.Text:return T(A,R)}}var g=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),E=new Set(["svg","math"]);function S(A,R){var F;R.xmlMode==="foreign"&&(A.name=(F=l.elementNames.get(A.name))!==null&&F!==void 0?F:A.name,A.parent&&g.has(A.parent.name)&&(R=n(n({},R),{xmlMode:!1}))),!R.xmlMode&&E.has(A.name)&&(R=n(n({},R),{xmlMode:"foreign"}));var k="<".concat(A.name),P=h(A.attribs,R);return P&&(k+=" ".concat(P)),A.children.length===0&&(R.xmlMode?R.selfClosingTags!==!1:R.selfClosingTags&&y.has(A.name))?(R.xmlMode||(k+=" "),k+="/>"):(k+=">",A.children.length>0&&(k+=v(A.children,R)),(R.xmlMode||!y.has(A.name))&&(k+="</".concat(A.name,">"))),k}function I(A){return"<".concat(A.data,">")}function T(A,R){var F,k=A.data||"";return((F=R.encodeEntities)!==null&&F!==void 0?F:R.decodeEntities)!==!1&&!(!R.xmlMode&&A.parent&&f.has(A.parent.name))&&(k=R.xmlMode||R.encodeEntities!=="utf8"?(0,o.encodeXML)(k):(0,o.escapeText)(k)),k}function C(A){return"<![CDATA[".concat(A.children[0].data,"]]>")}function D(A){return"<!--".concat(A.data,"-->")}return _r}var s_;function Nw(){if(s_)return zr;s_=1;var n=zr.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(zr,"__esModule",{value:!0}),zr.getOuterHTML=u,zr.getInnerHTML=o,zr.getText=l,zr.textContent=f,zr.innerText=p;var e=Zi(),t=n(N4()),i=Ha();function u(h,y){return(0,t.default)(h,y)}function o(h,y){return(0,e.hasChildren)(h)?h.children.map(function(v){return u(v,y)}).join(""):""}function l(h){return Array.isArray(h)?h.map(l).join(""):(0,e.isTag)(h)?h.name==="br"?`
`:l(h.children):(0,e.isCDATA)(h)?l(h.children):(0,e.isText)(h)?h.data:""}function f(h){return Array.isArray(h)?h.map(f).join(""):(0,e.hasChildren)(h)&&!(0,e.isComment)(h)?f(h.children):(0,e.isText)(h)?h.data:""}function p(h){return Array.isArray(h)?h.map(p).join(""):(0,e.hasChildren)(h)&&(h.type===i.ElementType.Tag||(0,e.isCDATA)(h))?p(h.children):(0,e.isText)(h)?h.data:""}return zr}var Jn={},u_;function D4(){if(u_)return Jn;u_=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.getChildren=e,Jn.getParent=t,Jn.getSiblings=i,Jn.getAttributeValue=u,Jn.hasAttrib=o,Jn.getName=l,Jn.nextElementSibling=f,Jn.prevElementSibling=p;var n=Zi();function e(h){return(0,n.hasChildren)(h)?h.children:[]}function t(h){return h.parent||null}function i(h){var y,v,m=t(h);if(m!=null)return e(m);for(var g=[h],E=h.prev,S=h.next;E!=null;)g.unshift(E),y=E,E=y.prev;for(;S!=null;)g.push(S),v=S,S=v.next;return g}function u(h,y){var v;return(v=h.attribs)===null||v===void 0?void 0:v[y]}function o(h,y){return h.attribs!=null&&Object.prototype.hasOwnProperty.call(h.attribs,y)&&h.attribs[y]!=null}function l(h){return h.name}function f(h){for(var y,v=h.next;v!==null&&!(0,n.isTag)(v);)y=v,v=y.next;return v}function p(h){for(var y,v=h.prev;v!==null&&!(0,n.isTag)(v);)y=v,v=y.prev;return v}return Jn}var Hr={},o_;function O4(){if(o_)return Hr;o_=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.removeElement=n,Hr.replaceElement=e,Hr.appendChild=t,Hr.append=i,Hr.prependChild=u,Hr.prepend=o;function n(l){if(l.prev&&(l.prev.next=l.next),l.next&&(l.next.prev=l.prev),l.parent){var f=l.parent.children,p=f.lastIndexOf(l);p>=0&&f.splice(p,1)}l.next=null,l.prev=null,l.parent=null}function e(l,f){var p=f.prev=l.prev;p&&(p.next=f);var h=f.next=l.next;h&&(h.prev=f);var y=f.parent=l.parent;if(y){var v=y.children;v[v.lastIndexOf(l)]=f,l.parent=null}}function t(l,f){if(n(f),f.next=null,f.parent=l,l.children.push(f)>1){var p=l.children[l.children.length-2];p.next=f,f.prev=p}else f.prev=null}function i(l,f){n(f);var p=l.parent,h=l.next;if(f.next=h,f.prev=l,l.next=f,f.parent=p,h){if(h.prev=f,p){var y=p.children;y.splice(y.lastIndexOf(h),0,f)}}else p&&p.children.push(f)}function u(l,f){if(n(f),f.parent=l,f.prev=null,l.children.unshift(f)!==1){var p=l.children[1];p.prev=f,f.next=p}else f.next=null}function o(l,f){n(f);var p=l.parent;if(p){var h=p.children;h.splice(h.indexOf(l),0,f)}l.prev&&(l.prev.next=f),f.parent=p,f.prev=l.prev,f.next=l,l.prev=f}return Hr}var $r={},a_;function Dw(){if(a_)return $r;a_=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.filter=e,$r.find=t,$r.findOneChild=i,$r.findOne=u,$r.existsOne=o,$r.findAll=l;var n=Zi();function e(f,p,h,y){return h===void 0&&(h=!0),y===void 0&&(y=1/0),t(f,Array.isArray(p)?p:[p],h,y)}function t(f,p,h,y){for(var v=[],m=[Array.isArray(p)?p:[p]],g=[0];;){if(g[0]>=m[0].length){if(g.length===1)return v;m.shift(),g.shift();continue}var E=m[0][g[0]++];if(f(E)&&(v.push(E),--y<=0))return v;h&&(0,n.hasChildren)(E)&&E.children.length>0&&(g.unshift(0),m.unshift(E.children))}}function i(f,p){return p.find(f)}function u(f,p,h){h===void 0&&(h=!0);for(var y=Array.isArray(p)?p:[p],v=0;v<y.length;v++){var m=y[v];if((0,n.isTag)(m)&&f(m))return m;if(h&&(0,n.hasChildren)(m)&&m.children.length>0){var g=u(f,m.children,!0);if(g)return g}}return null}function o(f,p){return(Array.isArray(p)?p:[p]).some(function(h){return(0,n.isTag)(h)&&f(h)||(0,n.hasChildren)(h)&&o(f,h.children)})}function l(f,p){for(var h=[],y=[Array.isArray(p)?p:[p]],v=[0];;){if(v[0]>=y[0].length){if(y.length===1)return h;y.shift(),v.shift();continue}var m=y[0][v[0]++];(0,n.isTag)(m)&&f(m)&&h.push(m),(0,n.hasChildren)(m)&&m.children.length>0&&(v.unshift(0),y.unshift(m.children))}}return $r}var Wr={},l_;function Ow(){if(l_)return Wr;l_=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.testElement=l,Wr.getElements=f,Wr.getElementById=p,Wr.getElementsByTagName=h,Wr.getElementsByClassName=y,Wr.getElementsByTagType=v;var n=Zi(),e=Dw(),t={tag_name:function(m){return typeof m=="function"?function(g){return(0,n.isTag)(g)&&m(g.name)}:m==="*"?n.isTag:function(g){return(0,n.isTag)(g)&&g.name===m}},tag_type:function(m){return typeof m=="function"?function(g){return m(g.type)}:function(g){return g.type===m}},tag_contains:function(m){return typeof m=="function"?function(g){return(0,n.isText)(g)&&m(g.data)}:function(g){return(0,n.isText)(g)&&g.data===m}}};function i(m,g){return typeof g=="function"?function(E){return(0,n.isTag)(E)&&g(E.attribs[m])}:function(E){return(0,n.isTag)(E)&&E.attribs[m]===g}}function u(m,g){return function(E){return m(E)||g(E)}}function o(m){var g=Object.keys(m).map(function(E){var S=m[E];return Object.prototype.hasOwnProperty.call(t,E)?t[E](S):i(E,S)});return g.length===0?null:g.reduce(u)}function l(m,g){var E=o(m);return E?E(g):!0}function f(m,g,E,S){S===void 0&&(S=1/0);var I=o(m);return I?(0,e.filter)(I,g,E,S):[]}function p(m,g,E){return E===void 0&&(E=!0),Array.isArray(g)||(g=[g]),(0,e.findOne)(i("id",m),g,E)}function h(m,g,E,S){return E===void 0&&(E=!0),S===void 0&&(S=1/0),(0,e.filter)(t.tag_name(m),g,E,S)}function y(m,g,E,S){return E===void 0&&(E=!0),S===void 0&&(S=1/0),(0,e.filter)(i("class",m),g,E,S)}function v(m,g,E,S){return E===void 0&&(E=!0),S===void 0&&(S=1/0),(0,e.filter)(t.tag_type(m),g,E,S)}return Wr}var Di={},c_;function L4(){if(c_)return Di;c_=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.DocumentPosition=void 0,Di.removeSubsets=e,Di.compareDocumentPosition=i,Di.uniqueSort=u;var n=Zi();function e(o){for(var l=o.length;--l>=0;){var f=o[l];if(l>0&&o.lastIndexOf(f,l-1)>=0){o.splice(l,1);continue}for(var p=f.parent;p;p=p.parent)if(o.includes(p)){o.splice(l,1);break}}return o}var t;(function(o){o[o.DISCONNECTED=1]="DISCONNECTED",o[o.PRECEDING=2]="PRECEDING",o[o.FOLLOWING=4]="FOLLOWING",o[o.CONTAINS=8]="CONTAINS",o[o.CONTAINED_BY=16]="CONTAINED_BY"})(t||(Di.DocumentPosition=t={}));function i(o,l){var f=[],p=[];if(o===l)return 0;for(var h=(0,n.hasChildren)(o)?o:o.parent;h;)f.unshift(h),h=h.parent;for(h=(0,n.hasChildren)(l)?l:l.parent;h;)p.unshift(h),h=h.parent;for(var y=Math.min(f.length,p.length),v=0;v<y&&f[v]===p[v];)v++;if(v===0)return t.DISCONNECTED;var m=f[v-1],g=m.children,E=f[v],S=p[v];return g.indexOf(E)>g.indexOf(S)?m===l?t.FOLLOWING|t.CONTAINED_BY:t.FOLLOWING:m===o?t.PRECEDING|t.CONTAINS:t.PRECEDING}function u(o){return o=o.filter(function(l,f,p){return!p.includes(l,f+1)}),o.sort(function(l,f){var p=i(l,f);return p&t.PRECEDING?-1:p&t.FOLLOWING?1:0}),o}return Di}var yc={},f_;function M4(){if(f_)return yc;f_=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.getFeed=t;var n=Nw(),e=Ow();function t(m){var g=p(v,m);return g?g.name==="feed"?i(g):u(g):null}function i(m){var g,E=m.children,S={type:"atom",items:(0,e.getElementsByTagName)("entry",E).map(function(C){var D,A=C.children,R={media:f(A)};y(R,"id","id",A),y(R,"title","title",A);var F=(D=p("link",A))===null||D===void 0?void 0:D.attribs.href;F&&(R.link=F);var k=h("summary",A)||h("content",A);k&&(R.description=k);var P=h("updated",A);return P&&(R.pubDate=new Date(P)),R})};y(S,"id","id",E),y(S,"title","title",E);var I=(g=p("link",E))===null||g===void 0?void 0:g.attribs.href;I&&(S.link=I),y(S,"description","subtitle",E);var T=h("updated",E);return T&&(S.updated=new Date(T)),y(S,"author","email",E,!0),S}function u(m){var g,E,S=(E=(g=p("channel",m.children))===null||g===void 0?void 0:g.children)!==null&&E!==void 0?E:[],I={type:m.name.substr(0,3),id:"",items:(0,e.getElementsByTagName)("item",m.children).map(function(C){var D=C.children,A={media:f(D)};y(A,"id","guid",D),y(A,"title","title",D),y(A,"link","link",D),y(A,"description","description",D);var R=h("pubDate",D)||h("dc:date",D);return R&&(A.pubDate=new Date(R)),A})};y(I,"title","title",S),y(I,"link","link",S),y(I,"description","description",S);var T=h("lastBuildDate",S);return T&&(I.updated=new Date(T)),y(I,"author","managingEditor",S,!0),I}var o=["url","type","lang"],l=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function f(m){return(0,e.getElementsByTagName)("media:content",m).map(function(g){for(var E=g.attribs,S={medium:E.medium,isDefault:!!E.isDefault},I=0,T=o;I<T.length;I++){var C=T[I];E[C]&&(S[C]=E[C])}for(var D=0,A=l;D<A.length;D++){var C=A[D];E[C]&&(S[C]=parseInt(E[C],10))}return E.expression&&(S.expression=E.expression),S})}function p(m,g){return(0,e.getElementsByTagName)(m,g,!0,1)[0]}function h(m,g,E){return E===void 0&&(E=!1),(0,n.textContent)((0,e.getElementsByTagName)(m,g,E,1)).trim()}function y(m,g,E,S,I){I===void 0&&(I=!1);var T=h(E,S,I);T&&(m[g]=T)}function v(m){return m==="rss"||m==="feed"||m==="rdf:RDF"}return yc}var d_;function Oh(){return d_||(d_=1,function(n){var e=ua.__createBinding||(Object.create?function(u,o,l,f){f===void 0&&(f=l);var p=Object.getOwnPropertyDescriptor(o,l);(!p||("get"in p?!o.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return o[l]}}),Object.defineProperty(u,f,p)}:function(u,o,l,f){f===void 0&&(f=l),u[f]=o[l]}),t=ua.__exportStar||function(u,o){for(var l in u)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&e(o,u,l)};Object.defineProperty(n,"__esModule",{value:!0}),n.hasChildren=n.isDocument=n.isComment=n.isText=n.isCDATA=n.isTag=void 0,t(Nw(),n),t(D4(),n),t(O4(),n),t(Dw(),n),t(Ow(),n),t(L4(),n),t(M4(),n);var i=Zi();Object.defineProperty(n,"isTag",{enumerable:!0,get:function(){return i.isTag}}),Object.defineProperty(n,"isCDATA",{enumerable:!0,get:function(){return i.isCDATA}}),Object.defineProperty(n,"isText",{enumerable:!0,get:function(){return i.isText}}),Object.defineProperty(n,"isComment",{enumerable:!0,get:function(){return i.isComment}}),Object.defineProperty(n,"isDocument",{enumerable:!0,get:function(){return i.isDocument}}),Object.defineProperty(n,"hasChildren",{enumerable:!0,get:function(){return i.hasChildren}})}(ua)),ua}var h_;function V4(){return h_||(h_=1,function(n){var e=ks.__createBinding||(Object.create?function(T,C,D,A){A===void 0&&(A=D);var R=Object.getOwnPropertyDescriptor(C,D);(!R||("get"in R?!C.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return C[D]}}),Object.defineProperty(T,A,R)}:function(T,C,D,A){A===void 0&&(A=D),T[A]=C[D]}),t=ks.__setModuleDefault||(Object.create?function(T,C){Object.defineProperty(T,"default",{enumerable:!0,value:C})}:function(T,C){T.default=C}),i=ks.__importStar||function(T){if(T&&T.__esModule)return T;var C={};if(T!=null)for(var D in T)D!=="default"&&Object.prototype.hasOwnProperty.call(T,D)&&e(C,T,D);return t(C,T),C},u=ks.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomUtils=n.parseFeed=n.getFeed=n.ElementType=n.Tokenizer=n.createDomStream=n.parseDOM=n.parseDocument=n.DefaultHandler=n.DomHandler=n.Parser=void 0;var o=G1(),l=G1();Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return l.Parser}});var f=Zi(),p=Zi();Object.defineProperty(n,"DomHandler",{enumerable:!0,get:function(){return p.DomHandler}}),Object.defineProperty(n,"DefaultHandler",{enumerable:!0,get:function(){return p.DomHandler}});function h(T,C){var D=new f.DomHandler(void 0,C);return new o.Parser(D,C).end(T),D.root}n.parseDocument=h;function y(T,C){return h(T,C).children}n.parseDOM=y;function v(T,C,D){var A=new f.DomHandler(T,C,D);return new o.Parser(A,C)}n.createDomStream=v;var m=kw();Object.defineProperty(n,"Tokenizer",{enumerable:!0,get:function(){return u(m).default}}),n.ElementType=i(Ha());var g=Oh(),E=Oh();Object.defineProperty(n,"getFeed",{enumerable:!0,get:function(){return E.getFeed}});var S={xmlMode:!0};function I(T,C){return C===void 0&&(C=S),(0,g.getFeed)(y(T,C))}n.parseFeed=I,n.DomUtils=i(Oh())}(ks)),ks}var Lh,p_;function U4(){return p_||(p_=1,Lh=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}),Lh}var _c={},m_;function j4(){if(m_)return _c;m_=1,Object.defineProperty(_c,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function n(t){return Object.prototype.toString.call(t)==="[object Object]"}function e(t){var i,u;return n(t)===!1?!1:(i=t.constructor,i===void 0?!0:(u=i.prototype,!(n(u)===!1||u.hasOwnProperty("isPrototypeOf")===!1)))}return _c.isPlainObject=e,_c}var Mh,g_;function F4(){if(g_)return Mh;g_=1;var n=function(C){return e(C)&&!t(C)};function e(T){return!!T&&typeof T=="object"}function t(T){var C=Object.prototype.toString.call(T);return C==="[object RegExp]"||C==="[object Date]"||o(T)}var i=typeof Symbol=="function"&&Symbol.for,u=i?Symbol.for("react.element"):60103;function o(T){return T.$$typeof===u}function l(T){return Array.isArray(T)?[]:{}}function f(T,C){return C.clone!==!1&&C.isMergeableObject(T)?S(l(T),T,C):T}function p(T,C,D){return T.concat(C).map(function(A){return f(A,D)})}function h(T,C){if(!C.customMerge)return S;var D=C.customMerge(T);return typeof D=="function"?D:S}function y(T){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(T).filter(function(C){return Object.propertyIsEnumerable.call(T,C)}):[]}function v(T){return Object.keys(T).concat(y(T))}function m(T,C){try{return C in T}catch{return!1}}function g(T,C){return m(T,C)&&!(Object.hasOwnProperty.call(T,C)&&Object.propertyIsEnumerable.call(T,C))}function E(T,C,D){var A={};return D.isMergeableObject(T)&&v(T).forEach(function(R){A[R]=f(T[R],D)}),v(C).forEach(function(R){g(T,R)||(m(T,R)&&D.isMergeableObject(C[R])?A[R]=h(R,D)(T[R],C[R],D):A[R]=f(C[R],D))}),A}function S(T,C,D){D=D||{},D.arrayMerge=D.arrayMerge||p,D.isMergeableObject=D.isMergeableObject||n,D.cloneUnlessOtherwiseSpecified=f;var A=Array.isArray(C),R=Array.isArray(T),F=A===R;return F?A?D.arrayMerge(T,C,D):E(T,C,D):f(C,D)}S.all=function(C,D){if(!Array.isArray(C))throw new Error("first argument should be an array");return C.reduce(function(A,R){return S(A,R,D)},{})};var I=S;return Mh=I,Mh}var Lc={exports:{}},B4=Lc.exports,y_;function q4(){return y_||(y_=1,function(n){(function(e,t){n.exports?n.exports=t():e.parseSrcset=t()})(B4,function(){return function(e){function t(A){return A===" "||A==="	"||A===`
`||A==="\f"||A==="\r"}function i(A){var R,F=A.exec(e.substring(I));if(F)return R=F[0],I+=R.length,R}for(var u=e.length,o=/^[ \t\n\r\u000c]+/,l=/^[, \t\n\r\u000c]+/,f=/^[^ \t\n\r\u000c]+/,p=/[,]+$/,h=/^\d+$/,y=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,v,m,g,E,S,I=0,T=[];;){if(i(l),I>=u)return T;v=i(f),m=[],v.slice(-1)===","?(v=v.replace(p,""),D()):C()}function C(){for(i(o),g="",E="in descriptor";;){if(S=e.charAt(I),E==="in descriptor")if(t(S))g&&(m.push(g),g="",E="after descriptor");else if(S===","){I+=1,g&&m.push(g),D();return}else if(S==="(")g=g+S,E="in parens";else if(S===""){g&&m.push(g),D();return}else g=g+S;else if(E==="in parens")if(S===")")g=g+S,E="in descriptor";else if(S===""){m.push(g),D();return}else g=g+S;else if(E==="after descriptor"&&!t(S))if(S===""){D();return}else E="in descriptor",I-=1;I+=1}}function D(){var A=!1,R,F,k,P,L={},U,O,j,V,fe;for(P=0;P<m.length;P++)U=m[P],O=U[U.length-1],j=U.substring(0,U.length-1),V=parseInt(j,10),fe=parseFloat(j),h.test(j)&&O==="w"?((R||F)&&(A=!0),V===0?A=!0:R=V):y.test(j)&&O==="x"?((R||F||k)&&(A=!0),fe<0?A=!0:F=fe):h.test(j)&&O==="h"?((k||F)&&(A=!0),V===0?A=!0:k=V):A=!0;A?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+U+"'."):(L.url=v,R&&(L.w=R),F&&(L.d=F),k&&(L.h=k),T.push(L))}}})}(Lc)),Lc.exports}var vc={exports:{}},__;function z4(){if(__)return vc.exports;__=1;var n=String,e=function(){return{isColorSupported:!1,reset:n,bold:n,dim:n,italic:n,underline:n,inverse:n,hidden:n,strikethrough:n,black:n,red:n,green:n,yellow:n,blue:n,magenta:n,cyan:n,white:n,gray:n,bgBlack:n,bgRed:n,bgGreen:n,bgYellow:n,bgBlue:n,bgMagenta:n,bgCyan:n,bgWhite:n,blackBright:n,redBright:n,greenBright:n,yellowBright:n,blueBright:n,magentaBright:n,cyanBright:n,whiteBright:n,bgBlackBright:n,bgRedBright:n,bgGreenBright:n,bgYellowBright:n,bgBlueBright:n,bgMagentaBright:n,bgCyanBright:n,bgWhiteBright:n}};return vc.exports=e(),vc.exports.createColors=e,vc.exports}const H4={},$4=Object.freeze(Object.defineProperty({__proto__:null,default:H4},Symbol.toStringTag,{value:"Module"})),Zn=Gb($4);var Vh,v_;function j0(){if(v_)return Vh;v_=1;let n=z4(),e=Zn;class t extends Error{constructor(u,o,l,f,p,h){super(u),this.name="CssSyntaxError",this.reason=u,p&&(this.file=p),f&&(this.source=f),h&&(this.plugin=h),typeof o<"u"&&typeof l<"u"&&(typeof o=="number"?(this.line=o,this.column=l):(this.line=o.line,this.column=o.column,this.endLine=l.line,this.endColumn=l.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,t)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(u){if(!this.source)return"";let o=this.source;u==null&&(u=n.isColorSupported);let l=g=>g,f=g=>g,p=g=>g;if(u){let{bold:g,gray:E,red:S}=n.createColors(!0);f=I=>g(S(I)),l=I=>E(I),e&&(p=I=>e(I))}let h=o.split(/\r?\n/),y=Math.max(this.line-3,0),v=Math.min(this.line+2,h.length),m=String(v).length;return h.slice(y,v).map((g,E)=>{let S=y+1+E,I=" "+(" "+S).slice(-m)+" | ";if(S===this.line){if(g.length>160){let C=20,D=Math.max(0,this.column-C),A=Math.max(this.column+C,this.endColumn+C),R=g.slice(D,A),F=l(I.replace(/\d/g," "))+g.slice(0,Math.min(this.column-1,C-1)).replace(/[^\t]/g," ");return f(">")+l(I)+p(R)+`
 `+F+f("^")}let T=l(I.replace(/\d/g," "))+g.slice(0,this.column-1).replace(/[^\t]/g," ");return f(">")+l(I)+p(g)+`
 `+T+f("^")}return" "+l(I)+p(g)}).join(`
`)}toString(){let u=this.showSourceCode();return u&&(u=`

`+u+`
`),this.name+": "+this.message+u}}return Vh=t,t.default=t,Vh}var Uh,w_;function Lw(){if(w_)return Uh;w_=1;const n={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function e(i){return i[0].toUpperCase()+i.slice(1)}class t{constructor(u){this.builder=u}atrule(u,o){let l="@"+u.name,f=u.params?this.rawValue(u,"params"):"";if(typeof u.raws.afterName<"u"?l+=u.raws.afterName:f&&(l+=" "),u.nodes)this.block(u,l+f);else{let p=(u.raws.between||"")+(o?";":"");this.builder(l+f+p,u)}}beforeAfter(u,o){let l;u.type==="decl"?l=this.raw(u,null,"beforeDecl"):u.type==="comment"?l=this.raw(u,null,"beforeComment"):o==="before"?l=this.raw(u,null,"beforeRule"):l=this.raw(u,null,"beforeClose");let f=u.parent,p=0;for(;f&&f.type!=="root";)p+=1,f=f.parent;if(l.includes(`
`)){let h=this.raw(u,null,"indent");if(h.length)for(let y=0;y<p;y++)l+=h}return l}block(u,o){let l=this.raw(u,"between","beforeOpen");this.builder(o+l+"{",u,"start");let f;u.nodes&&u.nodes.length?(this.body(u),f=this.raw(u,"after")):f=this.raw(u,"after","emptyBody"),f&&this.builder(f),this.builder("}",u,"end")}body(u){let o=u.nodes.length-1;for(;o>0&&u.nodes[o].type==="comment";)o-=1;let l=this.raw(u,"semicolon");for(let f=0;f<u.nodes.length;f++){let p=u.nodes[f],h=this.raw(p,"before");h&&this.builder(h),this.stringify(p,o!==f||l)}}comment(u){let o=this.raw(u,"left","commentLeft"),l=this.raw(u,"right","commentRight");this.builder("/*"+o+u.text+l+"*/",u)}decl(u,o){let l=this.raw(u,"between","colon"),f=u.prop+l+this.rawValue(u,"value");u.important&&(f+=u.raws.important||" !important"),o&&(f+=";"),this.builder(f,u)}document(u){this.body(u)}raw(u,o,l){let f;if(l||(l=o),o&&(f=u.raws[o],typeof f<"u"))return f;let p=u.parent;if(l==="before"&&(!p||p.type==="root"&&p.first===u||p&&p.type==="document"))return"";if(!p)return n[l];let h=u.root();if(h.rawCache||(h.rawCache={}),typeof h.rawCache[l]<"u")return h.rawCache[l];if(l==="before"||l==="after")return this.beforeAfter(u,l);{let y="raw"+e(l);this[y]?f=this[y](h,u):h.walk(v=>{if(f=v.raws[o],typeof f<"u")return!1})}return typeof f>"u"&&(f=n[l]),h.rawCache[l]=f,f}rawBeforeClose(u){let o;return u.walk(l=>{if(l.nodes&&l.nodes.length>0&&typeof l.raws.after<"u")return o=l.raws.after,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),o&&(o=o.replace(/\S/g,"")),o}rawBeforeComment(u,o){let l;return u.walkComments(f=>{if(typeof f.raws.before<"u")return l=f.raws.before,l.includes(`
`)&&(l=l.replace(/[^\n]+$/,"")),!1}),typeof l>"u"?l=this.raw(o,null,"beforeDecl"):l&&(l=l.replace(/\S/g,"")),l}rawBeforeDecl(u,o){let l;return u.walkDecls(f=>{if(typeof f.raws.before<"u")return l=f.raws.before,l.includes(`
`)&&(l=l.replace(/[^\n]+$/,"")),!1}),typeof l>"u"?l=this.raw(o,null,"beforeRule"):l&&(l=l.replace(/\S/g,"")),l}rawBeforeOpen(u){let o;return u.walk(l=>{if(l.type!=="decl"&&(o=l.raws.between,typeof o<"u"))return!1}),o}rawBeforeRule(u){let o;return u.walk(l=>{if(l.nodes&&(l.parent!==u||u.first!==l)&&typeof l.raws.before<"u")return o=l.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),o&&(o=o.replace(/\S/g,"")),o}rawColon(u){let o;return u.walkDecls(l=>{if(typeof l.raws.between<"u")return o=l.raws.between.replace(/[^\s:]/g,""),!1}),o}rawEmptyBody(u){let o;return u.walk(l=>{if(l.nodes&&l.nodes.length===0&&(o=l.raws.after,typeof o<"u"))return!1}),o}rawIndent(u){if(u.raws.indent)return u.raws.indent;let o;return u.walk(l=>{let f=l.parent;if(f&&f!==u&&f.parent&&f.parent===u&&typeof l.raws.before<"u"){let p=l.raws.before.split(`
`);return o=p[p.length-1],o=o.replace(/\S/g,""),!1}}),o}rawSemicolon(u){let o;return u.walk(l=>{if(l.nodes&&l.nodes.length&&l.last.type==="decl"&&(o=l.raws.semicolon,typeof o<"u"))return!1}),o}rawValue(u,o){let l=u[o],f=u.raws[o];return f&&f.value===l?f.raw:l}root(u){this.body(u),u.raws.after&&this.builder(u.raws.after)}rule(u){this.block(u,this.rawValue(u,"selector")),u.raws.ownSemicolon&&this.builder(u.raws.ownSemicolon,u,"end")}stringify(u,o){if(!this[u.type])throw new Error("Unknown AST node type "+u.type+". Maybe you need to change PostCSS stringifier.");this[u.type](u,o)}}return Uh=t,t.default=t,Uh}var jh,b_;function Rf(){if(b_)return jh;b_=1;let n=Lw();function e(t,i){new n(i).stringify(t)}return jh=e,e.default=e,jh}var wc={},E_;function F0(){return E_||(E_=1,wc.isClean=Symbol("isClean"),wc.my=Symbol("my")),wc}var Fh,T_;function Cf(){if(T_)return Fh;T_=1;let n=j0(),e=Lw(),t=Rf(),{isClean:i,my:u}=F0();function o(p,h){let y=new p.constructor;for(let v in p){if(!Object.prototype.hasOwnProperty.call(p,v)||v==="proxyCache")continue;let m=p[v],g=typeof m;v==="parent"&&g==="object"?h&&(y[v]=h):v==="source"?y[v]=m:Array.isArray(m)?y[v]=m.map(E=>o(E,y)):(g==="object"&&m!==null&&(m=o(m)),y[v]=m)}return y}function l(p,h){if(h&&typeof h.offset<"u")return h.offset;let y=1,v=1,m=0;for(let g=0;g<p.length;g++){if(v===h.line&&y===h.column){m=g;break}p[g]===`
`?(y=1,v+=1):y+=1}return m}class f{constructor(h={}){this.raws={},this[i]=!1,this[u]=!0;for(let y in h)if(y==="nodes"){this.nodes=[];for(let v of h[y])typeof v.clone=="function"?this.append(v.clone()):this.append(v)}else this[y]=h[y]}addToError(h){if(h.postcssNode=this,h.stack&&this.source&&/\n\s{4}at /.test(h.stack)){let y=this.source;h.stack=h.stack.replace(/\n\s{4}at /,`$&${y.input.from}:${y.start.line}:${y.start.column}$&`)}return h}after(h){return this.parent.insertAfter(this,h),this}assign(h={}){for(let y in h)this[y]=h[y];return this}before(h){return this.parent.insertBefore(this,h),this}cleanRaws(h){delete this.raws.before,delete this.raws.after,h||delete this.raws.between}clone(h={}){let y=o(this);for(let v in h)y[v]=h[v];return y}cloneAfter(h={}){let y=this.clone(h);return this.parent.insertAfter(this,y),y}cloneBefore(h={}){let y=this.clone(h);return this.parent.insertBefore(this,y),y}error(h,y={}){if(this.source){let{end:v,start:m}=this.rangeBy(y);return this.source.input.error(h,{column:m.column,line:m.line},{column:v.column,line:v.line},y)}return new n(h)}getProxyProcessor(){return{get(h,y){return y==="proxyOf"?h:y==="root"?()=>h.root().toProxy():h[y]},set(h,y,v){return h[y]===v||(h[y]=v,(y==="prop"||y==="value"||y==="name"||y==="params"||y==="important"||y==="text")&&h.markDirty()),!0}}}markClean(){this[i]=!0}markDirty(){if(this[i]){this[i]=!1;let h=this;for(;h=h.parent;)h[i]=!1}}next(){if(!this.parent)return;let h=this.parent.index(this);return this.parent.nodes[h+1]}positionBy(h){let y=this.source.start;if(h.index)y=this.positionInside(h.index);else if(h.word){let v="document"in this.source.input?this.source.input.document:this.source.input.css,g=v.slice(l(v,this.source.start),l(v,this.source.end)).indexOf(h.word);g!==-1&&(y=this.positionInside(g))}return y}positionInside(h){let y=this.source.start.column,v=this.source.start.line,m="document"in this.source.input?this.source.input.document:this.source.input.css,g=l(m,this.source.start),E=g+h;for(let S=g;S<E;S++)m[S]===`
`?(y=1,v+=1):y+=1;return{column:y,line:v}}prev(){if(!this.parent)return;let h=this.parent.index(this);return this.parent.nodes[h-1]}rangeBy(h){let y={column:this.source.start.column,line:this.source.start.line},v=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:y.column+1,line:y.line};if(h.word){let m="document"in this.source.input?this.source.input.document:this.source.input.css,E=m.slice(l(m,this.source.start),l(m,this.source.end)).indexOf(h.word);E!==-1&&(y=this.positionInside(E),v=this.positionInside(E+h.word.length))}else h.start?y={column:h.start.column,line:h.start.line}:h.index&&(y=this.positionInside(h.index)),h.end?v={column:h.end.column,line:h.end.line}:typeof h.endIndex=="number"?v=this.positionInside(h.endIndex):h.index&&(v=this.positionInside(h.index+1));return(v.line<y.line||v.line===y.line&&v.column<=y.column)&&(v={column:y.column+1,line:y.line}),{end:v,start:y}}raw(h,y){return new e().raw(this,h,y)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...h){if(this.parent){let y=this,v=!1;for(let m of h)m===this?v=!0:v?(this.parent.insertAfter(y,m),y=m):this.parent.insertBefore(y,m);v||this.remove()}return this}root(){let h=this;for(;h.parent&&h.parent.type!=="document";)h=h.parent;return h}toJSON(h,y){let v={},m=y==null;y=y||new Map;let g=0;for(let E in this){if(!Object.prototype.hasOwnProperty.call(this,E)||E==="parent"||E==="proxyCache")continue;let S=this[E];if(Array.isArray(S))v[E]=S.map(I=>typeof I=="object"&&I.toJSON?I.toJSON(null,y):I);else if(typeof S=="object"&&S.toJSON)v[E]=S.toJSON(null,y);else if(E==="source"){let I=y.get(S.input);I==null&&(I=g,y.set(S.input,g),g++),v[E]={end:S.end,inputId:I,start:S.start}}else v[E]=S}return m&&(v.inputs=[...y.keys()].map(E=>E.toJSON())),v}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(h=t){h.stringify&&(h=h.stringify);let y="";return h(this,v=>{y+=v}),y}warn(h,y,v){let m={node:this};for(let g in v)m[g]=v[g];return h.warn(y,m)}get proxyOf(){return this}}return Fh=f,f.default=f,Fh}var Bh,S_;function Pf(){if(S_)return Bh;S_=1;let n=Cf();class e extends n{constructor(i){super(i),this.type="comment"}}return Bh=e,e.default=e,Bh}var qh,I_;function kf(){if(I_)return qh;I_=1;let n=Cf();class e extends n{constructor(i){i&&typeof i.value<"u"&&typeof i.value!="string"&&(i={...i,value:String(i.value)}),super(i),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}return qh=e,e.default=e,qh}var zh,x_;function $s(){if(x_)return zh;x_=1;let n=Pf(),e=kf(),t=Cf(),{isClean:i,my:u}=F0(),o,l,f,p;function h(m){return m.map(g=>(g.nodes&&(g.nodes=h(g.nodes)),delete g.source,g))}function y(m){if(m[i]=!1,m.proxyOf.nodes)for(let g of m.proxyOf.nodes)y(g)}class v extends t{append(...g){for(let E of g){let S=this.normalize(E,this.last);for(let I of S)this.proxyOf.nodes.push(I)}return this.markDirty(),this}cleanRaws(g){if(super.cleanRaws(g),this.nodes)for(let E of this.nodes)E.cleanRaws(g)}each(g){if(!this.proxyOf.nodes)return;let E=this.getIterator(),S,I;for(;this.indexes[E]<this.proxyOf.nodes.length&&(S=this.indexes[E],I=g(this.proxyOf.nodes[S],S),I!==!1);)this.indexes[E]+=1;return delete this.indexes[E],I}every(g){return this.nodes.every(g)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let g=this.lastEach;return this.indexes[g]=0,g}getProxyProcessor(){return{get(g,E){return E==="proxyOf"?g:g[E]?E==="each"||typeof E=="string"&&E.startsWith("walk")?(...S)=>g[E](...S.map(I=>typeof I=="function"?(T,C)=>I(T.toProxy(),C):I)):E==="every"||E==="some"?S=>g[E]((I,...T)=>S(I.toProxy(),...T)):E==="root"?()=>g.root().toProxy():E==="nodes"?g.nodes.map(S=>S.toProxy()):E==="first"||E==="last"?g[E].toProxy():g[E]:g[E]},set(g,E,S){return g[E]===S||(g[E]=S,(E==="name"||E==="params"||E==="selector")&&g.markDirty()),!0}}}index(g){return typeof g=="number"?g:(g.proxyOf&&(g=g.proxyOf),this.proxyOf.nodes.indexOf(g))}insertAfter(g,E){let S=this.index(g),I=this.normalize(E,this.proxyOf.nodes[S]).reverse();S=this.index(g);for(let C of I)this.proxyOf.nodes.splice(S+1,0,C);let T;for(let C in this.indexes)T=this.indexes[C],S<T&&(this.indexes[C]=T+I.length);return this.markDirty(),this}insertBefore(g,E){let S=this.index(g),I=S===0?"prepend":!1,T=this.normalize(E,this.proxyOf.nodes[S],I).reverse();S=this.index(g);for(let D of T)this.proxyOf.nodes.splice(S,0,D);let C;for(let D in this.indexes)C=this.indexes[D],S<=C&&(this.indexes[D]=C+T.length);return this.markDirty(),this}normalize(g,E){if(typeof g=="string")g=h(l(g).nodes);else if(typeof g>"u")g=[];else if(Array.isArray(g)){g=g.slice(0);for(let I of g)I.parent&&I.parent.removeChild(I,"ignore")}else if(g.type==="root"&&this.type!=="document"){g=g.nodes.slice(0);for(let I of g)I.parent&&I.parent.removeChild(I,"ignore")}else if(g.type)g=[g];else if(g.prop){if(typeof g.value>"u")throw new Error("Value field is missed in node creation");typeof g.value!="string"&&(g.value=String(g.value)),g=[new e(g)]}else if(g.selector||g.selectors)g=[new p(g)];else if(g.name)g=[new o(g)];else if(g.text)g=[new n(g)];else throw new Error("Unknown node type in node creation");return g.map(I=>(I[u]||v.rebuild(I),I=I.proxyOf,I.parent&&I.parent.removeChild(I),I[i]&&y(I),I.raws||(I.raws={}),typeof I.raws.before>"u"&&E&&typeof E.raws.before<"u"&&(I.raws.before=E.raws.before.replace(/\S/g,"")),I.parent=this.proxyOf,I))}prepend(...g){g=g.reverse();for(let E of g){let S=this.normalize(E,this.first,"prepend").reverse();for(let I of S)this.proxyOf.nodes.unshift(I);for(let I in this.indexes)this.indexes[I]=this.indexes[I]+S.length}return this.markDirty(),this}push(g){return g.parent=this,this.proxyOf.nodes.push(g),this}removeAll(){for(let g of this.proxyOf.nodes)g.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(g){g=this.index(g),this.proxyOf.nodes[g].parent=void 0,this.proxyOf.nodes.splice(g,1);let E;for(let S in this.indexes)E=this.indexes[S],E>=g&&(this.indexes[S]=E-1);return this.markDirty(),this}replaceValues(g,E,S){return S||(S=E,E={}),this.walkDecls(I=>{E.props&&!E.props.includes(I.prop)||E.fast&&!I.value.includes(E.fast)||(I.value=I.value.replace(g,S))}),this.markDirty(),this}some(g){return this.nodes.some(g)}walk(g){return this.each((E,S)=>{let I;try{I=g(E,S)}catch(T){throw E.addToError(T)}return I!==!1&&E.walk&&(I=E.walk(g)),I})}walkAtRules(g,E){return E?g instanceof RegExp?this.walk((S,I)=>{if(S.type==="atrule"&&g.test(S.name))return E(S,I)}):this.walk((S,I)=>{if(S.type==="atrule"&&S.name===g)return E(S,I)}):(E=g,this.walk((S,I)=>{if(S.type==="atrule")return E(S,I)}))}walkComments(g){return this.walk((E,S)=>{if(E.type==="comment")return g(E,S)})}walkDecls(g,E){return E?g instanceof RegExp?this.walk((S,I)=>{if(S.type==="decl"&&g.test(S.prop))return E(S,I)}):this.walk((S,I)=>{if(S.type==="decl"&&S.prop===g)return E(S,I)}):(E=g,this.walk((S,I)=>{if(S.type==="decl")return E(S,I)}))}walkRules(g,E){return E?g instanceof RegExp?this.walk((S,I)=>{if(S.type==="rule"&&g.test(S.selector))return E(S,I)}):this.walk((S,I)=>{if(S.type==="rule"&&S.selector===g)return E(S,I)}):(E=g,this.walk((S,I)=>{if(S.type==="rule")return E(S,I)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}return v.registerParse=m=>{l=m},v.registerRule=m=>{p=m},v.registerAtRule=m=>{o=m},v.registerRoot=m=>{f=m},zh=v,v.default=v,v.rebuild=m=>{m.type==="atrule"?Object.setPrototypeOf(m,o.prototype):m.type==="rule"?Object.setPrototypeOf(m,p.prototype):m.type==="decl"?Object.setPrototypeOf(m,e.prototype):m.type==="comment"?Object.setPrototypeOf(m,n.prototype):m.type==="root"&&Object.setPrototypeOf(m,f.prototype),m[u]=!0,m.nodes&&m.nodes.forEach(g=>{v.rebuild(g)})},zh}var Hh,A_;function B0(){if(A_)return Hh;A_=1;let n=$s();class e extends n{constructor(i){super(i),this.type="atrule"}append(...i){return this.proxyOf.nodes||(this.nodes=[]),super.append(...i)}prepend(...i){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...i)}}return Hh=e,e.default=e,n.registerAtRule(e),Hh}var $h,R_;function q0(){if(R_)return $h;R_=1;let n=$s(),e,t;class i extends n{constructor(o){super({type:"document",...o}),this.nodes||(this.nodes=[])}toResult(o={}){return new e(new t,this,o).stringify()}}return i.registerLazyResult=u=>{e=u},i.registerProcessor=u=>{t=u},$h=i,i.default=i,$h}var Wh,C_;function W4(){if(C_)return Wh;C_=1;let n="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return Wh={nanoid:(i=21)=>{let u="",o=i|0;for(;o--;)u+=n[Math.random()*64|0];return u},customAlphabet:(i,u=21)=>(o=u)=>{let l="",f=o|0;for(;f--;)l+=i[Math.random()*i.length|0];return l}},Wh}var Gh,P_;function Mw(){if(P_)return Gh;P_=1;let{existsSync:n,readFileSync:e}=Zn,{dirname:t,join:i}=Zn,{SourceMapConsumer:u,SourceMapGenerator:o}=Zn;function l(p){return Buffer?Buffer.from(p,"base64").toString():window.atob(p)}class f{constructor(h,y){if(y.map===!1)return;this.loadAnnotation(h),this.inline=this.startWith(this.annotation,"data:");let v=y.map?y.map.prev:void 0,m=this.loadMap(y.from,v);!this.mapFile&&y.from&&(this.mapFile=y.from),this.mapFile&&(this.root=t(this.mapFile)),m&&(this.text=m)}consumer(){return this.consumerCache||(this.consumerCache=new u(this.text)),this.consumerCache}decodeInline(h){let y=/^data:application\/json;charset=utf-?8;base64,/,v=/^data:application\/json;base64,/,m=/^data:application\/json;charset=utf-?8,/,g=/^data:application\/json,/,E=h.match(m)||h.match(g);if(E)return decodeURIComponent(h.substr(E[0].length));let S=h.match(y)||h.match(v);if(S)return l(h.substr(S[0].length));let I=h.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+I)}getAnnotationURL(h){return h.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(h){return typeof h!="object"?!1:typeof h.mappings=="string"||typeof h._mappings=="string"||Array.isArray(h.sections)}loadAnnotation(h){let y=h.match(/\/\*\s*# sourceMappingURL=/g);if(!y)return;let v=h.lastIndexOf(y.pop()),m=h.indexOf("*/",v);v>-1&&m>-1&&(this.annotation=this.getAnnotationURL(h.substring(v,m)))}loadFile(h){if(this.root=t(h),n(h))return this.mapFile=h,e(h,"utf-8").toString().trim()}loadMap(h,y){if(y===!1)return!1;if(y){if(typeof y=="string")return y;if(typeof y=="function"){let v=y(h);if(v){let m=this.loadFile(v);if(!m)throw new Error("Unable to load previous source map: "+v.toString());return m}}else{if(y instanceof u)return o.fromSourceMap(y).toString();if(y instanceof o)return y.toString();if(this.isMap(y))return JSON.stringify(y);throw new Error("Unsupported previous source map format: "+y.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let v=this.annotation;return h&&(v=i(t(h),v)),this.loadFile(v)}}}startWith(h,y){return h?h.substr(0,y.length)===y:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return Gh=f,f.default=f,Gh}var Kh,k_;function Nf(){if(k_)return Kh;k_=1;let{nanoid:n}=W4(),{isAbsolute:e,resolve:t}=Zn,{SourceMapConsumer:i,SourceMapGenerator:u}=Zn,{fileURLToPath:o,pathToFileURL:l}=Zn,f=j0(),p=Mw(),h=Zn,y=Symbol("fromOffsetCache"),v=!!(i&&u),m=!!(t&&e);class g{constructor(S,I={}){if(S===null||typeof S>"u"||typeof S=="object"&&!S.toString)throw new Error(`PostCSS received ${S} instead of CSS string`);if(this.css=S.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,I.document&&(this.document=I.document.toString()),I.from&&(!m||/^\w+:\/\//.test(I.from)||e(I.from)?this.file=I.from:this.file=t(I.from)),m&&v){let T=new p(this.css,I);if(T.text){this.map=T;let C=T.consumer().file;!this.file&&C&&(this.file=this.mapResolve(C))}}this.file||(this.id="<input css "+n(6)+">"),this.map&&(this.map.file=this.from)}error(S,I,T,C={}){let D,A,R;if(I&&typeof I=="object"){let k=I,P=T;if(typeof k.offset=="number"){let L=this.fromOffset(k.offset);I=L.line,T=L.col}else I=k.line,T=k.column;if(typeof P.offset=="number"){let L=this.fromOffset(P.offset);A=L.line,D=L.col}else A=P.line,D=P.column}else if(!T){let k=this.fromOffset(I);I=k.line,T=k.col}let F=this.origin(I,T,A,D);return F?R=new f(S,F.endLine===void 0?F.line:{column:F.column,line:F.line},F.endLine===void 0?F.column:{column:F.endColumn,line:F.endLine},F.source,F.file,C.plugin):R=new f(S,A===void 0?I:{column:T,line:I},A===void 0?T:{column:D,line:A},this.css,this.file,C.plugin),R.input={column:T,endColumn:D,endLine:A,line:I,source:this.css},this.file&&(l&&(R.input.url=l(this.file).toString()),R.input.file=this.file),R}fromOffset(S){let I,T;if(this[y])T=this[y];else{let D=this.css.split(`
`);T=new Array(D.length);let A=0;for(let R=0,F=D.length;R<F;R++)T[R]=A,A+=D[R].length+1;this[y]=T}I=T[T.length-1];let C=0;if(S>=I)C=T.length-1;else{let D=T.length-2,A;for(;C<D;)if(A=C+(D-C>>1),S<T[A])D=A-1;else if(S>=T[A+1])C=A+1;else{C=A;break}}return{col:S-T[C]+1,line:C+1}}mapResolve(S){return/^\w+:\/\//.test(S)?S:t(this.map.consumer().sourceRoot||this.map.root||".",S)}origin(S,I,T,C){if(!this.map)return!1;let D=this.map.consumer(),A=D.originalPositionFor({column:I,line:S});if(!A.source)return!1;let R;typeof T=="number"&&(R=D.originalPositionFor({column:C,line:T}));let F;e(A.source)?F=l(A.source):F=new URL(A.source,this.map.consumer().sourceRoot||l(this.map.mapFile));let k={column:A.column,endColumn:R&&R.column,endLine:R&&R.line,line:A.line,url:F.toString()};if(F.protocol==="file:")if(o)k.file=o(F);else throw new Error("file: protocol is not available in this PostCSS build");let P=D.sourceContentFor(A.source);return P&&(k.source=P),k}toJSON(){let S={};for(let I of["hasBOM","css","file","id"])this[I]!=null&&(S[I]=this[I]);return this.map&&(S.map={...this.map},S.map.consumerCache&&(S.map.consumerCache=void 0)),S}get from(){return this.file||this.id}}return Kh=g,g.default=g,h&&h.registerInput&&h.registerInput(g),Kh}var Qh,N_;function $a(){if(N_)return Qh;N_=1;let n=$s(),e,t;class i extends n{constructor(o){super(o),this.type="root",this.nodes||(this.nodes=[])}normalize(o,l,f){let p=super.normalize(o);if(l){if(f==="prepend")this.nodes.length>1?l.raws.before=this.nodes[1].raws.before:delete l.raws.before;else if(this.first!==l)for(let h of p)h.raws.before=l.raws.before}return p}removeChild(o,l){let f=this.index(o);return!l&&f===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[f].raws.before),super.removeChild(o)}toResult(o={}){return new e(new t,this,o).stringify()}}return i.registerLazyResult=u=>{e=u},i.registerProcessor=u=>{t=u},Qh=i,i.default=i,n.registerRoot(i),Qh}var Yh,D_;function Vw(){if(D_)return Yh;D_=1;let n={comma(e){return n.split(e,[","],!0)},space(e){let t=[" ",`
`,"	"];return n.split(e,t)},split(e,t,i){let u=[],o="",l=!1,f=0,p=!1,h="",y=!1;for(let v of e)y?y=!1:v==="\\"?y=!0:p?v===h&&(p=!1):v==='"'||v==="'"?(p=!0,h=v):v==="("?f+=1:v===")"?f>0&&(f-=1):f===0&&t.includes(v)&&(l=!0),l?(o!==""&&u.push(o.trim()),o="",l=!1):o+=v;return(i||o!=="")&&u.push(o.trim()),u}};return Yh=n,n.default=n,Yh}var Xh,O_;function z0(){if(O_)return Xh;O_=1;let n=$s(),e=Vw();class t extends n{constructor(u){super(u),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return e.comma(this.selector)}set selectors(u){let o=this.selector?this.selector.match(/,\s*/):null,l=o?o[0]:","+this.raw("between","beforeOpen");this.selector=u.join(l)}}return Xh=t,t.default=t,n.registerRule(t),Xh}var Jh,L_;function G4(){if(L_)return Jh;L_=1;let n=B0(),e=Pf(),t=kf(),i=Nf(),u=Mw(),o=$a(),l=z0();function f(p,h){if(Array.isArray(p))return p.map(m=>f(m));let{inputs:y,...v}=p;if(y){h=[];for(let m of y){let g={...m,__proto__:i.prototype};g.map&&(g.map={...g.map,__proto__:u.prototype}),h.push(g)}}if(v.nodes&&(v.nodes=p.nodes.map(m=>f(m,h))),v.source){let{inputId:m,...g}=v.source;v.source=g,m!=null&&(v.source.input=h[m])}if(v.type==="root")return new o(v);if(v.type==="decl")return new t(v);if(v.type==="rule")return new l(v);if(v.type==="comment")return new e(v);if(v.type==="atrule")return new n(v);throw new Error("Unknown node type: "+p.type)}return Jh=f,f.default=f,Jh}var Zh,M_;function Uw(){if(M_)return Zh;M_=1;let{dirname:n,relative:e,resolve:t,sep:i}=Zn,{SourceMapConsumer:u,SourceMapGenerator:o}=Zn,{pathToFileURL:l}=Zn,f=Nf(),p=!!(u&&o),h=!!(n&&t&&e&&i);class y{constructor(m,g,E,S){this.stringify=m,this.mapOpts=E.map||{},this.root=g,this.opts=E,this.css=S,this.originalCSS=S,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let m;this.isInline()?m="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?m=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?m=this.mapOpts.annotation(this.opts.to,this.root):m=this.outputFile()+".map";let g=`
`;this.css.includes(`\r
`)&&(g=`\r
`),this.css+=g+"/*# sourceMappingURL="+m+" */"}applyPrevMaps(){for(let m of this.previous()){let g=this.toUrl(this.path(m.file)),E=m.root||n(m.file),S;this.mapOpts.sourcesContent===!1?(S=new u(m.text),S.sourcesContent&&(S.sourcesContent=null)):S=m.consumer(),this.map.applySourceMap(S,g,this.toUrl(this.path(E)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let m;for(let g=this.root.nodes.length-1;g>=0;g--)m=this.root.nodes[g],m.type==="comment"&&m.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(g)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),h&&p&&this.isMap())return this.generateMap();{let m="";return this.stringify(this.root,g=>{m+=g}),[m]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let m=this.previous()[0].consumer();m.file=this.outputFile(),this.map=o.fromSourceMap(m,{ignoreInvalidMapping:!0})}else this.map=new o({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new o({file:this.outputFile(),ignoreInvalidMapping:!0});let m=1,g=1,E="<no source>",S={generated:{column:0,line:0},original:{column:0,line:0},source:""},I,T;this.stringify(this.root,(C,D,A)=>{if(this.css+=C,D&&A!=="end"&&(S.generated.line=m,S.generated.column=g-1,D.source&&D.source.start?(S.source=this.sourcePath(D),S.original.line=D.source.start.line,S.original.column=D.source.start.column-1,this.map.addMapping(S)):(S.source=E,S.original.line=1,S.original.column=0,this.map.addMapping(S))),T=C.match(/\n/g),T?(m+=T.length,I=C.lastIndexOf(`
`),g=C.length-I):g+=C.length,D&&A!=="start"){let R=D.parent||{raws:{}};(!(D.type==="decl"||D.type==="atrule"&&!D.nodes)||D!==R.last||R.raws.semicolon)&&(D.source&&D.source.end?(S.source=this.sourcePath(D),S.original.line=D.source.end.line,S.original.column=D.source.end.column-1,S.generated.line=m,S.generated.column=g-2,this.map.addMapping(S)):(S.source=E,S.original.line=1,S.original.column=0,S.generated.line=m,S.generated.column=g-1,this.map.addMapping(S)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(m=>m.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let m=this.mapOpts.annotation;return typeof m<"u"&&m!==!0?!1:this.previous().length?this.previous().some(g=>g.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(m=>m.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(m){if(this.mapOpts.absolute||m.charCodeAt(0)===60||/^\w+:\/\//.test(m))return m;let g=this.memoizedPaths.get(m);if(g)return g;let E=this.opts.to?n(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(E=n(t(E,this.mapOpts.annotation)));let S=e(E,m);return this.memoizedPaths.set(m,S),S}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(m=>{if(m.source&&m.source.input.map){let g=m.source.input.map;this.previousMaps.includes(g)||this.previousMaps.push(g)}});else{let m=new f(this.originalCSS,this.opts);m.map&&this.previousMaps.push(m.map)}return this.previousMaps}setSourcesContent(){let m={};if(this.root)this.root.walk(g=>{if(g.source){let E=g.source.input.from;if(E&&!m[E]){m[E]=!0;let S=this.usesFileUrls?this.toFileUrl(E):this.toUrl(this.path(E));this.map.setSourceContent(S,g.source.input.css)}}});else if(this.css){let g=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(g,this.css)}}sourcePath(m){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(m.source.input.from):this.toUrl(this.path(m.source.input.from))}toBase64(m){return Buffer?Buffer.from(m).toString("base64"):window.btoa(unescape(encodeURIComponent(m)))}toFileUrl(m){let g=this.memoizedFileURLs.get(m);if(g)return g;if(l){let E=l(m).toString();return this.memoizedFileURLs.set(m,E),E}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(m){let g=this.memoizedURLs.get(m);if(g)return g;i==="\\"&&(m=m.replace(/\\/g,"/"));let E=encodeURI(m).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(m,E),E}}return Zh=y,Zh}var ep,V_;function K4(){if(V_)return ep;V_=1;const n=39,e=34,t=92,i=47,u=10,o=32,l=12,f=9,p=13,h=91,y=93,v=40,m=41,g=123,E=125,S=59,I=42,T=58,C=64,D=/[\t\n\f\r "#'()/;[\\\]{}]/g,A=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,R=/.[\r\n"'(/\\]/,F=/[\da-f]/i;return ep=function(P,L={}){let U=P.css.valueOf(),O=L.ignoreErrors,j,V,fe,J,Te,we,re,he,le,$,Z=U.length,ie=0,Ae=[],Ne=[];function Le(){return ie}function Fe(ee){throw P.error("Unclosed "+ee,ie)}function ze(){return Ne.length===0&&ie>=Z}function Je(ee){if(Ne.length)return Ne.pop();if(ie>=Z)return;let pe=ee?ee.ignoreUnclosed:!1;switch(j=U.charCodeAt(ie),j){case u:case o:case f:case p:case l:{J=ie;do J+=1,j=U.charCodeAt(J);while(j===o||j===u||j===f||j===p||j===l);we=["space",U.slice(ie,J)],ie=J-1;break}case h:case y:case g:case E:case T:case S:case m:{let ae=String.fromCharCode(j);we=[ae,ae,ie];break}case v:{if($=Ae.length?Ae.pop()[1]:"",le=U.charCodeAt(ie+1),$==="url"&&le!==n&&le!==e&&le!==o&&le!==u&&le!==f&&le!==l&&le!==p){J=ie;do{if(re=!1,J=U.indexOf(")",J+1),J===-1)if(O||pe){J=ie;break}else Fe("bracket");for(he=J;U.charCodeAt(he-1)===t;)he-=1,re=!re}while(re);we=["brackets",U.slice(ie,J+1),ie,J],ie=J}else J=U.indexOf(")",ie+1),V=U.slice(ie,J+1),J===-1||R.test(V)?we=["(","(",ie]:(we=["brackets",V,ie,J],ie=J);break}case n:case e:{Te=j===n?"'":'"',J=ie;do{if(re=!1,J=U.indexOf(Te,J+1),J===-1)if(O||pe){J=ie+1;break}else Fe("string");for(he=J;U.charCodeAt(he-1)===t;)he-=1,re=!re}while(re);we=["string",U.slice(ie,J+1),ie,J],ie=J;break}case C:{D.lastIndex=ie+1,D.test(U),D.lastIndex===0?J=U.length-1:J=D.lastIndex-2,we=["at-word",U.slice(ie,J+1),ie,J],ie=J;break}case t:{for(J=ie,fe=!0;U.charCodeAt(J+1)===t;)J+=1,fe=!fe;if(j=U.charCodeAt(J+1),fe&&j!==i&&j!==o&&j!==u&&j!==f&&j!==p&&j!==l&&(J+=1,F.test(U.charAt(J)))){for(;F.test(U.charAt(J+1));)J+=1;U.charCodeAt(J+1)===o&&(J+=1)}we=["word",U.slice(ie,J+1),ie,J],ie=J;break}default:{j===i&&U.charCodeAt(ie+1)===I?(J=U.indexOf("*/",ie+2)+1,J===0&&(O||pe?J=U.length:Fe("comment")),we=["comment",U.slice(ie,J+1),ie,J],ie=J):(A.lastIndex=ie+1,A.test(U),A.lastIndex===0?J=U.length-1:J=A.lastIndex-2,we=["word",U.slice(ie,J+1),ie,J],Ae.push(we),ie=J);break}}return ie++,we}function ct(ee){Ne.push(ee)}return{back:ct,endOfFile:ze,nextToken:Je,position:Le}},ep}var tp,U_;function Q4(){if(U_)return tp;U_=1;let n=B0(),e=Pf(),t=kf(),i=$a(),u=z0(),o=K4();const l={empty:!0,space:!0};function f(h){for(let y=h.length-1;y>=0;y--){let v=h[y],m=v[3]||v[2];if(m)return m}}class p{constructor(y){this.input=y,this.root=new i,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:y,start:{column:1,line:1,offset:0}}}atrule(y){let v=new n;v.name=y[1].slice(1),v.name===""&&this.unnamedAtrule(v,y),this.init(v,y[2]);let m,g,E,S=!1,I=!1,T=[],C=[];for(;!this.tokenizer.endOfFile();){if(y=this.tokenizer.nextToken(),m=y[0],m==="("||m==="["?C.push(m==="("?")":"]"):m==="{"&&C.length>0?C.push("}"):m===C[C.length-1]&&C.pop(),C.length===0)if(m===";"){v.source.end=this.getPosition(y[2]),v.source.end.offset++,this.semicolon=!0;break}else if(m==="{"){I=!0;break}else if(m==="}"){if(T.length>0){for(E=T.length-1,g=T[E];g&&g[0]==="space";)g=T[--E];g&&(v.source.end=this.getPosition(g[3]||g[2]),v.source.end.offset++)}this.end(y);break}else T.push(y);else T.push(y);if(this.tokenizer.endOfFile()){S=!0;break}}v.raws.between=this.spacesAndCommentsFromEnd(T),T.length?(v.raws.afterName=this.spacesAndCommentsFromStart(T),this.raw(v,"params",T),S&&(y=T[T.length-1],v.source.end=this.getPosition(y[3]||y[2]),v.source.end.offset++,this.spaces=v.raws.between,v.raws.between="")):(v.raws.afterName="",v.params=""),I&&(v.nodes=[],this.current=v)}checkMissedSemicolon(y){let v=this.colon(y);if(v===!1)return;let m=0,g;for(let E=v-1;E>=0&&(g=y[E],!(g[0]!=="space"&&(m+=1,m===2)));E--);throw this.input.error("Missed semicolon",g[0]==="word"?g[3]+1:g[2])}colon(y){let v=0,m,g,E;for(let[S,I]of y.entries()){if(g=I,E=g[0],E==="("&&(v+=1),E===")"&&(v-=1),v===0&&E===":")if(!m)this.doubleColon(g);else{if(m[0]==="word"&&m[1]==="progid")continue;return S}m=g}return!1}comment(y){let v=new e;this.init(v,y[2]),v.source.end=this.getPosition(y[3]||y[2]),v.source.end.offset++;let m=y[1].slice(2,-2);if(/^\s*$/.test(m))v.text="",v.raws.left=m,v.raws.right="";else{let g=m.match(/^(\s*)([^]*\S)(\s*)$/);v.text=g[2],v.raws.left=g[1],v.raws.right=g[3]}}createTokenizer(){this.tokenizer=o(this.input)}decl(y,v){let m=new t;this.init(m,y[0][2]);let g=y[y.length-1];for(g[0]===";"&&(this.semicolon=!0,y.pop()),m.source.end=this.getPosition(g[3]||g[2]||f(y)),m.source.end.offset++;y[0][0]!=="word";)y.length===1&&this.unknownWord(y),m.raws.before+=y.shift()[1];for(m.source.start=this.getPosition(y[0][2]),m.prop="";y.length;){let C=y[0][0];if(C===":"||C==="space"||C==="comment")break;m.prop+=y.shift()[1]}m.raws.between="";let E;for(;y.length;)if(E=y.shift(),E[0]===":"){m.raws.between+=E[1];break}else E[0]==="word"&&/\w/.test(E[1])&&this.unknownWord([E]),m.raws.between+=E[1];(m.prop[0]==="_"||m.prop[0]==="*")&&(m.raws.before+=m.prop[0],m.prop=m.prop.slice(1));let S=[],I;for(;y.length&&(I=y[0][0],!(I!=="space"&&I!=="comment"));)S.push(y.shift());this.precheckMissedSemicolon(y);for(let C=y.length-1;C>=0;C--){if(E=y[C],E[1].toLowerCase()==="!important"){m.important=!0;let D=this.stringFrom(y,C);D=this.spacesFromEnd(y)+D,D!==" !important"&&(m.raws.important=D);break}else if(E[1].toLowerCase()==="important"){let D=y.slice(0),A="";for(let R=C;R>0;R--){let F=D[R][0];if(A.trim().startsWith("!")&&F!=="space")break;A=D.pop()[1]+A}A.trim().startsWith("!")&&(m.important=!0,m.raws.important=A,y=D)}if(E[0]!=="space"&&E[0]!=="comment")break}y.some(C=>C[0]!=="space"&&C[0]!=="comment")&&(m.raws.between+=S.map(C=>C[1]).join(""),S=[]),this.raw(m,"value",S.concat(y),v),m.value.includes(":")&&!v&&this.checkMissedSemicolon(y)}doubleColon(y){throw this.input.error("Double colon",{offset:y[2]},{offset:y[2]+y[1].length})}emptyRule(y){let v=new u;this.init(v,y[2]),v.selector="",v.raws.between="",this.current=v}end(y){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(y[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(y)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(y){if(this.spaces+=y[1],this.current.nodes){let v=this.current.nodes[this.current.nodes.length-1];v&&v.type==="rule"&&!v.raws.ownSemicolon&&(v.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(y){let v=this.input.fromOffset(y);return{column:v.col,line:v.line,offset:y}}init(y,v){this.current.push(y),y.source={input:this.input,start:this.getPosition(v)},y.raws.before=this.spaces,this.spaces="",y.type!=="comment"&&(this.semicolon=!1)}other(y){let v=!1,m=null,g=!1,E=null,S=[],I=y[1].startsWith("--"),T=[],C=y;for(;C;){if(m=C[0],T.push(C),m==="("||m==="[")E||(E=C),S.push(m==="("?")":"]");else if(I&&g&&m==="{")E||(E=C),S.push("}");else if(S.length===0)if(m===";")if(g){this.decl(T,I);return}else break;else if(m==="{"){this.rule(T);return}else if(m==="}"){this.tokenizer.back(T.pop()),v=!0;break}else m===":"&&(g=!0);else m===S[S.length-1]&&(S.pop(),S.length===0&&(E=null));C=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(v=!0),S.length>0&&this.unclosedBracket(E),v&&g){if(!I)for(;T.length&&(C=T[T.length-1][0],!(C!=="space"&&C!=="comment"));)this.tokenizer.back(T.pop());this.decl(T,I)}else this.unknownWord(T)}parse(){let y;for(;!this.tokenizer.endOfFile();)switch(y=this.tokenizer.nextToken(),y[0]){case"space":this.spaces+=y[1];break;case";":this.freeSemicolon(y);break;case"}":this.end(y);break;case"comment":this.comment(y);break;case"at-word":this.atrule(y);break;case"{":this.emptyRule(y);break;default:this.other(y);break}this.endFile()}precheckMissedSemicolon(){}raw(y,v,m,g){let E,S,I=m.length,T="",C=!0,D,A;for(let R=0;R<I;R+=1)E=m[R],S=E[0],S==="space"&&R===I-1&&!g?C=!1:S==="comment"?(A=m[R-1]?m[R-1][0]:"empty",D=m[R+1]?m[R+1][0]:"empty",!l[A]&&!l[D]?T.slice(-1)===","?C=!1:T+=E[1]:C=!1):T+=E[1];if(!C){let R=m.reduce((F,k)=>F+k[1],"");y.raws[v]={raw:R,value:T}}y[v]=T}rule(y){y.pop();let v=new u;this.init(v,y[0][2]),v.raws.between=this.spacesAndCommentsFromEnd(y),this.raw(v,"selector",y),this.current=v}spacesAndCommentsFromEnd(y){let v,m="";for(;y.length&&(v=y[y.length-1][0],!(v!=="space"&&v!=="comment"));)m=y.pop()[1]+m;return m}spacesAndCommentsFromStart(y){let v,m="";for(;y.length&&(v=y[0][0],!(v!=="space"&&v!=="comment"));)m+=y.shift()[1];return m}spacesFromEnd(y){let v,m="";for(;y.length&&(v=y[y.length-1][0],v==="space");)m=y.pop()[1]+m;return m}stringFrom(y,v){let m="";for(let g=v;g<y.length;g++)m+=y[g][1];return y.splice(v,y.length-v),m}unclosedBlock(){let y=this.current.source.start;throw this.input.error("Unclosed block",y.line,y.column)}unclosedBracket(y){throw this.input.error("Unclosed bracket",{offset:y[2]},{offset:y[2]+1})}unexpectedClose(y){throw this.input.error("Unexpected }",{offset:y[2]},{offset:y[2]+1})}unknownWord(y){throw this.input.error("Unknown word",{offset:y[0][2]},{offset:y[0][2]+y[0][1].length})}unnamedAtrule(y,v){throw this.input.error("At-rule without name",{offset:v[2]},{offset:v[2]+v[1].length})}}return tp=p,tp}var np,j_;function H0(){if(j_)return np;j_=1;let n=$s(),e=Nf(),t=Q4();function i(u,o){let l=new e(u,o),f=new t(l);try{f.parse()}catch(p){throw p}return f.root}return np=i,i.default=i,n.registerParse(i),np}var rp,F_;function jw(){if(F_)return rp;F_=1;class n{constructor(t,i={}){if(this.type="warning",this.text=t,i.node&&i.node.source){let u=i.node.rangeBy(i);this.line=u.start.line,this.column=u.start.column,this.endLine=u.end.line,this.endColumn=u.end.column}for(let u in i)this[u]=i[u]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return rp=n,n.default=n,rp}var ip,B_;function $0(){if(B_)return ip;B_=1;let n=jw();class e{constructor(i,u,o){this.processor=i,this.messages=[],this.root=u,this.opts=o,this.css=void 0,this.map=void 0}toString(){return this.css}warn(i,u={}){u.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(u.plugin=this.lastPlugin.postcssPlugin);let o=new n(i,u);return this.messages.push(o),o}warnings(){return this.messages.filter(i=>i.type==="warning")}get content(){return this.css}}return ip=e,e.default=e,ip}var sp,q_;function Fw(){if(q_)return sp;q_=1;let n=$s(),e=q0(),t=Uw(),i=H0(),u=$0(),o=$a(),l=Rf(),{isClean:f,my:p}=F0();const h={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},y={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},v={Once:!0,postcssPlugin:!0,prepare:!0},m=0;function g(D){return typeof D=="object"&&typeof D.then=="function"}function E(D){let A=!1,R=h[D.type];return D.type==="decl"?A=D.prop.toLowerCase():D.type==="atrule"&&(A=D.name.toLowerCase()),A&&D.append?[R,R+"-"+A,m,R+"Exit",R+"Exit-"+A]:A?[R,R+"-"+A,R+"Exit",R+"Exit-"+A]:D.append?[R,m,R+"Exit"]:[R,R+"Exit"]}function S(D){let A;return D.type==="document"?A=["Document",m,"DocumentExit"]:D.type==="root"?A=["Root",m,"RootExit"]:A=E(D),{eventIndex:0,events:A,iterator:0,node:D,visitorIndex:0,visitors:[]}}function I(D){return D[f]=!1,D.nodes&&D.nodes.forEach(A=>I(A)),D}let T={};class C{constructor(A,R,F){this.stringified=!1,this.processed=!1;let k;if(typeof R=="object"&&R!==null&&(R.type==="root"||R.type==="document"))k=I(R);else if(R instanceof C||R instanceof u)k=I(R.root),R.map&&(typeof F.map>"u"&&(F.map={}),F.map.inline||(F.map.inline=!1),F.map.prev=R.map);else{let P=i;F.syntax&&(P=F.syntax.parse),F.parser&&(P=F.parser),P.parse&&(P=P.parse);try{k=P(R,F)}catch(L){this.processed=!0,this.error=L}k&&!k[p]&&n.rebuild(k)}this.result=new u(A,k,F),this.helpers={...T,postcss:T,result:this.result},this.plugins=this.processor.plugins.map(P=>typeof P=="object"&&P.prepare?{...P,...P.prepare(this.result)}:P)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(A){return this.async().catch(A)}finally(A){return this.async().then(A,A)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(A,R){let F=this.result.lastPlugin;try{R&&R.addToError(A),this.error=A,A.name==="CssSyntaxError"&&!A.plugin?(A.plugin=F.postcssPlugin,A.setMessage()):F.postcssVersion}catch(k){console&&console.error&&console.error(k)}return A}prepareVisitors(){this.listeners={};let A=(R,F,k)=>{this.listeners[F]||(this.listeners[F]=[]),this.listeners[F].push([R,k])};for(let R of this.plugins)if(typeof R=="object")for(let F in R){if(!y[F]&&/^[A-Z]/.test(F))throw new Error(`Unknown event ${F} in ${R.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!v[F])if(typeof R[F]=="object")for(let k in R[F])k==="*"?A(R,F,R[F][k]):A(R,F+"-"+k.toLowerCase(),R[F][k]);else typeof R[F]=="function"&&A(R,F,R[F])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let A=0;A<this.plugins.length;A++){let R=this.plugins[A],F=this.runOnRoot(R);if(g(F))try{await F}catch(k){throw this.handleError(k)}}if(this.prepareVisitors(),this.hasListener){let A=this.result.root;for(;!A[f];){A[f]=!0;let R=[S(A)];for(;R.length>0;){let F=this.visitTick(R);if(g(F))try{await F}catch(k){let P=R[R.length-1].node;throw this.handleError(k,P)}}}if(this.listeners.OnceExit)for(let[R,F]of this.listeners.OnceExit){this.result.lastPlugin=R;try{if(A.type==="document"){let k=A.nodes.map(P=>F(P,this.helpers));await Promise.all(k)}else await F(A,this.helpers)}catch(k){throw this.handleError(k)}}}return this.processed=!0,this.stringify()}runOnRoot(A){this.result.lastPlugin=A;try{if(typeof A=="object"&&A.Once){if(this.result.root.type==="document"){let R=this.result.root.nodes.map(F=>A.Once(F,this.helpers));return g(R[0])?Promise.all(R):R}return A.Once(this.result.root,this.helpers)}else if(typeof A=="function")return A(this.result.root,this.result)}catch(R){throw this.handleError(R)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let A=this.result.opts,R=l;A.syntax&&(R=A.syntax.stringify),A.stringifier&&(R=A.stringifier),R.stringify&&(R=R.stringify);let k=new t(R,this.result.root,this.result.opts).generate();return this.result.css=k[0],this.result.map=k[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let A of this.plugins){let R=this.runOnRoot(A);if(g(R))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let A=this.result.root;for(;!A[f];)A[f]=!0,this.walkSync(A);if(this.listeners.OnceExit)if(A.type==="document")for(let R of A.nodes)this.visitSync(this.listeners.OnceExit,R);else this.visitSync(this.listeners.OnceExit,A)}return this.result}then(A,R){return this.async().then(A,R)}toString(){return this.css}visitSync(A,R){for(let[F,k]of A){this.result.lastPlugin=F;let P;try{P=k(R,this.helpers)}catch(L){throw this.handleError(L,R.proxyOf)}if(R.type!=="root"&&R.type!=="document"&&!R.parent)return!0;if(g(P))throw this.getAsyncError()}}visitTick(A){let R=A[A.length-1],{node:F,visitors:k}=R;if(F.type!=="root"&&F.type!=="document"&&!F.parent){A.pop();return}if(k.length>0&&R.visitorIndex<k.length){let[L,U]=k[R.visitorIndex];R.visitorIndex+=1,R.visitorIndex===k.length&&(R.visitors=[],R.visitorIndex=0),this.result.lastPlugin=L;try{return U(F.toProxy(),this.helpers)}catch(O){throw this.handleError(O,F)}}if(R.iterator!==0){let L=R.iterator,U;for(;U=F.nodes[F.indexes[L]];)if(F.indexes[L]+=1,!U[f]){U[f]=!0,A.push(S(U));return}R.iterator=0,delete F.indexes[L]}let P=R.events;for(;R.eventIndex<P.length;){let L=P[R.eventIndex];if(R.eventIndex+=1,L===m){F.nodes&&F.nodes.length&&(F[f]=!0,R.iterator=F.getIterator());return}else if(this.listeners[L]){R.visitors=this.listeners[L];return}}A.pop()}walkSync(A){A[f]=!0;let R=E(A);for(let F of R)if(F===m)A.nodes&&A.each(k=>{k[f]||this.walkSync(k)});else{let k=this.listeners[F];if(k&&this.visitSync(k,A.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}return C.registerPostcss=D=>{T=D},sp=C,C.default=C,o.registerLazyResult(C),e.registerLazyResult(C),sp}var up,z_;function Y4(){if(z_)return up;z_=1;let n=Uw(),e=H0();const t=$0();let i=Rf();class u{constructor(l,f,p){f=f.toString(),this.stringified=!1,this._processor=l,this._css=f,this._opts=p,this._map=void 0;let h,y=i;this.result=new t(this._processor,h,this._opts),this.result.css=f;let v=this;Object.defineProperty(this.result,"root",{get(){return v.root}});let m=new n(y,h,this._opts,f);if(m.isMap()){let[g,E]=m.generate();g&&(this.result.css=g),E&&(this.result.map=E)}else m.clearAnnotation(),this.result.css=m.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(l){return this.async().catch(l)}finally(l){return this.async().then(l,l)}sync(){if(this.error)throw this.error;return this.result}then(l,f){return this.async().then(l,f)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let l,f=e;try{l=f(this._css,this._opts)}catch(p){this.error=p}if(this.error)throw this.error;return this._root=l,l}get[Symbol.toStringTag](){return"NoWorkResult"}}return up=u,u.default=u,up}var op,H_;function X4(){if(H_)return op;H_=1;let n=q0(),e=Fw(),t=Y4(),i=$a();class u{constructor(l=[]){this.version="8.5.1",this.plugins=this.normalize(l)}normalize(l){let f=[];for(let p of l)if(p.postcss===!0?p=p():p.postcss&&(p=p.postcss),typeof p=="object"&&Array.isArray(p.plugins))f=f.concat(p.plugins);else if(typeof p=="object"&&p.postcssPlugin)f.push(p);else if(typeof p=="function")f.push(p);else if(!(typeof p=="object"&&(p.parse||p.stringify)))throw new Error(p+" is not a PostCSS plugin");return f}process(l,f={}){return!this.plugins.length&&!f.parser&&!f.stringifier&&!f.syntax?new t(this,l,f):new e(this,l,f)}use(l){return this.plugins=this.plugins.concat(this.normalize([l])),this}}return op=u,u.default=u,i.registerProcessor(u),n.registerProcessor(u),op}var ap,$_;function J4(){if($_)return ap;$_=1;var n={};let e=B0(),t=Pf(),i=$s(),u=j0(),o=kf(),l=q0(),f=G4(),p=Nf(),h=Fw(),y=Vw(),v=Cf(),m=H0(),g=X4(),E=$0(),S=$a(),I=z0(),T=Rf(),C=jw();function D(...A){return A.length===1&&Array.isArray(A[0])&&(A=A[0]),new g(A)}return D.plugin=function(R,F){let k=!1;function P(...U){console&&console.warn&&!k&&(k=!0,console.warn(R+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),n.LANG&&n.LANG.startsWith("cn")&&console.warn(R+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let O=F(...U);return O.postcssPlugin=R,O.postcssVersion=new g().version,O}let L;return Object.defineProperty(P,"postcss",{get(){return L||(L=P()),L}}),P.process=function(U,O,j){return D([P(j)]).process(U,O)},P},D.stringify=T,D.parse=m,D.fromJSON=f,D.list=y,D.comment=A=>new t(A),D.atRule=A=>new e(A),D.decl=A=>new o(A),D.rule=A=>new I(A),D.root=A=>new S(A),D.document=A=>new l(A),D.CssSyntaxError=u,D.Declaration=o,D.Container=i,D.Processor=g,D.Document=l,D.Comment=t,D.Warning=C,D.AtRule=e,D.Result=E,D.Input=p,D.Rule=I,D.Root=S,D.Node=v,h.registerPostcss(D),ap=D,D.default=D,ap}var lp,W_;function Z4(){if(W_)return lp;W_=1;const n=V4(),e=U4(),{isPlainObject:t}=j4(),i=F4(),u=q4(),{parse:o}=J4(),l=["img","audio","video","picture","svg","object","map","iframe","embed"],f=["script","style"];function p(I,T){I&&Object.keys(I).forEach(function(C){T(I[C],C)})}function h(I,T){return{}.hasOwnProperty.call(I,T)}function y(I,T){const C=[];return p(I,function(D){T(D)&&C.push(D)}),C}function v(I){for(const T in I)if(h(I,T))return!1;return!0}function m(I){return I.map(function(T){if(!T.url)throw new Error("URL missing");return T.url+(T.w?` ${T.w}w`:"")+(T.h?` ${T.h}h`:"")+(T.d?` ${T.d}x`:"")}).join(", ")}lp=E;const g=/^[^\0\t\n\f\r /<=>]+$/;function E(I,T,C){if(I==null)return"";typeof I=="number"&&(I=I.toString());let D="",A="";function R(ee,pe){const ae=this;this.tag=ee,this.attribs=pe||{},this.tagPosition=D.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(Te.length){const Re=Te[Te.length-1];Re.text+=ae.text}},this.updateParentNodeMediaChildren=function(){Te.length&&l.includes(this.tag)&&Te[Te.length-1].mediaChildren.push(this.tag)}}T=Object.assign({},E.defaults,T),T.parser=Object.assign({},S,T.parser);const F=function(ee){return T.allowedTags===!1||(T.allowedTags||[]).indexOf(ee)>-1};f.forEach(function(ee){F(ee)&&!T.allowVulnerableTags&&console.warn(`

 Your \`allowedTags\` option includes, \`${ee}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const k=T.nonTextTags||["script","style","textarea","option"];let P,L;T.allowedAttributes&&(P={},L={},p(T.allowedAttributes,function(ee,pe){P[pe]=[];const ae=[];ee.forEach(function(Re){typeof Re=="string"&&Re.indexOf("*")>=0?ae.push(e(Re).replace(/\\\*/g,".*")):P[pe].push(Re)}),ae.length&&(L[pe]=new RegExp("^("+ae.join("|")+")$"))}));const U={},O={},j={};p(T.allowedClasses,function(ee,pe){if(P&&(h(P,pe)||(P[pe]=[]),P[pe].push("class")),U[pe]=ee,Array.isArray(ee)){const ae=[];U[pe]=[],j[pe]=[],ee.forEach(function(Re){typeof Re=="string"&&Re.indexOf("*")>=0?ae.push(e(Re).replace(/\\\*/g,".*")):Re instanceof RegExp?j[pe].push(Re):U[pe].push(Re)}),ae.length&&(O[pe]=new RegExp("^("+ae.join("|")+")$"))}});const V={};let fe;p(T.transformTags,function(ee,pe){let ae;typeof ee=="function"?ae=ee:typeof ee=="string"&&(ae=E.simpleTransform(ee)),pe==="*"?fe=ae:V[pe]=ae});let J,Te,we,re,he,le,$=!1;ie();const Z=new n.Parser({onopentag:function(ee,pe){if(T.enforceHtmlBoundary&&ee==="html"&&ie(),he){le++;return}const ae=new R(ee,pe);Te.push(ae);let Re=!1;const gt=!!ae.text;let yt;if(h(V,ee)&&(yt=V[ee](ee,pe),ae.attribs=pe=yt.attribs,yt.text!==void 0&&(ae.innerText=yt.text),ee!==yt.tagName&&(ae.name=ee=yt.tagName,re[J]=yt.tagName)),fe&&(yt=fe(ee,pe),ae.attribs=pe=yt.attribs,ee!==yt.tagName&&(ae.name=ee=yt.tagName,re[J]=yt.tagName)),(!F(ee)||T.disallowedTagsMode==="recursiveEscape"&&!v(we)||T.nestingLimit!=null&&J>=T.nestingLimit)&&(Re=!0,we[J]=!0,(T.disallowedTagsMode==="discard"||T.disallowedTagsMode==="completelyDiscard")&&k.indexOf(ee)!==-1&&(he=!0,le=1),we[J]=!0),J++,Re){if(T.disallowedTagsMode==="discard"||T.disallowedTagsMode==="completelyDiscard"){if(ae.innerText&&!gt){const Xe=Ae(ae.innerText);T.textFilter?D+=T.textFilter(Xe,ee):D+=Ae(ae.innerText),$=!0}return}A=D,D=""}D+="<"+ee,ee==="script"&&(T.allowedScriptHostnames||T.allowedScriptDomains)&&(ae.innerText=""),(!P||h(P,ee)||P["*"])&&p(pe,function(Xe,Ke){if(!g.test(Ke)){delete ae.attribs[Ke];return}if(Xe===""&&!T.allowedEmptyAttributes.includes(Ke)&&(T.nonBooleanAttributes.includes(Ke)||T.nonBooleanAttributes.includes("*"))){delete ae.attribs[Ke];return}let ur=!1;if(!P||h(P,ee)&&P[ee].indexOf(Ke)!==-1||P["*"]&&P["*"].indexOf(Ke)!==-1||h(L,ee)&&L[ee].test(Ke)||L["*"]&&L["*"].test(Ke))ur=!0;else if(P&&P[ee]){for(const Me of P[ee])if(t(Me)&&Me.name&&Me.name===Ke){ur=!0;let Ve="";if(Me.multiple===!0){const gn=Xe.split(" ");for(const $t of gn)Me.values.indexOf($t)!==-1&&(Ve===""?Ve=$t:Ve+=" "+$t)}else Me.values.indexOf(Xe)>=0&&(Ve=Xe);Xe=Ve}}if(ur){if(T.allowedSchemesAppliedToAttributes.indexOf(Ke)!==-1&&Ne(ee,Xe)){delete ae.attribs[Ke];return}if(ee==="script"&&Ke==="src"){let Me=!0;try{const Ve=Le(Xe);if(T.allowedScriptHostnames||T.allowedScriptDomains){const gn=(T.allowedScriptHostnames||[]).find(function(Nt){return Nt===Ve.url.hostname}),$t=(T.allowedScriptDomains||[]).find(function(Nt){return Ve.url.hostname===Nt||Ve.url.hostname.endsWith(`.${Nt}`)});Me=gn||$t}}catch{Me=!1}if(!Me){delete ae.attribs[Ke];return}}if(ee==="iframe"&&Ke==="src"){let Me=!0;try{const Ve=Le(Xe);if(Ve.isRelativeUrl)Me=h(T,"allowIframeRelativeUrls")?T.allowIframeRelativeUrls:!T.allowedIframeHostnames&&!T.allowedIframeDomains;else if(T.allowedIframeHostnames||T.allowedIframeDomains){const gn=(T.allowedIframeHostnames||[]).find(function(Nt){return Nt===Ve.url.hostname}),$t=(T.allowedIframeDomains||[]).find(function(Nt){return Ve.url.hostname===Nt||Ve.url.hostname.endsWith(`.${Nt}`)});Me=gn||$t}}catch{Me=!1}if(!Me){delete ae.attribs[Ke];return}}if(Ke==="srcset")try{let Me=u(Xe);if(Me.forEach(function(Ve){Ne("srcset",Ve.url)&&(Ve.evil=!0)}),Me=y(Me,function(Ve){return!Ve.evil}),Me.length)Xe=m(y(Me,function(Ve){return!Ve.evil})),ae.attribs[Ke]=Xe;else{delete ae.attribs[Ke];return}}catch{delete ae.attribs[Ke];return}if(Ke==="class"){const Me=U[ee],Ve=U["*"],gn=O[ee],$t=j[ee],Nt=j["*"],rs=O["*"],pt=[gn,rs].concat($t,Nt).filter(function(_t){return _t});if(Me&&Ve?Xe=ct(Xe,i(Me,Ve),pt):Xe=ct(Xe,Me||Ve,pt),!Xe.length){delete ae.attribs[Ke];return}}if(Ke==="style"){if(T.parseStyleAttributes)try{const Me=o(ee+" {"+Xe+"}",{map:!1}),Ve=Fe(Me,T.allowedStyles);if(Xe=ze(Ve),Xe.length===0){delete ae.attribs[Ke];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+ee+" {"+Xe+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete ae.attribs[Ke];return}else if(T.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}D+=" "+Ke,Xe&&Xe.length?D+='="'+Ae(Xe,!0)+'"':T.allowedEmptyAttributes.includes(Ke)&&(D+='=""')}else delete ae.attribs[Ke]}),T.selfClosing.indexOf(ee)!==-1?D+=" />":(D+=">",ae.innerText&&!gt&&!T.textFilter&&(D+=Ae(ae.innerText),$=!0)),Re&&(D=A+Ae(D),A="")},ontext:function(ee){if(he)return;const pe=Te[Te.length-1];let ae;if(pe&&(ae=pe.tag,ee=pe.innerText!==void 0?pe.innerText:ee),T.disallowedTagsMode==="completelyDiscard"&&!F(ae))ee="";else if((T.disallowedTagsMode==="discard"||T.disallowedTagsMode==="completelyDiscard")&&(ae==="script"||ae==="style"))D+=ee;else{const Re=Ae(ee,!1);T.textFilter&&!$?D+=T.textFilter(Re,ae):$||(D+=Re)}if(Te.length){const Re=Te[Te.length-1];Re.text+=ee}},onclosetag:function(ee,pe){if(he)if(le--,!le)he=!1;else return;const ae=Te.pop();if(!ae)return;if(ae.tag!==ee){Te.push(ae);return}he=T.enforceHtmlBoundary?ee==="html":!1,J--;const Re=we[J];if(Re){if(delete we[J],T.disallowedTagsMode==="discard"||T.disallowedTagsMode==="completelyDiscard"){ae.updateParentNodeText();return}A=D,D=""}if(re[J]&&(ee=re[J],delete re[J]),T.exclusiveFilter&&T.exclusiveFilter(ae)){D=D.substr(0,ae.tagPosition);return}if(ae.updateParentNodeMediaChildren(),ae.updateParentNodeText(),T.selfClosing.indexOf(ee)!==-1||pe&&!F(ee)&&["escape","recursiveEscape"].indexOf(T.disallowedTagsMode)>=0){Re&&(D=A,A="");return}D+="</"+ee+">",Re&&(D=A+Ae(D),A=""),$=!1}},T.parser);return Z.write(I),Z.end(),D;function ie(){D="",J=0,Te=[],we={},re={},he=!1,le=0}function Ae(ee,pe){return typeof ee!="string"&&(ee=ee+""),T.parser.decodeEntities&&(ee=ee.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),pe&&(ee=ee.replace(/"/g,"&quot;"))),ee=ee.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),pe&&(ee=ee.replace(/"/g,"&quot;")),ee}function Ne(ee,pe){for(pe=pe.replace(/[\x00-\x20]+/g,"");;){const gt=pe.indexOf("<!--");if(gt===-1)break;const yt=pe.indexOf("-->",gt+4);if(yt===-1)break;pe=pe.substring(0,gt)+pe.substring(yt+3)}const ae=pe.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!ae)return pe.match(/^[/\\]{2}/)?!T.allowProtocolRelative:!1;const Re=ae[1].toLowerCase();return h(T.allowedSchemesByTag,ee)?T.allowedSchemesByTag[ee].indexOf(Re)===-1:!T.allowedSchemes||T.allowedSchemes.indexOf(Re)===-1}function Le(ee){if(ee=ee.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),ee.startsWith("relative:"))throw new Error("relative: exploit attempt");let pe="relative://relative-site";for(let gt=0;gt<100;gt++)pe+=`/${gt}`;const ae=new URL(ee,pe);return{isRelativeUrl:ae&&ae.hostname==="relative-site"&&ae.protocol==="relative:",url:ae}}function Fe(ee,pe){if(!pe)return ee;const ae=ee.nodes[0];let Re;return pe[ae.selector]&&pe["*"]?Re=i(pe[ae.selector],pe["*"]):Re=pe[ae.selector]||pe["*"],Re&&(ee.nodes[0].nodes=ae.nodes.reduce(Je(Re),[])),ee}function ze(ee){return ee.nodes[0].nodes.reduce(function(pe,ae){return pe.push(`${ae.prop}:${ae.value}${ae.important?" !important":""}`),pe},[]).join(";")}function Je(ee){return function(pe,ae){return h(ee,ae.prop)&&ee[ae.prop].some(function(gt){return gt.test(ae.value)})&&pe.push(ae),pe}}function ct(ee,pe,ae){return pe?(ee=ee.split(/\s+/),ee.filter(function(Re){return pe.indexOf(Re)!==-1||ae.some(function(gt){return gt.test(Re)})}).join(" ")):ee}}const S={decodeEntities:!0};return E.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0},E.simpleTransform=function(I,T,C){return C=C===void 0?!0:C,T=T||{},function(D,A){let R;if(C)for(R in T)A[R]=T[R];else A=T;return{tagName:I,attribs:A}}},lp}var eC=Z4();const G_=jp(eC),tC="_h3_wjka9_1",nC="_editableTitle_wjka9_9",rC="_editable_wjka9_9",K_={h3:tC,editableTitle:nC,editable:rC};class Bw extends Xb.Component{constructor(t){super(t);Ci(this,"handleKeyDown",t=>{t.key==="Enter"&&(t.preventDefault(),document.execCommand("insertHTML",!1,"<br><br>"))});Ci(this,"handleChange",t=>{const i=G_(t.target.value,this.sanitizeConf);this.setState({html:i}),this.props.onChange(i)});Ci(this,"handleFontSizeChange",t=>{const u=window.getSelection().getRangeAt(0),o=document.createElement("span");o.style.fontSize=t,u.surroundContents(o)});Ci(this,"sanitizeConf",{allowedTags:["b","i","em","strong","a","p","h1","h2","h3","li","ul","br"],allowedAttributes:{a:["href"]}});Ci(this,"sanitize",()=>{this.setState({html:G_(this.state.html,this.sanitizeConf)})});Ci(this,"toggleEditable",()=>{this.setState({editable:!this.state.editable})});Ci(this,"render",()=>q.jsxs("div",{children:[q.jsx("h3",{className:K_.editableTitle,children:"Book Review"}),q.jsx(bc,{cmd:"italic"}),q.jsx(bc,{cmd:"bold"}),q.jsx(bc,{cmd:"formatBlock",arg:"h3",name:"Title"}),q.jsx(bc,{cmd:"formatBlock",arg:"p",name:"Paragraph"}),q.jsx("p",{children:"Click on Cntrl + Enter to write on a new line"}),q.jsx(x4,{className:K_.editable,tagName:"div",html:this.props.value,disabled:!1,onChange:this.handleChange,onBlur:this.sanitize,onKeyDown:this.handleKeyDown})]}));this.state={html:t.value||"",editable:!0}}}function bc(n){return q.jsx("button",{type:"button",onMouseDown:e=>{e.preventDefault(),document.execCommand(n.cmd,!1,n.arg)},children:n.name||n.cmd},n.cmd)}const iC=()=>{const[n,e]=W.useState(""),[t,i]=W.useState(""),[u,o]=W.useState(""),[l,f]=W.useState(""),[p,h]=W.useState(""),[y,v]=W.useState(""),{insertDocument:m,response:g}=v4("posts"),E=Ra(),S=W.useRef(l),{user:I}=za(),T=C=>{C.preventDefault(),v("");try{new URL(u)}catch{v("Please insert an URL in the image field.")}const D=p.split(",").map(A=>A.trim().toLowerCase());y||((!n||!u||!p||!l)&&v("Please fill all the fields"),m({bookTitle:n,image:u,author:t,body:l,tagsArray:D,uid:I.uid,createdBy:I.displayName}),E("/home"))};return qa(),q.jsx("div",{className:g4.createPost,children:q.jsxs("form",{onSubmit:T,children:[q.jsx("h1",{children:"Create a Book Review"}),q.jsx("p",{children:"Write about your thoughts about a book! Share what your learned from it, what you most liked about the book or even you favorite character."}),q.jsxs("label",{children:[q.jsx("span",{children:"Title"}),q.jsx("input",{type:"text",name:"booktitle",required:!0,placeholder:"Book's title",onChange:C=>e(C.target.value),value:n})]}),q.jsxs("label",{children:[q.jsx("span",{children:"Author"}),q.jsx("input",{type:"text",name:"author",required:!0,placeholder:"Book's Author ",onChange:C=>i(C.target.value),value:t})]}),q.jsxs("label",{children:[q.jsx("span",{children:"URL"}),q.jsx("input",{type:"text",name:"image",required:!0,placeholder:"Insert an URL of an image that represents your book review",onChange:C=>o(C.target.value),value:u})]}),q.jsx(Bw,{value:l,onChange:C=>{f(C),S.current=C}}),q.jsxs("label",{children:[q.jsx("span",{children:"Tags"}),q.jsx("input",{type:"text",name:"tags",required:!0,placeholder:"Write your tags, separeted by commas",onChange:C=>h(C.target.value),value:p})]}),!g.loading&&q.jsx("button",{className:"btn",children:"Post"}),g.loading&&q.jsx("button",{className:"btn",disabled:!0,children:"Wait..."}),g.error&&q.jsx("p",{className:"error",children:error}),y&&q.jsx("p",{className:"error",children:y})]})})},sC="_search_rv6fi_1",uC="_search_results_rv6fi_15",Q_={search:sC,search_results:uC};function oC(){const{search:n}=ni();return W.useMemo(()=>new URLSearchParams(n),[n])}const aC=()=>{const e=oC().get("q"),{documents:t}=U0("posts",e);return q.jsxs("div",{className:Q_.search,children:[q.jsx("h2",{children:"Search"}),q.jsxs("p",{children:["Searched tags:",e]}),q.jsxs("div",{className:Q_.search_results,children:[t&&t.map(i=>q.jsx(Pw,{post:i},i.id)),t&&t.length===0&&q.jsx("p",{children:"There is no book review with the searched tag"})]})]})},lC="_review_1abi6_1",cC="_tags_1abi6_41",fC="_basicInfo_1abi6_51",dC="_reviewInfo_1abi6_63",Ec={review:lC,tags:cC,basicInfo:fC,reviewInfo:dC},qw=(n,e)=>{const[t,i]=W.useState(null),[u,o]=W.useState(null),[l,f]=W.useState(!0);return W.useEffect(()=>{(async()=>{try{const h=Tf(Ba,n,e),y=await AR(h);y.exists()?i(y.data()):o("Document not found")}catch(h){o(h.message)}finally{f(!1)}})()},[n,e]),{document:t,loading:l,error:u}},hC=()=>{const{id:n}=iv(),{document:e}=qw("posts",n);return console.log("HOOK CHAMADO",e,n),q.jsx("div",{className:Ec.review,children:e&&q.jsxs("div",{children:[q.jsxs("div",{className:Ec.basicInfo,children:[q.jsx("img",{src:e.image,alt:""}),q.jsxs("div",{className:Ec.reviewInfo,children:[q.jsx("h2",{children:e.bookTitle}),q.jsxs("p",{children:[q.jsx("b",{children:"Author:"}),e.author]}),q.jsxs("p",{children:[" ",q.jsx("b",{children:"Review by "}),e.createdBy]})]})]}),q.jsx("div",{dangerouslySetInnerHTML:{__html:e.body}}),q.jsx("div",{className:Ec.tags,children:e.tagsArray.map(t=>q.jsxs("p",{children:[q.jsx("b",{children:" #"}),t]},t))})]})})},pC="_formatBtn_mt0ug_1",mC={formatBtn:pC},gC={loading:null,error:null},yC=(n,e)=>{switch(e.type){case"LOADING":return{loading:!0,error:null};case"UPDATE_DOC":return{loading:!1,error:null};case"ERROR":return{loading:!1,error:e.payload};default:return n}},_C=n=>{const[e,t]=W.useReducer(yC,gC),[i,u]=W.useState(!1),o=f=>{i||t(f)},l=async(f,p)=>{o({type:"LOADING"});try{const h=await Tf(Ba,n,f),y=await RR(h,p);o({type:"UPDATE_DOC",payload:y})}catch(h){console.log("ERROR",h),o({type:"ERROR",payload:h.message})}};return W.useEffect(()=>()=>u(!0),[]),{updateDocument:l,response:e}},vC=()=>{const{id:n}=iv(),{document:e}=qw("posts",n),{user:t}=za(),[i,u]=W.useState(""),[o,l]=W.useState(""),[f,p]=W.useState(""),[h,y]=W.useState(""),[v,m]=W.useState(""),[g,E]=W.useState(""),{updateDocument:S,response:I}=_C("posts"),T=Ra();W.useRef(null);const C=W.useRef(h);W.useEffect(()=>{e&&(u(e.bookTitle||""),l(e.author||""),p(e.image||""),y(e.body||""),m(e.tagsArray?e.tagsArray.join(", "):""))},[e]);const D=A=>{if(A.preventDefault(),E(""),y(C.current),!i||!f||!v||!h){E("Please fill all the fields");return}try{new URL(f)}catch{E("Please insert a valid URL in the image field.");return}const R=v.split(",").map(k=>k.trim().toLowerCase()),F={bookTitle:i,author:o,image:f,body:C.current,tagsArray:R,uid:t.uid,createdBy:t.displayName};S(n,F),T("/dashboard")};return e?t.uid!==e.uid?q.jsx("p",{children:"Sorry, you can't edit this post because you are not the author."}):q.jsx("div",{className:mC.createPost,children:q.jsxs("form",{onSubmit:D,children:[q.jsxs("h1",{children:["Editing Book Review: ",e.bookTitle]}),q.jsx("p",{children:"Edit your book review"}),q.jsxs("label",{children:[q.jsx("span",{children:"Title"}),q.jsx("input",{type:"text",required:!0,placeholder:"Book's title",onChange:A=>u(A.target.value),value:i})]}),q.jsxs("label",{children:[q.jsx("span",{children:"Author"}),q.jsx("input",{type:"text",required:!0,placeholder:"Book's Author",onChange:A=>l(A.target.value),value:o})]}),q.jsxs("label",{children:[q.jsx("span",{children:"Image URL"}),q.jsx("input",{type:"text",required:!0,placeholder:"Insert an image URL",onChange:A=>p(A.target.value),value:f})]}),q.jsxs("label",{children:[q.jsx("span",{children:"Tags"}),q.jsx("input",{type:"text",required:!0,placeholder:"Write your tags separated by commas",onChange:A=>m(A.target.value),value:v})]}),q.jsx(Bw,{value:h,onChange:A=>{y(A),C.current=A}}),!I.loading&&q.jsx("button",{className:"btn",children:"Update post"}),I.loading&&q.jsx("button",{className:"btn",disabled:!0,children:"Wait..."}),I.error&&q.jsx("p",{className:"error",children:I.error}),g&&q.jsx("p",{className:"error",children:g}),console.log("BODY NBEING SENT",h)]})}):q.jsx("p",{children:"Loading..."})},wC="_navbar_1xmba_1",bC="_brand_1xmba_31",EC="_logo_1xmba_65",TC="_links_list_1xmba_75",SC="_active_1xmba_117",vr={navbar:wC,brand:bC,logo:EC,links_list:TC,active:SC},IC="/vite_react_bookBlog/assets/bookLogo-DBmyFnya.svg",xC=()=>{const{user:n}=za(),{logout:e}=qa();return q.jsxs("nav",{className:vr.navbar,children:[q.jsxs(Oi,{to:"/",className:vr.brand,children:[q.jsx("img",{src:IC,alt:"Logo",className:vr.logo}),q.jsxs("p",{children:[q.jsx("span",{children:"Book"})," Blog"]})]}),q.jsxs("ul",{className:vr.links_list,children:[q.jsx("li",{children:q.jsx(Oi,{to:"/home",className:({isActive:t})=>t?vr.active:"",children:"Home"})}),q.jsx("li",{children:q.jsx(Oi,{to:"/about",className:({isActive:t})=>t?vr.active:"",children:"About"})}),!n&&q.jsxs(q.Fragment,{children:[q.jsx("li",{children:q.jsx(Oi,{to:"/register",className:({isActive:t})=>t?vr.active:"",children:"Register"})}),q.jsx("li",{children:q.jsx(Oi,{to:"/login",className:({isActive:t})=>t?vr.active:"",children:"Login"})})]}),n&&q.jsxs(q.Fragment,{children:[q.jsx("li",{children:q.jsx(Oi,{to:"/posts/create",className:({isActive:t})=>t?vr.active:"",children:"Create Post"})}),q.jsx("li",{children:q.jsx(Oi,{to:"/dashboard",className:({isActive:t})=>t?vr.active:"",children:"Dashboard"})})]}),n&&q.jsx("li",{children:q.jsx("button",{onClick:e,children:"Log Out"})})]})]})},AC="_footer_1wymx_1",RC="_p_1wymx_17",CC={footer:AC,p:RC},PC=()=>q.jsxs("div",{className:CC.footer,children:[q.jsx("p",{children:"Blog created while studying React.js "}),q.jsx("p",{children:"By Yumi Murata"})]});function kC(){const[n,e]=W.useState("NO_USER"),{auth:t}=qa(),i=n=="NO_USER";return W.useEffect(()=>{uI(t,u=>{e(u),console.log("ON AUTH USER",u)})},[t]),i?q.jsx("p",{children:"Carregando..."}):q.jsx("div",{className:"App",children:q.jsx(DR,{value:{user:n},children:q.jsxs(gT,{children:[q.jsx(xC,{}),q.jsx("div",{className:"container",children:q.jsxs(WE,{children:[q.jsx(Ln,{path:"/",element:q.jsx(N1,{})}),q.jsx(Ln,{path:"/home",element:q.jsx(N1,{})}),q.jsx(Ln,{path:"/about",element:q.jsx(QR,{})}),q.jsx(Ln,{path:"/search",element:q.jsx(aC,{})}),q.jsx(Ln,{path:"/posts/:id",element:q.jsx(hC,{})}),q.jsx(Ln,{path:"/login",element:n?q.jsx(Du,{to:"/"}):q.jsx(JR,{})}),q.jsx(Ln,{path:"/register",element:n?q.jsx(Du,{to:"/"}):q.jsx(t4,{})}),q.jsx(Ln,{path:"/posts/create",element:n?q.jsx(iC,{}):q.jsx(Du,{to:"/"})}),q.jsx(Ln,{path:"/dashboard",element:n?q.jsx(O1,{}):q.jsx(Du,{to:"/"})}),q.jsx(Ln,{path:"/logout",element:n?q.jsx(O1,{}):q.jsx(Du,{to:"/"})}),q.jsx(Ln,{path:"/posts/edit/:id",element:n?q.jsx(vC,{}):q.jsx(Du,{to:"/"})})]})}),q.jsx(PC,{})]})})})}nE.createRoot(document.getElementById("root")).render(q.jsx(kC,{}));
